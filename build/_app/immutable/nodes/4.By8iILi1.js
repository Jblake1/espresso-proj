import{t as G,a as T,d as Ge,c as je}from"../chunks/BAqy36Cs.js";import{i as Ze}from"../chunks/82PtP3hU.js";import{A as We,ad as lt,aK as dt,aL as ct,e as vt,u as ut,aM as ft,aN as mt,aO as gt,aP as pt,q as yt,ag as Ae,ay as Ue,az as Ve,aA as _t,T as Je,aQ as B,aw as ht,aR as de,Z as te,a5 as me,a2 as A,aS as He,V as l,X as i,_ as ge,k as d,U as Me,aT as R,s as w,f as pe,a as bt,W as ze,a3 as Be}from"../chunks/xMGjtuDS.js";import{a as wt,w as jt,e as V,d as $e,r as xt,s as ce}from"../chunks/BihhDYK3.js";import{l as et,b as m,c as tt,s as rt,a as xe,p as Oe,r as Ct}from"../chunks/D6qpmcv_.js";import{e as at,i as ot,b as kt}from"../chunks/qlyr-8WR.js";import{b as De,s as q,c as Ee,h as Re,r as qe,A as It}from"../chunks/hTe_yuke.js";import{c as Dt,o as Tt}from"../chunks/M1NWxFb_.js";import"../chunks/ZDaUG3jj.js";import{a as Te,p as St,b as Pt}from"../chunks/CEeAeIH2.js";import{b as Fe}from"../chunks/CO2oLOIg.js";const At=()=>performance.now(),ve={tick:n=>requestAnimationFrame(n),now:()=>At(),tasks:new Set};function nt(){const n=ve.now();ve.tasks.forEach(e=>{e.c(n)||(ve.tasks.delete(e),e.f())}),ve.tasks.size!==0&&ve.tick(nt)}function Ot(n){let e;return ve.tasks.size===0&&ve.tick(nt),{promise:new Promise(s=>{ve.tasks.add(e={c:n,f:s})}),abort(){ve.tasks.delete(e)}}}function Ne(n,e){jt(()=>{n.dispatchEvent(new CustomEvent(e))})}function Et(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function Ke(n){const e={},s=n.split(";");for(const t of s){const[p,v]=t.split(":");if(!p||v===void 0)break;const k=Et(p.trim());e[k]=v.trim()}return e}const Ft=n=>n;function Qe(n,e,s,t){var p=(n&mt)!==0,v=(n&gt)!==0,k=p&&v,j=(n&ft)!==0,F=k?"both":p?"in":"out",C,y=e.inert,L=e.style.overflow,x,b;function P(){var o=_t,S=We;Ue(null),Ve(null);try{return C??(C=s()(e,(t==null?void 0:t())??{},{direction:F}))}finally{Ue(o),Ve(S)}}var _={is_global:j,in(){var o;if(e.inert=y,!p){b==null||b.abort(),(o=b==null?void 0:b.reset)==null||o.call(b);return}v||x==null||x.abort(),Ne(e,"introstart"),x=Le(e,P(),b,1,()=>{Ne(e,"introend"),x==null||x.abort(),x=C=void 0,e.style.overflow=L})},out(o){if(!v){o==null||o(),C=void 0;return}e.inert=!0,Ne(e,"outrostart"),b=Le(e,P(),x,0,()=>{Ne(e,"outroend"),o==null||o()})},stop:()=>{x==null||x.abort(),b==null||b.abort()}},h=We;if((h.transitions??(h.transitions=[])).push(_),p&&wt){var a=j;if(!a){for(var r=h.parent;r&&r.f&lt;)for(;(r=r.parent)&&!(r.f&dt););a=!r||(r.f&ct)!==0}a&&vt(()=>{ut(()=>_.in())})}}function Le(n,e,s,t,p){var v=t===1;if(pt(e)){var k,j=!1;return yt(()=>{if(!j){var h=e({direction:v?"in":"out"});k=Le(n,h,s,t,p)}}),{abort:()=>{j=!0,k==null||k.abort()},deactivate:()=>k.deactivate(),reset:()=>k.reset(),t:()=>k.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return p(),{abort:Ae,deactivate:Ae,reset:Ae,t:()=>t};const{delay:F=0,css:C,tick:y,easing:L=Ft}=e;var x=[];if(v&&s===void 0&&(y&&y(0,1),C)){var b=Ke(C(0,1));x.push(b,b)}var P=()=>1-t,_=n.animate(x,{duration:F});return _.onfinish=()=>{var h=(s==null?void 0:s.t())??1-t;s==null||s.abort();var a=t-h,r=e.duration*Math.abs(a),o=[];if(r>0){var S=!1;if(C)for(var u=Math.ceil(r/16.666666666666668),I=0;I<=u;I+=1){var K=h+a*L(I/u),z=Ke(C(K,1-K));o.push(z),S||(S=z.overflow==="hidden")}S&&(n.style.overflow="hidden"),P=()=>{var O=_.currentTime;return h+a*L(O/r)},y&&Ot(()=>{if(_.playState!=="running")return!1;var O=P();return y(O,1-O),!0})}_=n.animate(o,{duration:r,fill:"forwards"}),_.onfinish=()=>{P=()=>t,y==null||y(t,1-t),p()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Ae)},deactivate:()=>{p=Ae},reset:()=>{t===0&&(y==null||y(1,0))},t:()=>P()}}function Nt(n){const e=n-1;return e*e*e+1}function Xe(n,{delay:e=0,duration:s=400,easing:t=Nt,axis:p="y"}={}){const v=getComputedStyle(n),k=+v.opacity,j=p==="y"?"height":"width",F=parseFloat(v[j]),C=p==="y"?["top","bottom"]:["left","right"],y=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),L=parseFloat(v[`padding${y[0]}`]),x=parseFloat(v[`padding${y[1]}`]),b=parseFloat(v[`margin${y[0]}`]),P=parseFloat(v[`margin${y[1]}`]),_=parseFloat(v[`border${y[0]}Width`]),h=parseFloat(v[`border${y[1]}Width`]);return{delay:e,duration:s,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*k};${j}: ${a*F}px;padding-${C[0]}: ${a*L}px;padding-${C[1]}: ${a*x}px;margin-${C[0]}: ${a*b}px;margin-${C[1]}: ${a*P}px;border-${C[0]}-width: ${a*_}px;border-${C[1]}-width: ${a*h}px;min-${j}: 0`}}var Jt=G('<div data-testid="accordion"><!></div>');function Mt(n,e){const s=et(e,["children","$$slots","$$events","$$legacy"]);Je(e,!1);const[t,p]=rt(),v=()=>tt(St,"$prefersReducedMotionStore",t),k=me();let j=m(e,"autocollapse",8,!1),F=m(e,"width",8,"w-full"),C=m(e,"spacing",8,"space-y-1"),y=m(e,"disabled",8,!1),L=m(e,"padding",8,"py-2 px-4"),x=m(e,"hover",8,"hover:bg-primary-hover-token"),b=m(e,"rounded",8,"rounded-container-token"),P=m(e,"caretOpen",8,"rotate-180"),_=m(e,"caretClosed",8,""),h=m(e,"regionControl",8,""),a=m(e,"regionPanel",8,"space-y-4"),r=m(e,"regionCaret",8,""),o=m(e,"transitions",24,()=>!v()),S=m(e,"transitionIn",8,Xe),u=m(e,"transitionInParams",24,()=>({duration:200})),I=m(e,"transitionOut",8,Xe),K=m(e,"transitionOutParams",24,()=>({duration:200}));const z=ht(null);B("active",z),B("autocollapse",j()),B("disabled",y()),B("padding",L()),B("hover",x()),B("rounded",b()),B("caretOpen",P()),B("caretClosed",_()),B("regionControl",h()),B("regionPanel",a()),B("regionCaret",r()),B("transitions",o()),B("transitionIn",S()),B("transitionInParams",u()),B("transitionOut",I()),B("transitionOutParams",K()),de(()=>(A(F()),A(C()),A(s)),()=>{te(k,`${F()} ${C()} ${s.class??""}`)}),He(),Ze();var O=Jt(),X=l(O);Te(X,e,"default",{},null),i(O),ge(()=>De(O,`accordion ${d(k)??""}`)),T(n,O),Me(),p()}function Ye(n,e){const{transition:s,params:t,enabled:p}=e;return p?s(n,t):"duration"in t?s(n,{duration:0}):{duration:0}}var zt=G('<div class="accordion-lead"><!></div>'),Bt=G("<div><!></div>"),Rt=G("<div><!></div>"),qt=G('<div role="region"><!></div>'),Lt=G('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function Gt(n,e){const s=Pt(e),t=et(e,["children","$$slots","$$events","$$legacy"]);Je(e,!1);const[p,v]=rt(),k=()=>tt(I(),"$active",p),j=me(),F=me(),C=me(),y=me(),L=me(),x=me(),b=me(),P=Dt();let _=m(e,"open",12,!1),h=m(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",S="";let u=m(e,"autocollapse",24,()=>R("autocollapse")),I=m(e,"active",24,()=>R("active")),K=m(e,"disabled",24,()=>R("disabled")),z=m(e,"padding",24,()=>R("padding")),O=m(e,"hover",24,()=>R("hover")),X=m(e,"rounded",24,()=>R("rounded")),ue=m(e,"caretOpen",24,()=>R("caretOpen")),ye=m(e,"caretClosed",24,()=>R("caretClosed")),re=m(e,"regionControl",24,()=>R("regionControl")),_e=m(e,"regionPanel",24,()=>R("regionPanel")),ae=m(e,"regionCaret",24,()=>R("regionCaret")),c=m(e,"transitions",24,()=>R("transitions")),D=m(e,"transitionIn",24,()=>R("transitionIn")),Z=m(e,"transitionInParams",24,()=>R("transitionInParams")),Ce=m(e,"transitionOut",24,()=>R("transitionOut")),oe=m(e,"transitionOutParams",24,()=>R("transitionOutParams"));const W=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function H(f){u()===!0?I().set(h()):_(!_()),Se(f)}function Se(f){const g=u()?k()===h():_();P("toggle",{event:f,id:h(),panelId:`accordion-panel-${h()}`,open:g,autocollapse:u()})}u()&&_()&&H(),de(()=>(A(_()),A(u())),()=>{_()&&u()&&H()}),de(()=>(A(u()),k(),A(h()),A(_())),()=>{te(j,u()?k()===h():_())}),de(()=>A(t),()=>{te(F,`${a} ${t.class??""}`)}),de(()=>(A(z()),A(O()),A(X()),A(re())),()=>{te(C,`${r} ${z()} ${O()} ${X()} ${re()}`)}),de(()=>(d(j),A(ue()),A(ye())),()=>{te(y,d(j)?ue():ye())}),de(()=>(A(ae()),d(y)),()=>{te(L,`${o} ${ae()} ${d(y)}`)}),de(()=>A(ae()),()=>{te(x,`${o} ${ae()}`)}),de(()=>(A(z()),A(X()),A(_e())),()=>{te(b,`${S} ${z()} ${X()} ${_e()}`)}),He(),Ze();var Q=Lt(),E=l(Q),ne=l(E);{var U=f=>{var g=zt(),Y=l(g);Te(Y,e,"lead",{},null),i(g),T(f,g)};xe(ne,f=>{s.lead&&f(U)})}var ie=w(ne,2),se=l(ie);Te(se,e,"summary",{},f=>{var g=Ge("(summary)");T(f,g)}),i(ie);var $=w(ie,2);{var he=f=>{var g=Bt(),Y=l(g);{var le=ee=>{var we=je(),ke=pe(we);Te(ke,e,"iconClosed",{},Pe=>{var fe=je(),Ie=pe(fe);Re(Ie,()=>W),T(Pe,fe)}),T(ee,we)},be=ee=>{var we=je(),ke=pe(we);Te(ke,e,"iconOpen",{},Pe=>{var fe=je(),Ie=pe(fe);Re(Ie,()=>W),T(Pe,fe)}),T(ee,we)};xe(Y,ee=>{d(j)?ee(le):ee(be,!1)})}i(g),ge(()=>De(g,`accordion-summary-icons ${d(x)??""}`)),T(f,g)},J=f=>{var g=Rt(),Y=l(g);Re(Y,()=>W),i(g),ge(()=>De(g,`accordion-summary-caret ${d(L)??""}`)),T(f,g)};xe($,f=>{s.iconClosed||s.iconOpen?f(he):f(J,!1)})}i(E);var M=w(E,2);{var N=f=>{var g=qt(),Y=l(g);Te(Y,e,"content",{},le=>{var be=Ge("(content)");T(le,be)}),i(g),ge(()=>{De(g,`accordion-panel ${d(b)??""}`),q(g,"id",`accordion-panel-${h()??""}`),q(g,"aria-hidden",!d(j)),q(g,"aria-labelledby",h())}),Qe(1,g,()=>Ye,()=>({transition:D(),params:Z(),enabled:c()})),Qe(2,g,()=>Ye,()=>({transition:Ce(),params:oe(),enabled:c()})),T(f,g)};xe(M,f=>{d(j)&&f(N)})}i(Q),ge(()=>{De(Q,`accordion-item ${d(F)??""}`),De(E,`accordion-control ${d(C)??""}`),q(E,"id",h()),q(E,"aria-expanded",d(j)),q(E,"aria-controls",`accordion-panel-${h()??""}`),E.disabled=K()}),V("click",E,H),V("click",E,function(f){Ee.call(this,e,f)}),V("keydown",E,function(f){Ee.call(this,e,f)}),V("keyup",E,function(f){Ee.call(this,e,f)}),V("keypress",E,function(f){Ee.call(this,e,f)}),T(n,Q),Me(),v()}const Wt=async(n,e,s,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:s.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(s.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Ut=G('<div class="snap-start shrink-0 relative sm:w-64 md:w-70 lg:w-80"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Vt=G('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Kt(n,e){Je(e,!0);let s=Ct(e,["$$slots","$$events","$$legacy"]),t=Oe([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=Oe({}),v=Oe({});const k=async(a,r)=>{p[a]||(p[a]=!0),await L(a)},j=(a,r)=>{v[a]||(v[a]={}),v[a][r]=t[a][r],t[a][r]=""},F=(a,r)=>{var u;const o=t[a][r],S=(u=v[a])==null?void 0:u[r];(o===""||o===null)&&S!==void 0&&(t[a][r]=S),k(a),v[a]&&(delete v[a][r],Object.keys(v[a]).length===0&&delete v[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&y(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},y=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const S=o.journeyCards;console.log("JourneyCardsData:",S);for(let u=0;u<t.length;u++)t[u]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};S.forEach((u,I)=>{I<t.length&&(t[I].cardID=u.id,t[I].datePosted=u.datePosted,t[I].iteration=u.iteration,t[I].notes=u.notes,t[I].grindSetting=u.grindSetting,t[I].shotTime=u.shotTime,t[I].journeyID=e.journeyData.journeyID,t[I].grindAmount=u.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},L=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function x(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),S=r.getDate().toString().padStart(2,"0"),u=r.getFullYear().toString().slice(-2);return`${o}/${S}/${u}`}bt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&y(e.journeyData.journeyID)});var b=Vt(),P=l(b),_=l(P);_.__click=[Wt,s,e,y],i(P);var h=w(P,2);at(h,21,()=>t,ot,(a,r,o)=>{var S=je(),u=pe(S);{var I=K=>{var z=Ut(),O=l(z);O.__click=()=>C(d(r).cardID,o);var X=w(O,2),ue=l(X),ye=l(ue),re=l(ye),_e=l(re);i(re);var ae=w(re,2),c=l(ae,!0);i(ae),i(ye),i(ue);var D=w(ue,2),Z=l(D);q(Z,"for",`grindSetting${o+1}`);var Ce=w(Z,2),oe=w(l(Ce),2);qe(oe),q(oe,"id",`grindSetting${o+1}`),i(Ce),i(D);var W=w(D,2),H=l(W);q(H,"for",`grindAmount${o+1}`);var Se=w(H,2),Q=w(l(Se),2);qe(Q),q(Q,"id",`grindAmount${o+1}`),i(Se),i(W);var E=w(W,2),ne=l(E);q(ne,"for",`shotTime${o+1}`);var U=l(ne,!0);i(ne);var ie=w(ne,2),se=w(l(ie),2);qe(se),q(se,"id",`shotTime${o+1}`),i(ie),i(E);var $=w(E,2),he=l($);q(he,"for",`notes${o+1}`);var J=w(he,2),M=w(l(J),2);xt(M),q(M,"id",`notes${o+1}`),i(J),i($),i(X),i(z),ge((N,f)=>{ce(_e,`Iteration #${d(r).iteration??""}`),ce(c,N),ce(U,f)},[()=>x(d(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),V("focus",oe,()=>j(o,"grindSetting")),V("blur",oe,()=>F(o,"grindSetting")),Fe(oe,()=>d(r).grindSetting,N=>d(r).grindSetting=N),V("focus",Q,()=>j(o,"grindAmount")),V("blur",Q,()=>F(o,"grindAmount")),Fe(Q,()=>d(r).grindAmount,N=>d(r).grindAmount=N),V("focus",se,()=>j(o,"shotTime")),V("blur",se,()=>F(o,"shotTime")),Fe(se,()=>d(r).shotTime,N=>d(r).shotTime=N),V("focus",M,()=>j(o,"notes")),V("blur",M,()=>F(o,"notes")),Fe(M,()=>d(r).notes,N=>d(r).notes=N),T(K,z)};xe(u,K=>{d(r).cardID!==""&&K(I)})}T(a,S)}),i(h),i(b),T(n,b),Me()}$e(["click"]);var Qt=G('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Xt=(n,e,s)=>{n.stopPropagation(),e(d(s).id)},Yt=(n,e,s)=>{n.key==="Enter"&&(n.stopPropagation(),e(d(s).id))},Zt=G('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Ht=G('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-4rem)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div></div>'),$t=G('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),er=G('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),tr=G('<div class="flex-col w-full"><div class="flex justify-center items-center w-full p-0"><form class="toDoForm"><select id="drink" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a drink</option><option>Espresso</option><option>Coffee</option></select></form></div> <div class="flex flex-row w-full justify-start overflow-hidden"><div class="flex flex-col items-start w-full overflow-hidden mx-auto md:w-3/4 md:mx-0"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div></div>');function rr(n,e){Je(e,!0);let s=!0,t=ze(""),p=!1;typeof window<"u"&&(p=window.innerWidth<768,window.addEventListener("resize",()=>{p=window.innerWidth<768}));let v=ze(Oe([])),k=Be(()=>d(t)?d(v).filter(c=>c.drink===d(t)):d(v));const j=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],F="/images/espresso_machine.png";let C=ze(-1);function y(c){return j[c%j.length]}function L(c){return{journeyID:c.id}}function x(c,D){return c?c.length>D?c.substring(0,D)+"...":c:""}function b(c){return p?x(c,16):x(c,40)}const P=async c=>{try{const D=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});if(D.ok){const Z=await D.json();console.log("Journey deleted:",Z),_()}else{const Z=await D.json();console.error("Failed to delete journey:",Z.message)}}catch(D){console.error("Error deleting journey:",D)}},_=async()=>{s=!0;try{const c=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(c.ok){const D=await c.json();console.log("Archive:",D),te(v,Oe(D.journeys||[])),console.log("journeys:",d(v))}else{const D=await c.json();console.error("Failed to fetch journeys:",D.message)}}catch(c){console.error("Error fetching journeys:",c)}finally{s=!1}},h=c=>{c.preventDefault()};Tt(async()=>{await _()});var a=tr(),r=l(a),o=l(r),S=l(o),u=l(S);u.value=((u.__value="")==null,"");var I=w(u);I.value=(I.__value="Espresso")==null?"":"Espresso";var K=w(I);K.value=(K.__value="Coffee")==null?"":"Coffee",i(S),i(o),i(r);var z=w(r,2),O=l(z),X=l(O);{var ue=c=>{var D=Qt();T(c,D)},ye=c=>{var D=je(),Z=pe(D);{var Ce=W=>{Mt(W,{class:"w-full overflow-hidden",children:(H,Se)=>{var Q=je(),E=pe(Q);at(E,17,()=>d(k),ot,(ne,U,ie)=>{const se=Be(()=>d(C)===ie);Gt(ne,{get open(){return d(se)},class:"mb-0",children:($,he)=>{var J=Zt(),M=l(J);M.__click=[Xt,P,U],M.__keydown=[Yt,P,U],i(J),T($,J)},$$slots:{default:!0,summary:($,he)=>{var J=Ht(),M=l(J),N=l(M),f=l(N,!0);i(N);var g=w(N,4),Y=l(g,!0);i(g),i(M),i(J),ge((le,be)=>{q(J,"style",`background-image: url(${le??""}); background-size: cover; background-position: center;`),ce(f,d(U).drink),ce(Y,be)},[()=>y(ie),()=>b(d(U).coffeeBeans)]),T($,J)},content:($,he)=>{var J=$t(),M=l(J),N=l(M),f=l(N),g=l(f),Y=l(g,!0);i(g);var le=w(g,4),be=l(le,!0);i(le);var ee=w(le,4),we=l(ee,!0);i(ee);var ke=w(ee,4),Pe=l(ke,!0);i(ke),i(f),i(N),i(M);var fe=w(M,2),Ie=l(fe),it=l(Ie);const st=Be(()=>L(d(U)));Kt(it,{get journeyData(){return d(st)},get drink(){return d(U).drink}}),i(Ie),i(fe),i(J),ge(()=>{ce(Y,d(U).drink),ce(be,d(U).coffeeBeans),ce(we,d(U).grinder),ce(Pe,d(U).brewingDevice)}),T($,J)}}})}),T(H,Q)},$$slots:{default:!0}})},oe=W=>{var H=er();T(W,H)};xe(Z,W=>{d(k).length>0?W(Ce):W(oe,!1)},!0)}T(c,D)};xe(X,c=>{s?c(ue):c(ye,!1)})}i(O);var re=w(O,2),_e=l(re),ae=l(_e);q(ae,"src",F),i(_e),i(re),i(z),i(a),V("submit",o,h),kt(S,()=>d(t),c=>te(t,c)),T(n,a),Me()}$e(["click","keydown"]);var ar=G("<!> <!>",1);function gr(n){var e=ar(),s=pe(e);It(s,{});var t=w(s,2);rr(t,{}),T(n,e)}export{gr as component};
