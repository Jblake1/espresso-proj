import{t as L,a as k,d as Le,c as ye}from"../chunks/DLZ7H7Fm.js";import{i as Ge}from"../chunks/BMgznbf7.js";import{l as Ue,ad as nt,aK as it,aL as st,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as ke,ay as Ve,az as Ke,aA as gt,T as Pe,aQ as B,aw as pt,aR as oe,Z as Y,$ as Z,a3 as P,aS as He,V as l,X as n,_ as de,g as d,U as Ae,aT as R,R as C,Q as ce,N as yt,d as Me}from"../chunks/BOw1AeM4.js";import{a as _t,w as ht,e as G,d as bt,r as wt,s as ne}from"../chunks/BReulVDI.js";import{l as $e,a as u,c as et,s as tt,i as _e,p as Be,r as jt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as je,s as z,c as De,h as Re,r as ze,A as xt}from"../chunks/BVglBH42.js";import{s as We}from"../chunks/Bfc47y5P.js";import{c as Ct,o as It}from"../chunks/BMBHoIzy.js";import"../chunks/djDeKqQG.js";import{a as xe,p as kt,b as Dt}from"../chunks/DMKw4_NB.js";import{b as Te}from"../chunks/QFNNfdoR.js";const Tt=()=>performance.now(),ie={tick:i=>requestAnimationFrame(i),now:()=>Tt(),tasks:new Set};function ot(){const i=ie.now();ie.tasks.forEach(e=>{e.c(i)||(ie.tasks.delete(e),e.f())}),ie.tasks.size!==0&&ie.tick(ot)}function St(i){let e;return ie.tasks.size===0&&ie.tick(ot),{promise:new Promise(s=>{ie.tasks.add(e={c:i,f:s})}),abort(){ie.tasks.delete(e)}}}function Se(i,e){ht(()=>{i.dispatchEvent(new CustomEvent(e))})}function Pt(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const e=i.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function Qe(i){const e={},s=i.split(";");for(const r of s){const[g,f]=r.split(":");if(!g||f===void 0)break;const I=Pt(g.trim());e[I]=f.trim()}return e}const At=i=>i;function Xe(i,e,s,r){var g=(i&vt)!==0,f=(i&ut)!==0,I=g&&f,x=(i&ct)!==0,E=I?"both":g?"in":"out",w,m=e.inert,N=e.style.overflow,b,_;function A(){var t=gt,v=Ue;Ve(null),Ke(null);try{return w??(w=s()(e,(r==null?void 0:r())??{},{direction:E}))}finally{Ve(t),Ke(v)}}var h={is_global:x,in(){var t;if(e.inert=m,!g){_==null||_.abort(),(t=_==null?void 0:_.reset)==null||t.call(_);return}f||b==null||b.abort(),Se(e,"introstart"),b=qe(e,A(),_,1,()=>{Se(e,"introend"),b==null||b.abort(),b=w=void 0,e.style.overflow=N})},out(t){if(!f){t==null||t(),w=void 0;return}e.inert=!0,Se(e,"outrostart"),_=qe(e,A(),b,0,()=>{Se(e,"outroend"),t==null||t()})},stop:()=>{b==null||b.abort(),_==null||_.abort()}},p=Ue;if((p.transitions??(p.transitions=[])).push(h),g&&_t){var a=x;if(!a){for(var o=p.parent;o&&o.f&nt;)for(;(o=o.parent)&&!(o.f&it););a=!o||(o.f&st)!==0}a&&lt(()=>{dt(()=>h.in())})}}function qe(i,e,s,r,g){var f=r===1;if(ft(e)){var I,x=!1;return mt(()=>{if(!x){var p=e({direction:f?"in":"out"});I=qe(i,p,s,r,g)}}),{abort:()=>{x=!0,I==null||I.abort()},deactivate:()=>I.deactivate(),reset:()=>I.reset(),t:()=>I.t()}}if(s==null||s.deactivate(),!(e!=null&&e.duration))return g(),{abort:ke,deactivate:ke,reset:ke,t:()=>r};const{delay:E=0,css:w,tick:m,easing:N=At}=e;var b=[];if(f&&s===void 0&&(m&&m(0,1),w)){var _=Qe(w(0,1));b.push(_,_)}var A=()=>1-r,h=i.animate(b,{duration:E});return h.onfinish=()=>{var p=(s==null?void 0:s.t())??1-r;s==null||s.abort();var a=r-p,o=e.duration*Math.abs(a),t=[];if(o>0){var v=!1;if(w)for(var c=Math.ceil(o/16.666666666666668),T=0;T<=c;T+=1){var K=p+a*N(T/c),S=Qe(w(K,1-K));t.push(S),v||(v=S.overflow==="hidden")}v&&(i.style.overflow="hidden"),A=()=>{var O=h.currentTime;return p+a*N(O/o)},m&&St(()=>{if(h.playState!=="running")return!1;var O=A();return m(O,1-O),!0})}h=i.animate(t,{duration:o,fill:"forwards"}),h.onfinish=()=>{A=()=>r,m==null||m(r,1-r),g()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=ke)},deactivate:()=>{g=ke},reset:()=>{r===0&&(m==null||m(1,0))},t:()=>A()}}function Ot(i){const e=i-1;return e*e*e+1}function Ye(i,{delay:e=0,duration:s=400,easing:r=Ot,axis:g="y"}={}){const f=getComputedStyle(i),I=+f.opacity,x=g==="y"?"height":"width",E=parseFloat(f[x]),w=g==="y"?["top","bottom"]:["left","right"],m=w.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),N=parseFloat(f[`padding${m[0]}`]),b=parseFloat(f[`padding${m[1]}`]),_=parseFloat(f[`margin${m[0]}`]),A=parseFloat(f[`margin${m[1]}`]),h=parseFloat(f[`border${m[0]}Width`]),p=parseFloat(f[`border${m[1]}Width`]);return{delay:e,duration:s,easing:r,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*I};${x}: ${a*E}px;padding-${w[0]}: ${a*N}px;padding-${w[1]}: ${a*b}px;margin-${w[0]}: ${a*_}px;margin-${w[1]}: ${a*A}px;border-${w[0]}-width: ${a*h}px;border-${w[1]}-width: ${a*p}px;min-${x}: 0`}}var Et=L('<div data-testid="accordion"><!></div>');function Nt(i,e){const s=$e(e,["children","$$slots","$$events","$$legacy"]);Pe(e,!1);const[r,g]=tt(),f=()=>et(kt,"$prefersReducedMotionStore",r),I=Z();let x=u(e,"autocollapse",8,!1),E=u(e,"width",8,"w-full"),w=u(e,"spacing",8,"space-y-1"),m=u(e,"disabled",8,!1),N=u(e,"padding",8,"py-2 px-4"),b=u(e,"hover",8,"hover:bg-primary-hover-token"),_=u(e,"rounded",8,"rounded-container-token"),A=u(e,"caretOpen",8,"rotate-180"),h=u(e,"caretClosed",8,""),p=u(e,"regionControl",8,""),a=u(e,"regionPanel",8,"space-y-4"),o=u(e,"regionCaret",8,""),t=u(e,"transitions",24,()=>!f()),v=u(e,"transitionIn",8,Ye),c=u(e,"transitionInParams",24,()=>({duration:200})),T=u(e,"transitionOut",8,Ye),K=u(e,"transitionOutParams",24,()=>({duration:200}));const S=pt(null);B("active",S),B("autocollapse",x()),B("disabled",m()),B("padding",N()),B("hover",b()),B("rounded",_()),B("caretOpen",A()),B("caretClosed",h()),B("regionControl",p()),B("regionPanel",a()),B("regionCaret",o()),B("transitions",t()),B("transitionIn",v()),B("transitionInParams",c()),B("transitionOut",T()),B("transitionOutParams",K()),oe(()=>(P(E()),P(w()),P(s)),()=>{Y(I,`${E()} ${w()} ${s.class??""}`)}),He(),Ge();var O=Et(),H=l(O);xe(H,e,"default",{},null),n(O),de(()=>je(O,`accordion ${d(I)??""}`)),k(i,O),Ae(),g()}function Ze(i,e){const{transition:s,params:r,enabled:g}=e;return g?s(i,r):"duration"in r?s(i,{duration:0}):{duration:0}}var Ft=L('<div class="accordion-lead"><!></div>'),Jt=L("<div><!></div>"),Mt=L("<div><!></div>"),Bt=L('<div role="region"><!></div>'),Rt=L('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function zt(i,e){const s=Dt(e),r=$e(e,["children","$$slots","$$events","$$legacy"]);Pe(e,!1);const[g,f]=tt(),I=()=>et(T(),"$active",g),x=Z(),E=Z(),w=Z(),m=Z(),N=Z(),b=Z(),_=Z(),A=Ct();let h=u(e,"open",12,!1),p=u(e,"id",24,()=>String(Math.random()));const a="",o="text-start w-full flex items-center space-x-4",t="fill-current w-3 transition-transform duration-[200ms]",v="";let c=u(e,"autocollapse",24,()=>R("autocollapse")),T=u(e,"active",24,()=>R("active")),K=u(e,"disabled",24,()=>R("disabled")),S=u(e,"padding",24,()=>R("padding")),O=u(e,"hover",24,()=>R("hover")),H=u(e,"rounded",24,()=>R("rounded")),te=u(e,"caretOpen",24,()=>R("caretOpen")),ve=u(e,"caretClosed",24,()=>R("caretClosed")),se=u(e,"regionControl",24,()=>R("regionControl")),q=u(e,"regionPanel",24,()=>R("regionPanel")),$=u(e,"regionCaret",24,()=>R("regionCaret")),he=u(e,"transitions",24,()=>R("transitions")),W=u(e,"transitionIn",24,()=>R("transitionIn")),ue=u(e,"transitionInParams",24,()=>R("transitionInParams")),F=u(e,"transitionOut",24,()=>R("transitionOut")),J=u(e,"transitionOutParams",24,()=>R("transitionOutParams"));const M=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function Q(y){c()===!0?T().set(p()):h(!h()),X(y)}function X(y){const j=c()?I()===p():h();A("toggle",{event:y,id:p(),panelId:`accordion-panel-${p()}`,open:j,autocollapse:c()})}c()&&h()&&Q(),oe(()=>(P(h()),P(c())),()=>{h()&&c()&&Q()}),oe(()=>(P(c()),I(),P(p()),P(h())),()=>{Y(x,c()?I()===p():h())}),oe(()=>P(r),()=>{Y(E,`${a} ${r.class??""}`)}),oe(()=>(P(S()),P(O()),P(H()),P(se())),()=>{Y(w,`${o} ${S()} ${O()} ${H()} ${se()}`)}),oe(()=>(d(x),P(te()),P(ve())),()=>{Y(m,d(x)?te():ve())}),oe(()=>(P($()),d(m)),()=>{Y(N,`${t} ${$()} ${d(m)}`)}),oe(()=>P($()),()=>{Y(b,`${t} ${$()}`)}),oe(()=>(P(S()),P(H()),P(q())),()=>{Y(_,`${v} ${S()} ${H()} ${q()}`)}),He(),Ge();var U=Rt(),D=l(U),re=l(D);{var fe=y=>{var j=Ft(),pe=l(j);xe(pe,e,"lead",{},null),n(j),k(y,j)};_e(re,y=>{s.lead&&y(fe)})}var le=C(re,2),ee=l(le);xe(ee,e,"summary",{},y=>{var j=Le("(summary)");k(y,j)}),n(le);var be=C(le,2);{var me=y=>{var j=Jt(),pe=l(j);{var Oe=we=>{var Ce=ye(),Ne=ce(Ce);xe(Ne,e,"iconClosed",{},Fe=>{var Ie=ye(),Je=ce(Ie);Re(Je,()=>M),k(Fe,Ie)}),k(we,Ce)},Ee=we=>{var Ce=ye(),Ne=ce(Ce);xe(Ne,e,"iconOpen",{},Fe=>{var Ie=ye(),Je=ce(Ie);Re(Je,()=>M),k(Fe,Ie)}),k(we,Ce)};_e(pe,we=>{d(x)?we(Oe):we(Ee,!1)})}n(j),de(()=>je(j,`accordion-summary-icons ${d(b)??""}`)),k(y,j)},ge=y=>{var j=Mt(),pe=l(j);Re(pe,()=>M),n(j),de(()=>je(j,`accordion-summary-caret ${d(N)??""}`)),k(y,j)};_e(be,y=>{s.iconClosed||s.iconOpen?y(me):y(ge,!1)})}n(D);var ae=C(D,2);{var V=y=>{var j=Bt(),pe=l(j);xe(pe,e,"content",{},Oe=>{var Ee=Le("(content)");k(Oe,Ee)}),n(j),de(()=>{je(j,`accordion-panel ${d(_)??""}`),z(j,"id",`accordion-panel-${p()??""}`),z(j,"aria-hidden",!d(x)),z(j,"aria-labelledby",p())}),Xe(1,j,()=>Ze,()=>({transition:W(),params:ue(),enabled:he()})),Xe(2,j,()=>Ze,()=>({transition:F(),params:J(),enabled:he()})),k(y,j)};_e(ae,y=>{d(x)&&y(V)})}n(U),de(()=>{je(U,`accordion-item ${d(E)??""}`),je(D,`accordion-control ${d(w)??""}`),z(D,"id",p()),z(D,"aria-expanded",d(x)),z(D,"aria-controls",`accordion-panel-${p()??""}`),D.disabled=K()}),G("click",D,Q),G("click",D,function(y){De.call(this,e,y)}),G("keydown",D,function(y){De.call(this,e,y)}),G("keyup",D,function(y){De.call(this,e,y)}),G("keypress",D,function(y){De.call(this,e,y)}),k(i,U),Ae(),f()}const qt=async(i,e,s,r)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:s.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");r(s.journeyData.journeyID)}catch(g){console.error("Error getting journey:",g),alert("An error occurred while posting the journey card.")}};var Gt=L('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Lt=L('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ut(i,e){Pe(e,!0);let s=jt(e,["$$slots","$$events","$$legacy"]),r=Be([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),g=Be({}),f=Be({});const I=async(a,o)=>{g[a]||(g[a]=!0),await N(a)},x=(a,o)=>{f[a]||(f[a]={}),f[a][o]=r[a][o],r[a][o]=""},E=(a,o)=>{var c;const t=r[a][o],v=(c=f[a])==null?void 0:c[o];(t===""||t===null)&&v!==void 0&&(r[a][o]=v),I(a),f[a]&&(delete f[a][o],Object.keys(f[a]).length===0&&delete f[a])},w=async(a,o)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");r[o].cardID="",r[o].datePosted="",r[o].iteration="",r[o].notes="",r[o].grindSetting="",r[o].shotTime="",r[o].journeyID="",r[o].grindAmount="",e.journeyData.journeyID&&m(e.journeyData.journeyID)}catch(t){console.error("Error getting journey:",t),alert("An error occurred while deleting the journey card.")}},m=async a=>{try{console.log(`Sending journeyID: ${a}`);const o=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(o.ok){const t=await o.json();console.log("JourneyCards:",t);const v=t.journeyCards;console.log("JourneyCardsData:",v);for(let c=0;c<r.length;c++)r[c]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((c,T)=>{T<r.length&&(r[T].cardID=c.id,r[T].datePosted=c.datePosted,r[T].iteration=c.iteration,r[T].notes=c.notes,r[T].grindSetting=c.grindSetting,r[T].shotTime=c.shotTime,r[T].journeyID=e.journeyData.journeyID,r[T].grindAmount=c.grindAmount)})}}catch(o){console.error("Error getting journey:",o),alert("An error occurred while getting the journey.")}},N=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r[a].cardID,grindSetting:r[a].grindSetting,shotTime:r[a].shotTime,notes:r[a].notes,grindAmount:r[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");g[a]=!1}catch(o){console.error("Error getting journey:",o),alert("An error occurred while updating card.")}};function b(a){if(!a)return"";const o=new Date(a);if(isNaN(o.getTime()))return a;const t=(o.getMonth()+1).toString().padStart(2,"0"),v=o.getDate().toString().padStart(2,"0"),c=o.getFullYear().toString().slice(-2);return`${t}/${v}/${c}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&m(e.journeyData.journeyID)});var _=Lt(),A=l(_),h=l(A);h.__click=[qt,s,e,m],n(A);var p=C(A,2);rt(p,21,()=>r,at,(a,o,t)=>{var v=ye(),c=ce(v);{var T=K=>{var S=Gt(),O=l(S);O.__click=()=>w(d(o).cardID,t);var H=C(O,2),te=l(H),ve=l(te),se=l(ve),q=l(se);n(se);var $=C(se,2),he=l($,!0);n($),n(ve),n(te);var W=C(te,2),ue=l(W);z(ue,"for",`grindSetting${t+1}`);var F=C(ue,2),J=C(l(F),2);ze(J),z(J,"id",`grindSetting${t+1}`),n(F),n(W);var M=C(W,2),Q=l(M);z(Q,"for",`grindAmount${t+1}`);var X=C(Q,2),U=C(l(X),2);ze(U),z(U,"id",`grindAmount${t+1}`),n(X),n(M);var D=C(M,2),re=l(D);z(re,"for",`shotTime${t+1}`);var fe=l(re,!0);n(re);var le=C(re,2),ee=C(l(le),2);ze(ee),z(ee,"id",`shotTime${t+1}`),n(le),n(D);var be=C(D,2),me=l(be);z(me,"for",`notes${t+1}`);var ge=C(me,2),ae=C(l(ge),2);wt(ae),z(ae,"id",`notes${t+1}`),n(ge),n(be),n(H),n(S),de((V,y)=>{ne(q,`Iteration #${d(o).iteration??""}`),ne(he,V),ne(fe,y)},[()=>b(d(o).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),G("focus",J,()=>x(t,"grindSetting")),G("blur",J,()=>E(t,"grindSetting")),Te(J,()=>d(o).grindSetting,V=>d(o).grindSetting=V),G("focus",U,()=>x(t,"grindAmount")),G("blur",U,()=>E(t,"grindAmount")),Te(U,()=>d(o).grindAmount,V=>d(o).grindAmount=V),G("focus",ee,()=>x(t,"shotTime")),G("blur",ee,()=>E(t,"shotTime")),Te(ee,()=>d(o).shotTime,V=>d(o).shotTime=V),G("focus",ae,()=>x(t,"notes")),G("blur",ae,()=>E(t,"notes")),Te(ae,()=>d(o).notes,V=>d(o).notes=V),k(K,S)};_e(c,K=>{d(o).cardID!==""&&K(T)})}k(a,v)}),n(p),n(_),k(i,_),Ae()}bt(["click"]);var Vt=L('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Kt=L('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Wt=L('<div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0 w-full h-10 justify-between" role="button" tabindex="0" aria-label="Toggle journey details"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1"> </p></div></div>'),Qt=L('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xt=L('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Yt=L('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Zt(i,e){Pe(e,!1);let s=Z(!0),r=Z([]);const g=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let I=Z(-1);function x(t){return g[t%g.length]}function E(t){return{journeyID:t.id}}const w=async t=>{try{const v=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(v.ok){const c=await v.json();console.log("Journey deleted:",c),m()}else{const c=await v.json();console.error("Failed to delete journey:",c.message)}}catch(v){console.error("Error deleting journey:",v)}},m=async()=>{Y(s,!0);try{const t=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const v=await t.json();console.log("Archive:",v),Y(r,v.journeys||[]),console.log("journeys:",d(r))}else{const v=await t.json();console.error("Failed to fetch journeys:",v.message)}}catch(t){console.error("Error fetching journeys:",t)}finally{Y(s,!1)}};It(()=>{m()}),Ge();var N=Yt(),b=l(N),_=l(b);{var A=t=>{var v=Vt();k(t,v)},h=t=>{var v=ye(),c=ce(v);{var T=S=>{Nt(S,{class:"w-full",children:(O,H)=>{var te=ye(),ve=ce(te);rt(ve,1,()=>d(r),at,(se,q,$)=>{const he=Me(()=>d(I)===$);zt(se,{get open(){return d(he)},class:"mb-0",children:(W,ue)=>{var F=Kt(),J=l(F);n(F),G("click",J,We(()=>w(d(q).id))),G("keydown",J,We(M=>M.key==="Enter"&&w(d(q).id))),k(W,F)},$$slots:{default:!0,summary:(W,ue)=>{var F=Wt(),J=l(F),M=l(J),Q=l(M,!0);n(M);var X=C(M,4),U=l(X,!0);n(X),n(J),n(F),de(D=>{z(F,"style",`background-image: url(${D??""}); background-size: cover; background-position: center;`),ne(Q,d(q).drink),ne(U,d(q).coffeeBeans)},[()=>x($)],Me),k(W,F)},content:(W,ue)=>{var F=Qt(),J=l(F),M=l(J),Q=l(M),X=l(Q),U=l(X,!0);n(X);var D=C(X,4),re=l(D,!0);n(D);var fe=C(D,4),le=l(fe,!0);n(fe);var ee=C(fe,4),be=l(ee,!0);n(ee),n(Q),n(M),n(J);var me=C(J,2),ge=l(me),ae=l(ge);const V=Me(()=>E(d(q)));Ut(ae,{get journeyData(){return d(V)},get drink(){return d(q).drink}}),n(ge),n(me),n(F),de(()=>{ne(U,d(q).drink),ne(re,d(q).coffeeBeans),ne(le,d(q).grinder),ne(be,d(q).brewingDevice)}),k(W,F)}}})}),k(O,te)},$$slots:{default:!0}})},K=S=>{var O=Xt();k(S,O)};_e(c,S=>{d(r).length>0?S(T):S(K,!1)},!0)}k(t,v)};_e(_,t=>{d(s)?t(A):t(h,!1)})}n(b);var p=C(b,2),a=l(p),o=l(a);z(o,"src",f),n(a),n(p),n(N),k(i,N),Ae()}var Ht=L("<!> <!>",1);function vr(i){var e=Ht(),s=ce(e);xt(s,{});var r=C(s,2);Zt(r,{}),k(i,e)}export{vr as component};
