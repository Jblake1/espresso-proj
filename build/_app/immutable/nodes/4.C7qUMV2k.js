import{t as G,a as D,d as Ve,c as pe}from"../chunks/DLZ7H7Fm.js";import{i as qe}from"../chunks/BMgznbf7.js";import{l as Ue,ad as nt,aK as st,aL as it,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as Ie,ay as He,az as Ke,aA as gt,T as Pe,aQ as J,aw as pt,aR as ne,Z as X,$,a3 as P,aS as Ze,V as c,X as i,_ as ce,g as s,U as Ae,aT as L,R as j,Q as le,N as yt,d as Be}from"../chunks/BOw1AeM4.js";import{a as ht,w as bt,e as B,d as _t,r as wt,s as se}from"../chunks/BReulVDI.js";import{l as $e,a as u,c as et,s as tt,i as ye,p as ze,r as xt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as xe,s as F,c as De,h as Je,r as Le,A as jt}from"../chunks/CLAG1Ads.js";import{s as Re}from"../chunks/Bfc47y5P.js";import{c as kt,o as Ct}from"../chunks/BMBHoIzy.js";import"../chunks/3gjcck6C.js";import{a as je,p as It,b as Dt}from"../chunks/DMKw4_NB.js";import{b as Te}from"../chunks/QFNNfdoR.js";const Tt=()=>performance.now(),ie={tick:l=>requestAnimationFrame(l),now:()=>Tt(),tasks:new Set};function ot(){const l=ie.now();ie.tasks.forEach(e=>{e.c(l)||(ie.tasks.delete(e),e.f())}),ie.tasks.size!==0&&ie.tick(ot)}function St(l){let e;return ie.tasks.size===0&&ie.tick(ot),{promise:new Promise(d=>{ie.tasks.add(e={c:l,f:d})}),abort(){ie.tasks.delete(e)}}}function Se(l,e){bt(()=>{l.dispatchEvent(new CustomEvent(e))})}function Pt(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const e=l.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function We(l){const e={},d=l.split(";");for(const t of d){const[p,f]=t.split(":");if(!p||f===void 0)break;const k=Pt(p.trim());e[k]=f.trim()}return e}const At=l=>l;function Qe(l,e,d,t){var p=(l&vt)!==0,f=(l&ut)!==0,k=p&&f,x=(l&ct)!==0,E=k?"both":p?"in":"out",C,g=e.inert,z=e.style.overflow,w,y;function A(){var o=gt,v=Ue;He(null),Ke(null);try{return C??(C=d()(e,(t==null?void 0:t())??{},{direction:E}))}finally{He(o),Ke(v)}}var b={is_global:x,in(){var o;if(e.inert=g,!p){y==null||y.abort(),(o=y==null?void 0:y.reset)==null||o.call(y);return}f||w==null||w.abort(),Se(e,"introstart"),w=Ge(e,A(),y,1,()=>{Se(e,"introend"),w==null||w.abort(),w=C=void 0,e.style.overflow=z})},out(o){if(!f){o==null||o(),C=void 0;return}e.inert=!0,Se(e,"outrostart"),y=Ge(e,A(),w,0,()=>{Se(e,"outroend"),o==null||o()})},stop:()=>{w==null||w.abort(),y==null||y.abort()}},h=Ue;if((h.transitions??(h.transitions=[])).push(b),p&&ht){var a=x;if(!a){for(var r=h.parent;r&&r.f&nt;)for(;(r=r.parent)&&!(r.f&st););a=!r||(r.f&it)!==0}a&&lt(()=>{dt(()=>b.in())})}}function Ge(l,e,d,t,p){var f=t===1;if(ft(e)){var k,x=!1;return mt(()=>{if(!x){var h=e({direction:f?"in":"out"});k=Ge(l,h,d,t,p)}}),{abort:()=>{x=!0,k==null||k.abort()},deactivate:()=>k.deactivate(),reset:()=>k.reset(),t:()=>k.t()}}if(d==null||d.deactivate(),!(e!=null&&e.duration))return p(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>t};const{delay:E=0,css:C,tick:g,easing:z=At}=e;var w=[];if(f&&d===void 0&&(g&&g(0,1),C)){var y=We(C(0,1));w.push(y,y)}var A=()=>1-t,b=l.animate(w,{duration:E});return b.onfinish=()=>{var h=(d==null?void 0:d.t())??1-t;d==null||d.abort();var a=t-h,r=e.duration*Math.abs(a),o=[];if(r>0){var v=!1;if(C)for(var n=Math.ceil(r/16.666666666666668),I=0;I<=n;I+=1){var Q=h+a*z(I/n),R=We(C(Q,1-Q));o.push(R),v||(v=R.overflow==="hidden")}v&&(l.style.overflow="hidden"),A=()=>{var T=b.currentTime;return h+a*z(T/r)},g&&St(()=>{if(b.playState!=="running")return!1;var T=A();return g(T,1-T),!0})}b=l.animate(o,{duration:r,fill:"forwards"}),b.onfinish=()=>{A=()=>t,g==null||g(t,1-t),p()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Ie)},deactivate:()=>{p=Ie},reset:()=>{t===0&&(g==null||g(1,0))},t:()=>A()}}function Ot(l){const e=l-1;return e*e*e+1}function Ye(l,{delay:e=0,duration:d=400,easing:t=Ot,axis:p="y"}={}){const f=getComputedStyle(l),k=+f.opacity,x=p==="y"?"height":"width",E=parseFloat(f[x]),C=p==="y"?["top","bottom"]:["left","right"],g=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),z=parseFloat(f[`padding${g[0]}`]),w=parseFloat(f[`padding${g[1]}`]),y=parseFloat(f[`margin${g[0]}`]),A=parseFloat(f[`margin${g[1]}`]),b=parseFloat(f[`border${g[0]}Width`]),h=parseFloat(f[`border${g[1]}Width`]);return{delay:e,duration:d,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*k};${x}: ${a*E}px;padding-${C[0]}: ${a*z}px;padding-${C[1]}: ${a*w}px;margin-${C[0]}: ${a*y}px;margin-${C[1]}: ${a*A}px;border-${C[0]}-width: ${a*b}px;border-${C[1]}-width: ${a*h}px;min-${x}: 0`}}var Et=G('<div data-testid="accordion"><!></div>');function Nt(l,e){const d=$e(e,["children","$$slots","$$events","$$legacy"]);Pe(e,!1);const[t,p]=tt(),f=()=>et(It,"$prefersReducedMotionStore",t),k=$();let x=u(e,"autocollapse",8,!1),E=u(e,"width",8,"w-full"),C=u(e,"spacing",8,"space-y-1"),g=u(e,"disabled",8,!1),z=u(e,"padding",8,"py-2 px-4"),w=u(e,"hover",8,"hover:bg-primary-hover-token"),y=u(e,"rounded",8,"rounded-container-token"),A=u(e,"caretOpen",8,"rotate-180"),b=u(e,"caretClosed",8,""),h=u(e,"regionControl",8,""),a=u(e,"regionPanel",8,"space-y-4"),r=u(e,"regionCaret",8,""),o=u(e,"transitions",24,()=>!f()),v=u(e,"transitionIn",8,Ye),n=u(e,"transitionInParams",24,()=>({duration:200})),I=u(e,"transitionOut",8,Ye),Q=u(e,"transitionOutParams",24,()=>({duration:200}));const R=pt(null);J("active",R),J("autocollapse",x()),J("disabled",g()),J("padding",z()),J("hover",w()),J("rounded",y()),J("caretOpen",A()),J("caretClosed",b()),J("regionControl",h()),J("regionPanel",a()),J("regionCaret",r()),J("transitions",o()),J("transitionIn",v()),J("transitionInParams",n()),J("transitionOut",I()),J("transitionOutParams",Q()),ne(()=>(P(E()),P(C()),P(d)),()=>{X(k,`${E()} ${C()} ${d.class??""}`)}),Ze(),qe();var T=Et(),q=c(T);je(q,e,"default",{},null),i(T),ce(()=>xe(T,`accordion ${s(k)??""}`)),D(l,T),Ae(),p()}function Xe(l,e){const{transition:d,params:t,enabled:p}=e;return p?d(l,t):"duration"in t?d(l,{duration:0}):{duration:0}}var Ft=G('<div class="accordion-lead"><!></div>'),Mt=G("<div><!></div>"),Bt=G("<div><!></div>"),zt=G('<div role="region"><!></div>'),Jt=G('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function Lt(l,e){const d=Dt(e),t=$e(e,["children","$$slots","$$events","$$legacy"]);Pe(e,!1);const[p,f]=tt(),k=()=>et(I(),"$active",p),x=$(),E=$(),C=$(),g=$(),z=$(),w=$(),y=$(),A=kt();let b=u(e,"open",12,!1),h=u(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",v="";let n=u(e,"autocollapse",24,()=>L("autocollapse")),I=u(e,"active",24,()=>L("active")),Q=u(e,"disabled",24,()=>L("disabled")),R=u(e,"padding",24,()=>L("padding")),T=u(e,"hover",24,()=>L("hover")),q=u(e,"rounded",24,()=>L("rounded")),de=u(e,"caretOpen",24,()=>L("caretOpen")),ve=u(e,"caretClosed",24,()=>L("caretClosed")),ue=u(e,"regionControl",24,()=>L("regionControl")),fe=u(e,"regionPanel",24,()=>L("regionPanel")),ee=u(e,"regionCaret",24,()=>L("regionCaret")),he=u(e,"transitions",24,()=>L("transitions")),O=u(e,"transitionIn",24,()=>L("transitionIn")),te=u(e,"transitionInParams",24,()=>L("transitionInParams")),be=u(e,"transitionOut",24,()=>L("transitionOut")),Z=u(e,"transitionOutParams",24,()=>L("transitionOutParams"));const re=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function N(m){n()===!0?I().set(h()):b(!b()),Y(m)}function Y(m){const _=n()?k()===h():b();A("toggle",{event:m,id:h(),panelId:`accordion-panel-${h()}`,open:_,autocollapse:n()})}n()&&b()&&N(),ne(()=>(P(b()),P(n())),()=>{b()&&n()&&N()}),ne(()=>(P(n()),k(),P(h()),P(b())),()=>{X(x,n()?k()===h():b())}),ne(()=>P(t),()=>{X(E,`${a} ${t.class??""}`)}),ne(()=>(P(R()),P(T()),P(q()),P(ue())),()=>{X(C,`${r} ${R()} ${T()} ${q()} ${ue()}`)}),ne(()=>(s(x),P(de()),P(ve())),()=>{X(g,s(x)?de():ve())}),ne(()=>(P(ee()),s(g)),()=>{X(z,`${o} ${ee()} ${s(g)}`)}),ne(()=>P(ee()),()=>{X(w,`${o} ${ee()}`)}),ne(()=>(P(R()),P(q()),P(fe())),()=>{X(y,`${v} ${R()} ${q()} ${fe()}`)}),Ze(),qe();var M=Jt(),S=c(M),V=c(S);{var me=m=>{var _=Ft(),oe=c(_);je(oe,e,"lead",{},null),i(_),D(m,_)};ye(V,m=>{d.lead&&m(me)})}var K=j(V,2),W=c(K);je(W,e,"summary",{},m=>{var _=Ve("(summary)");D(m,_)}),i(K);var U=j(K,2);{var _e=m=>{var _=Mt(),oe=c(_);{var Oe=we=>{var ke=pe(),Ne=le(ke);je(Ne,e,"iconClosed",{},Fe=>{var Ce=pe(),Me=le(Ce);Je(Me,()=>re),D(Fe,Ce)}),D(we,ke)},Ee=we=>{var ke=pe(),Ne=le(ke);je(Ne,e,"iconOpen",{},Fe=>{var Ce=pe(),Me=le(Ce);Je(Me,()=>re),D(Fe,Ce)}),D(we,ke)};ye(oe,we=>{s(x)?we(Oe):we(Ee,!1)})}i(_),ce(()=>xe(_,`accordion-summary-icons ${s(w)??""}`)),D(m,_)},ge=m=>{var _=Bt(),oe=c(_);Je(oe,()=>re),i(_),ce(()=>xe(_,`accordion-summary-caret ${s(z)??""}`)),D(m,_)};ye(U,m=>{d.iconClosed||d.iconOpen?m(_e):m(ge,!1)})}i(S);var ae=j(S,2);{var H=m=>{var _=zt(),oe=c(_);je(oe,e,"content",{},Oe=>{var Ee=Ve("(content)");D(Oe,Ee)}),i(_),ce(()=>{xe(_,`accordion-panel ${s(y)??""}`),F(_,"id",`accordion-panel-${h()??""}`),F(_,"aria-hidden",!s(x)),F(_,"aria-labelledby",h())}),Qe(1,_,()=>Xe,()=>({transition:O(),params:te(),enabled:he()})),Qe(2,_,()=>Xe,()=>({transition:be(),params:Z(),enabled:he()})),D(m,_)};ye(ae,m=>{s(x)&&m(H)})}i(M),ce(()=>{xe(M,`accordion-item ${s(E)??""}`),xe(S,`accordion-control ${s(C)??""}`),F(S,"id",h()),F(S,"aria-expanded",s(x)),F(S,"aria-controls",`accordion-panel-${h()??""}`),S.disabled=Q()}),B("click",S,N),B("click",S,function(m){De.call(this,e,m)}),B("keydown",S,function(m){De.call(this,e,m)}),B("keyup",S,function(m){De.call(this,e,m)}),B("keypress",S,function(m){De.call(this,e,m)}),D(l,M),Ae(),f()}const Rt=async(l,e,d,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(d.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Gt=G('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),qt=G('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Vt(l,e){Pe(e,!0);let d=xt(e,["$$slots","$$events","$$legacy"]),t=ze([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=ze({}),f=ze({});const k=async(a,r)=>{p[a]||(p[a]=!0),await z(a)},x=(a,r)=>{f[a]||(f[a]={}),f[a][r]=t[a][r],t[a][r]=""},E=(a,r)=>{var n;const o=t[a][r],v=(n=f[a])==null?void 0:n[r];(o===""||o===null)&&v!==void 0&&(t[a][r]=v),k(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&g(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},g=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const v=o.journeyCards;console.log("JourneyCardsData:",v);for(let n=0;n<t.length;n++)t[n]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((n,I)=>{I<t.length&&(t[I].cardID=n.id,t[I].datePosted=n.datePosted,t[I].iteration=n.iteration,t[I].notes=n.notes,t[I].grindSetting=n.grindSetting,t[I].shotTime=n.shotTime,t[I].journeyID=e.journeyData.journeyID,t[I].grindAmount=n.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},z=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function w(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),v=r.getDate().toString().padStart(2,"0"),n=r.getFullYear().toString().slice(-2);return`${o}/${v}/${n}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&g(e.journeyData.journeyID)});var y=qt(),A=c(y),b=c(A);b.__click=[Rt,d,e,g],i(A);var h=j(A,2);rt(h,21,()=>t,at,(a,r,o)=>{var v=pe(),n=le(v);{var I=Q=>{var R=Gt(),T=c(R);T.__click=()=>C(s(r).cardID,o);var q=j(T,2),de=c(q),ve=c(de),ue=c(ve),fe=c(ue);i(ue);var ee=j(ue,2),he=c(ee,!0);i(ee),i(ve),i(de);var O=j(de,2),te=c(O);F(te,"for",`grindSetting${o+1}`);var be=j(te,2),Z=j(c(be),2);Le(Z),F(Z,"id",`grindSetting${o+1}`),i(be),i(O);var re=j(O,2),N=c(re);F(N,"for",`grindAmount${o+1}`);var Y=j(N,2),M=j(c(Y),2);Le(M),F(M,"id",`grindAmount${o+1}`),i(Y),i(re);var S=j(re,2),V=c(S);F(V,"for",`shotTime${o+1}`);var me=c(V,!0);i(V);var K=j(V,2),W=j(c(K),2);Le(W),F(W,"id",`shotTime${o+1}`),i(K),i(S);var U=j(S,2),_e=c(U);F(_e,"for",`notes${o+1}`);var ge=j(_e,2),ae=j(c(ge),2);wt(ae),F(ae,"id",`notes${o+1}`),i(ge),i(U),i(q),i(R),ce((H,m)=>{se(fe,`Iteration #${s(r).iteration??""}`),se(he,H),se(me,m)},[()=>w(s(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),B("focus",Z,()=>x(o,"grindSetting")),B("blur",Z,()=>E(o,"grindSetting")),Te(Z,()=>s(r).grindSetting,H=>s(r).grindSetting=H),B("focus",M,()=>x(o,"grindAmount")),B("blur",M,()=>E(o,"grindAmount")),Te(M,()=>s(r).grindAmount,H=>s(r).grindAmount=H),B("focus",W,()=>x(o,"shotTime")),B("blur",W,()=>E(o,"shotTime")),Te(W,()=>s(r).shotTime,H=>s(r).shotTime=H),B("focus",ae,()=>x(o,"notes")),B("blur",ae,()=>E(o,"notes")),Te(ae,()=>s(r).notes,H=>s(r).notes=H),D(Q,R)};ye(n,Q=>{s(r).cardID!==""&&Q(I)})}D(a,v)}),i(h),i(y),D(l,y),Ae()}_t(["click"]);var Ut=G('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ht=G('<div class="summary-content-wrapper flex items-center w-full h-10 px-2 justify-between" role="button" tabindex="0"><div class="flex items-center space-x-2 overflow-hidden min-w-0 flex-1"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-xs flex-shrink-0"> </p> <div class="h-3 border-r border-white/60 flex-shrink-0"></div> <p class="coffee-bean-name truncate min-w-0 flex-1 bg-secondary-500/80 px-2 py-0.5 rounded text-white text-xs"> </p></div> <div class="flex-shrink-0 ml-2"><span class="btn-icon btn-sm variant-filled-error cursor-pointer p-1 flex items-center justify-center" tabindex="0" role="button"><svg class="delete-icon" xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></svg></span></div></div>'),Kt=G('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Wt=G('<div class="w-full max-w-md mx-auto my-4 p-2 border border-dashed border-gray-400"><h3 class="text-center font-bold mb-2">Standalone Button Test</h3> <button type="button" class="flex items-center w-full h-10 px-2 justify-between border border-red-500 rounded"><div class="flex items-center space-x-2 overflow-hidden min-w-0 flex-1 border border-blue-500"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-xs flex-shrink-0">Espresso</p> <div class="h-3 border-r border-slate-400 flex-shrink-0"></div> <p class="truncate min-w-0 flex-1 bg-secondary-500/80 px-2 py-0.5 rounded text-white text-xs border border-green-500">Super Long Ethiopia Yirgacheffe Gedeb Natural Process Name That Needs Ellipsis</p></div> <div class="flex-shrink-0 ml-2 border border-purple-500"><span class="btn-icon btn-sm variant-filled-error cursor-pointer p-1" role="button" aria-label="Delete item"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path></svg></span></div></button></div> <!>',1),Qt=G('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Yt=G('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-1d6x2rp"></div></div></div>');function Xt(l,e){Pe(e,!1);let d=$(!0),t=$([]);const p=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let k=$(-1);function x(v){X(k,s(k)===v?-1:v)}function E(v){return p[v%p.length]}function C(v){return{journeyID:v.id}}const g=async v=>{try{const n=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})});if(n.ok){const I=await n.json();console.log("Journey deleted:",I),z()}else{const I=await n.json();console.error("Failed to delete journey:",I.message)}}catch(n){console.error("Error deleting journey:",n)}},z=async()=>{X(d,!0);try{const v=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(v.ok){const n=await v.json();console.log("Archive:",n),X(t,n.journeys||[]),console.log("journeys:",s(t))}else{const n=await v.json();console.error("Failed to fetch journeys:",n.message)}}catch(v){console.error("Error fetching journeys:",v)}finally{X(d,!1)}};Ct(()=>{z()}),qe();var w=Yt(),y=c(w),A=c(y);{var b=v=>{var n=Ut();D(v,n)},h=v=>{var n=pe(),I=le(n);{var Q=T=>{var q=Wt(),de=j(le(q),2);Nt(de,{class:"w-full",children:(ve,ue)=>{var fe=pe(),ee=le(fe);rt(ee,1,()=>s(t),at,(he,O,te)=>{const be=Be(()=>s(k)===te);Lt(he,{get open(){return s(be)},class:"mb-0",$$slots:{summary:(Z,re)=>{var N=Ht(),Y=c(N),M=c(Y),S=c(M,!0);i(M);var V=j(M,4),me=c(V,!0);i(V),i(Y);var K=j(Y,2),W=c(K);i(K),i(N),ce(U=>{F(N,"style",`background-image: linear-gradient(to right, rgba(0,0,0,0.6), rgba(0,0,0,0.2)), url(${U??""}); background-size: cover; background-position: center;`),F(N,"aria-label",`Toggle journey details for ${s(O).drink??""}`),se(S,s(O).drink),se(me,s(O).coffeeBeans),F(W,"aria-label",`Delete journey ${s(O).drink??""} - ${s(O).coffeeBeans??""}`)},[()=>E(te)],Be),B("click",W,Re(()=>g(s(O).id))),B("keydown",W,Re(U=>U.key==="Enter"&&g(s(O).id))),B("click",N,Re(()=>x(te))),B("keydown",N,U=>U.key==="Enter"&&x(te)),D(Z,N)},content:(Z,re)=>{var N=Kt(),Y=c(N),M=c(Y),S=c(M),V=c(S),me=c(V,!0);i(V);var K=j(V,4),W=c(K,!0);i(K);var U=j(K,4),_e=c(U,!0);i(U);var ge=j(U,4),ae=c(ge,!0);i(ge),i(S),i(M),i(Y);var H=j(Y,2),m=c(H),_=c(m);const oe=Be(()=>C(s(O)));Vt(_,{get journeyData(){return s(oe)},get drink(){return s(O).drink}}),i(m),i(H),i(N),ce(()=>{se(me,s(O).drink),se(W,s(O).coffeeBeans),se(_e,s(O).grinder),se(ae,s(O).brewingDevice)}),D(Z,N)}}})}),D(ve,fe)},$$slots:{default:!0}}),D(T,q)},R=T=>{var q=Qt();D(T,q)};ye(I,T=>{s(t).length>0?T(Q):T(R,!1)},!0)}D(v,n)};ye(A,v=>{s(d)?v(b):v(h,!1)})}i(y);var a=j(y,2),r=c(a),o=c(r);F(o,"src",f),i(r),i(a),i(w),D(l,w),Ae()}var Zt=G("<!> <!>",1);function vr(l){var e=Zt(),d=le(e);jt(d,{});var t=j(d,2);Xt(t,{}),D(l,e)}export{vr as component};
