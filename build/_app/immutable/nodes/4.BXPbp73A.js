import{t as q,a as k,d as Ge,c as ve}from"../chunks/DLZ7H7Fm.js";import{i as qe}from"../chunks/BMgznbf7.js";import{l as Le,ad as nt,aK as st,aL as it,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as pt,ag as we,ay as Ue,az as Ke,aA as mt,T as ke,aQ as J,aw as gt,aR as ee,Z as W,$ as H,a3 as P,aS as He,V as i,X as s,_ as ie,g as l,U as Te,aT as M,R as T,Q as le,N as yt,d as Je,Y as ht}from"../chunks/BOw1AeM4.js";import{a as _t,w as bt,e as Q,d as wt,r as xt,s as se}from"../chunks/BReulVDI.js";import{l as $e,a as c,c as et,s as tt,i as ue,p as We,r as jt}from"../chunks/Db0Jo1o8.js";import{e as at,i as rt}from"../chunks/CZS3sv3T.js";import{b as me,s as L,c as Ie,h as Me,r as Qe,A as Ct}from"../chunks/B1sfnXzX.js";import{s as Re}from"../chunks/Bfc47y5P.js";import{c as It,o as Dt}from"../chunks/BMBHoIzy.js";import"../chunks/BzcizfeK.js";import{a as ge,p as kt,b as Tt}from"../chunks/DMKw4_NB.js";import{b as ze}from"../chunks/QFNNfdoR.js";const St=()=>performance.now(),te={tick:o=>requestAnimationFrame(o),now:()=>St(),tasks:new Set};function ot(){const o=te.now();te.tasks.forEach(e=>{e.c(o)||(te.tasks.delete(e),e.f())}),te.tasks.size!==0&&te.tick(ot)}function Pt(o){let e;return te.tasks.size===0&&te.tick(ot),{promise:new Promise(n=>{te.tasks.add(e={c:o,f:n})}),abort(){te.tasks.delete(e)}}}function De(o,e){bt(()=>{o.dispatchEvent(new CustomEvent(e))})}function Ot(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const e=o.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ye(o){const e={},n=o.split(";");for(const a of n){const[y,w]=a.split(":");if(!y||w===void 0)break;const j=Ot(y.trim());e[j]=w.trim()}return e}const Et=o=>o;function Ve(o,e,n,a){var y=(o&vt)!==0,w=(o&ut)!==0,j=y&&w,C=(o&ct)!==0,R=j?"both":y?"in":"out",I,m=e.inert,E=e.style.overflow,x,h;function d(){var g=mt,f=Le;Ue(null),Ke(null);try{return I??(I=n()(e,(a==null?void 0:a())??{},{direction:R}))}finally{Ue(g),Ke(f)}}var t={is_global:C,in(){var g;if(e.inert=m,!y){h==null||h.abort(),(g=h==null?void 0:h.reset)==null||g.call(h);return}w||x==null||x.abort(),De(e,"introstart"),x=Be(e,d(),h,1,()=>{De(e,"introend"),x==null||x.abort(),x=I=void 0,e.style.overflow=E})},out(g){if(!w){g==null||g(),I=void 0;return}e.inert=!0,De(e,"outrostart"),h=Be(e,d(),x,0,()=>{De(e,"outroend"),g==null||g()})},stop:()=>{x==null||x.abort(),h==null||h.abort()}},r=Le;if((r.transitions??(r.transitions=[])).push(t),y&&_t){var v=C;if(!v){for(var u=r.parent;u&&u.f&nt;)for(;(u=u.parent)&&!(u.f&st););v=!u||(u.f&it)!==0}v&&lt(()=>{dt(()=>t.in())})}}function Be(o,e,n,a,y){var w=a===1;if(ft(e)){var j,C=!1;return pt(()=>{if(!C){var r=e({direction:w?"in":"out"});j=Be(o,r,n,a,y)}}),{abort:()=>{C=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return y(),{abort:we,deactivate:we,reset:we,t:()=>a};const{delay:R=0,css:I,tick:m,easing:E=Et}=e;var x=[];if(w&&n===void 0&&(m&&m(0,1),I)){var h=Ye(I(0,1));x.push(h,h)}var d=()=>1-a,t=o.animate(x,{duration:R});return t.onfinish=()=>{var r=(n==null?void 0:n.t())??1-a;n==null||n.abort();var v=a-r,u=e.duration*Math.abs(v),g=[];if(u>0){var f=!1;if(I)for(var p=Math.ceil(u/16.666666666666668),A=0;A<=p;A+=1){var Y=r+v*E(A/p),z=Ye(I(Y,1-Y));g.push(z),f||(f=z.overflow==="hidden")}f&&(o.style.overflow="hidden"),d=()=>{var S=t.currentTime;return r+v*E(S/u)},m&&Pt(()=>{if(t.playState!=="running")return!1;var S=d();return m(S,1-S),!0})}t=o.animate(g,{duration:u,fill:"forwards"}),t.onfinish=()=>{d=()=>a,m==null||m(a,1-a),y()}},{abort:()=>{t&&(t.cancel(),t.effect=null,t.onfinish=we)},deactivate:()=>{y=we},reset:()=>{a===0&&(m==null||m(1,0))},t:()=>d()}}function Nt(o){const e=o-1;return e*e*e+1}function Xe(o,{delay:e=0,duration:n=400,easing:a=Nt,axis:y="y"}={}){const w=getComputedStyle(o),j=+w.opacity,C=y==="y"?"height":"width",R=parseFloat(w[C]),I=y==="y"?["top","bottom"]:["left","right"],m=I.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),E=parseFloat(w[`padding${m[0]}`]),x=parseFloat(w[`padding${m[1]}`]),h=parseFloat(w[`margin${m[0]}`]),d=parseFloat(w[`margin${m[1]}`]),t=parseFloat(w[`border${m[0]}Width`]),r=parseFloat(w[`border${m[1]}Width`]);return{delay:e,duration:n,easing:a,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*j};${C}: ${v*R}px;padding-${I[0]}: ${v*E}px;padding-${I[1]}: ${v*x}px;margin-${I[0]}: ${v*h}px;margin-${I[1]}: ${v*d}px;border-${I[0]}-width: ${v*t}px;border-${I[1]}-width: ${v*r}px;min-${C}: 0`}}var At=q('<div data-testid="accordion"><!></div>');function Ft(o,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);ke(e,!1);const[a,y]=tt(),w=()=>et(kt,"$prefersReducedMotionStore",a),j=H();let C=c(e,"autocollapse",8,!1),R=c(e,"width",8,"w-full"),I=c(e,"spacing",8,"space-y-1"),m=c(e,"disabled",8,!1),E=c(e,"padding",8,"py-2 px-4"),x=c(e,"hover",8,"hover:bg-primary-hover-token"),h=c(e,"rounded",8,"rounded-container-token"),d=c(e,"caretOpen",8,"rotate-180"),t=c(e,"caretClosed",8,""),r=c(e,"regionControl",8,""),v=c(e,"regionPanel",8,"space-y-4"),u=c(e,"regionCaret",8,""),g=c(e,"transitions",24,()=>!w()),f=c(e,"transitionIn",8,Xe),p=c(e,"transitionInParams",24,()=>({duration:200})),A=c(e,"transitionOut",8,Xe),Y=c(e,"transitionOutParams",24,()=>({duration:200}));const z=gt(null);J("active",z),J("autocollapse",C()),J("disabled",m()),J("padding",E()),J("hover",x()),J("rounded",h()),J("caretOpen",d()),J("caretClosed",t()),J("regionControl",r()),J("regionPanel",v()),J("regionCaret",u()),J("transitions",g()),J("transitionIn",f()),J("transitionInParams",p()),J("transitionOut",A()),J("transitionOutParams",Y()),ee(()=>(P(R()),P(I()),P(n)),()=>{W(j,`${R()} ${I()} ${n.class??""}`)}),He(),qe();var S=At(),G=i(S);ge(G,e,"default",{},null),s(S),ie(()=>me(S,`accordion ${l(j)??""}`)),k(o,S),Te(),y()}function Ze(o,e){const{transition:n,params:a,enabled:y}=e;return y?n(o,a):"duration"in a?n(o,{duration:0}):{duration:0}}var Jt=q('<div class="accordion-lead"><!></div>'),Mt=q("<div><!></div>"),Rt=q("<div><!></div>"),zt=q('<div role="region"><!></div>'),Bt=q('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function qt(o,e){const n=Tt(e),a=$e(e,["children","$$slots","$$events","$$legacy"]);ke(e,!1);const[y,w]=tt(),j=()=>et(A(),"$active",y),C=H(),R=H(),I=H(),m=H(),E=H(),x=H(),h=H(),d=It();let t=c(e,"open",12,!1),r=c(e,"id",24,()=>String(Math.random()));const v="",u="text-start w-full flex items-center space-x-4",g="fill-current w-3 transition-transform duration-[200ms]",f="";let p=c(e,"autocollapse",24,()=>M("autocollapse")),A=c(e,"active",24,()=>M("active")),Y=c(e,"disabled",24,()=>M("disabled")),z=c(e,"padding",24,()=>M("padding")),S=c(e,"hover",24,()=>M("hover")),G=c(e,"rounded",24,()=>M("rounded")),ye=c(e,"caretOpen",24,()=>M("caretOpen")),ae=c(e,"caretClosed",24,()=>M("caretClosed")),fe=c(e,"regionControl",24,()=>M("regionControl")),re=c(e,"regionPanel",24,()=>M("regionPanel")),F=c(e,"regionCaret",24,()=>M("regionCaret")),V=c(e,"transitions",24,()=>M("transitions")),oe=c(e,"transitionIn",24,()=>M("transitionIn")),X=c(e,"transitionInParams",24,()=>M("transitionInParams")),de=c(e,"transitionOut",24,()=>M("transitionOut")),O=c(e,"transitionOutParams",24,()=>M("transitionOutParams"));const N=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function U(_){p()===!0?A().set(r()):t(!t()),$(_)}function $(_){const b=p()?j()===r():t();d("toggle",{event:_,id:r(),panelId:`accordion-panel-${r()}`,open:b,autocollapse:p()})}p()&&t()&&U(),ee(()=>(P(t()),P(p())),()=>{t()&&p()&&U()}),ee(()=>(P(p()),j(),P(r()),P(t())),()=>{W(C,p()?j()===r():t())}),ee(()=>P(a),()=>{W(R,`${v} ${a.class??""}`)}),ee(()=>(P(z()),P(S()),P(G()),P(fe())),()=>{W(I,`${u} ${z()} ${S()} ${G()} ${fe()}`)}),ee(()=>(l(C),P(ye()),P(ae())),()=>{W(m,l(C)?ye():ae())}),ee(()=>(P(F()),l(m)),()=>{W(E,`${g} ${F()} ${l(m)}`)}),ee(()=>P(F()),()=>{W(x,`${g} ${F()}`)}),ee(()=>(P(z()),P(G()),P(re())),()=>{W(h,`${f} ${z()} ${G()} ${re()}`)}),He(),qe();var K=Bt(),D=i(K),B=i(D);{var ne=_=>{var b=Jt(),ce=i(b);ge(ce,e,"lead",{},null),s(b),k(_,b)};ue(B,_=>{n.lead&&_(ne)})}var Z=T(B,2),he=i(Z);ge(he,e,"summary",{},_=>{var b=Ge("(summary)");k(_,b)}),s(Z);var Se=T(Z,2);{var xe=_=>{var b=Mt(),ce=i(b);{var Oe=pe=>{var _e=ve(),Ne=le(_e);ge(Ne,e,"iconClosed",{},Ae=>{var be=ve(),Fe=le(be);Me(Fe,()=>N),k(Ae,be)}),k(pe,_e)},Ee=pe=>{var _e=ve(),Ne=le(_e);ge(Ne,e,"iconOpen",{},Ae=>{var be=ve(),Fe=le(be);Me(Fe,()=>N),k(Ae,be)}),k(pe,_e)};ue(ce,pe=>{l(C)?pe(Oe):pe(Ee,!1)})}s(b),ie(()=>me(b,`accordion-summary-icons ${l(x)??""}`)),k(_,b)},Pe=_=>{var b=Rt(),ce=i(b);Me(ce,()=>N),s(b),ie(()=>me(b,`accordion-summary-caret ${l(E)??""}`)),k(_,b)};ue(Se,_=>{n.iconClosed||n.iconOpen?_(xe):_(Pe,!1)})}s(D);var je=T(D,2);{var Ce=_=>{var b=zt(),ce=i(b);ge(ce,e,"content",{},Oe=>{var Ee=Ge("(content)");k(Oe,Ee)}),s(b),ie(()=>{me(b,`accordion-panel ${l(h)??""}`),L(b,"id",`accordion-panel-${r()??""}`),L(b,"aria-hidden",!l(C)),L(b,"aria-labelledby",r())}),Ve(1,b,()=>Ze,()=>({transition:oe(),params:X(),enabled:V()})),Ve(2,b,()=>Ze,()=>({transition:de(),params:O(),enabled:V()})),k(_,b)};ue(je,_=>{l(C)&&_(Ce)})}s(K),ie(()=>{me(K,`accordion-item ${l(R)??""}`),me(D,`accordion-control ${l(I)??""}`),L(D,"id",r()),L(D,"aria-expanded",l(C)),L(D,"aria-controls",`accordion-panel-${r()??""}`),D.disabled=Y()}),Q("click",D,U),Q("click",D,function(_){Ie.call(this,e,_)}),Q("keydown",D,function(_){Ie.call(this,e,_)}),Q("keyup",D,function(_){Ie.call(this,e,_)}),Q("keypress",D,function(_){Ie.call(this,e,_)}),k(o,K),Te(),w()}const Gt=async(o,e,n,a)=>{try{if(!(await fetch("http://localhost:4000/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:n.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");a(n.journeyData.journeyID)}catch(y){console.error("Error getting journey:",y),alert("An error occurred while posting the journey card.")}};var Lt=q('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Shot Time</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Ut=q('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Kt(o,e){ke(e,!0);let n=jt(e,["$$slots","$$events","$$legacy"]),a=We([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""}]),y=We({});const w=async(d,t)=>{y[d]||(y[d]=!0),await R(d)},j=async(d,t)=>{try{if(!(await fetch("http://localhost:4000/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d})})).ok)throw new Error("Network response of journeyCard delete not ok");a[t].cardID="",a[t].datePosted="",a[t].iteration="",a[t].notes="",a[t].grindSetting="",a[t].shotTime="",a[t].journeyID="",e.journeyData.journeyID&&C(e.journeyData.journeyID)}catch(r){console.error("Error getting journey:",r),alert("An error occurred while deleting the journey card.")}},C=async d=>{try{console.log(`Sending journeyID: ${d}`);const t=await fetch(`http://localhost:4000/journeyCard?journeyID=${d}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const r=await t.json();console.log("JourneyCards:",r);const v=r.journeyCards;console.log("JourneyCardsData:",v);for(let u=0;u<a.length;u++)a[u]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""};v.forEach((u,g)=>{g<a.length&&(a[g].cardID=u.id,a[g].datePosted=u.datePosted,a[g].iteration=u.iteration,a[g].notes=u.notes,a[g].grindSetting=u.grindSetting,a[g].shotTime=u.shotTime,a[g].journeyID=e.journeyData.journeyID)})}}catch(t){console.error("Error getting journey:",t),alert("An error occurred while getting the journey.")}},R=async d=>{try{if(!(await fetch("http://localhost:4000/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a[d].cardID,grindSetting:a[d].grindSetting,shotTime:a[d].shotTime,notes:a[d].notes})})).ok)throw new Error("Network response of journeyCard update not ok");y[d]=!1}catch(t){console.error("Error getting journey:",t),alert("An error occurred while updating card.")}};function I(d){if(!d)return"";const t=new Date(d);if(isNaN(t.getTime()))return d;const r=(t.getMonth()+1).toString().padStart(2,"0"),v=t.getDate().toString().padStart(2,"0"),u=t.getFullYear().toString().slice(-2);return`${r}/${v}/${u}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&C(e.journeyData.journeyID)});var m=Ut(),E=i(m),x=i(E);x.__click=[Gt,n,e,C],s(E);var h=T(E,2);at(h,21,()=>a,rt,(d,t,r)=>{var v=ve(),u=le(v);{var g=f=>{var p=Lt(),A=i(p);A.__click=()=>j(l(t).cardID,r);var Y=T(A,2),z=i(Y),S=i(z),G=i(S),ye=i(G);s(G);var ae=T(G,2),fe=i(ae,!0);s(ae),s(S),s(z);var re=T(z,2),F=i(re);L(F,"for",`grindSetting${r+1}`);var V=T(F,2),oe=T(i(V),2);Qe(oe),L(oe,"id",`grindSetting${r+1}`),s(V),s(re);var X=T(re,2),de=i(X);L(de,"for",`shotTime${r+1}`);var O=T(de,2),N=T(i(O),2);Qe(N),L(N,"id",`shotTime${r+1}`),s(O),s(X);var U=T(X,2),$=i(U);L($,"for",`notes${r+1}`);var K=T($,2),D=T(i(K),2);xt(D),L(D,"id",`notes${r+1}`),s(K),s(U),s(Y),s(p),ie(B=>{se(ye,`Iteration #${l(t).iteration??""}`),se(fe,B)},[()=>I(l(t).datePosted)]),Q("blur",oe,()=>w(r)),ze(oe,()=>l(t).grindSetting,B=>l(t).grindSetting=B),Q("blur",N,()=>w(r)),ze(N,()=>l(t).shotTime,B=>l(t).shotTime=B),Q("blur",D,()=>w(r)),ze(D,()=>l(t).notes,B=>l(t).notes=B),k(f,p)};ue(u,f=>{l(t).cardID!==""&&f(g)})}k(d,v)}),s(h),s(m),k(o,m),Te()}wt(["click"]);var Wt=q('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Qt=q('<div class="flex items-center space-x-2"><span class="badge bg-primary-500"></span></div>'),Yt=q('<button type="button" class="flex items-center space-x-3 w-full text-left h-10 p-0 overflow-hidden"><div class="py-0 px-3 rounded-md flex items-center space-x-3 flex-grow"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p> <div class="h-3 border-r border-slate-300"></div> <p class="whitespace-nowrap truncate bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p></div> <div><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div> <div class="h-full w-12 max-w-[48px] flex-shrink-0"></div></button>'),Vt=q('<div class="journey-content"><div class="w-full rounded-md overflow-hidden"><div class="p-4"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xt=q('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Archives</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a settings recommendation</a></div>'),Zt=q('<div class="flex flex-row w-full"><div class="flex flex-col items-start gap-7 w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Ht(o,e){ke(e,!1);let n=H(!0),a=H([]);const y=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],w="/images/espresso_machine.png";let j=H(-1);function C(f){W(j,l(j)===f?-1:f)}function R(f){return y[f%y.length]}function I(f){return{journeyID:f.id}}const m=async f=>{try{const p=await fetch("http://localhost:4000/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f})});if(p.ok){const A=await p.json();console.log("Journey deleted:",A),E()}else{const A=await p.json();console.error("Failed to delete journey:",A.message)}}catch(p){console.error("Error deleting journey:",p)}},E=async()=>{W(n,!0);try{const f=await fetch("http://localhost:4000/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(f.ok){const p=await f.json();console.log("Archive:",p),W(a,p.journeys||[]),console.log("journeys:",l(a))}else{const p=await f.json();console.error("Failed to fetch journeys:",p.message)}}catch(f){console.error("Error fetching journeys:",f)}finally{W(n,!1)}};Dt(()=>{E()}),qe();var x=Zt(),h=i(x),d=i(h);{var t=f=>{var p=Wt();k(f,p)},r=f=>{var p=ve(),A=le(p);{var Y=S=>{Ft(S,{class:"w-full",children:(G,ye)=>{var ae=ve(),fe=le(ae);at(fe,1,()=>l(a),rt,(re,F,V)=>{const oe=Je(()=>l(j)===V);qt(re,{get open(){return l(oe)},$$slots:{lead:(X,de)=>{var O=Qt(),N=i(O);N.textContent=V+1,s(O),k(X,O)},summary:(X,de)=>{var O=Yt(),N=i(O),U=i(N),$=i(U,!0);s(U);var K=T(U,4),D=i(K,!0);s(K),s(N);var B=T(N,2),ne=i(B);s(B),ht(2),s(O),ie(Z=>{L(O,"style",`background-image: url(${Z??""}); background-size: cover; background-position: center;`),se($,l(F).drink),se(D,l(F).coffeeBeans)},[()=>R(V)],Je),Q("click",ne,Re(()=>m(l(F).id))),Q("keydown",ne,Re(Z=>Z.key==="Enter"&&m(l(F).id))),Q("click",O,Re(()=>C(V))),Q("keydown",O,Z=>Z.key==="Enter"&&C(V)),k(X,O)},content:(X,de)=>{var O=Vt(),N=i(O),U=i(N),$=i(U),K=i($),D=i(K),B=i(D,!0);s(D);var ne=T(D,4),Z=i(ne,!0);s(ne);var he=T(ne,4),Se=i(he,!0);s(he);var xe=T(he,4),Pe=i(xe,!0);s(xe),s(K),s($),s(U),s(N);var je=T(N,2),Ce=i(je),_=i(Ce);const b=Je(()=>I(l(F)));Kt(_,{get journeyData(){return l(b)}}),s(Ce),s(je),s(O),ie(()=>{se(B,l(F).drink),se(Z,l(F).coffeeBeans),se(Se,l(F).grinder),se(Pe,l(F).brewingDevice)}),k(X,O)}}})}),k(G,ae)},$$slots:{default:!0}})},z=S=>{var G=Xt();k(S,G)};ue(A,S=>{l(a).length>0?S(Y):S(z,!1)},!0)}k(f,p)};ue(d,f=>{l(n)?f(t):f(r,!1)})}s(h);var v=T(h,2),u=i(v),g=i(u);L(g,"src",w),s(u),s(v),s(x),k(o,x),Te()}var $t=q("<!> <!>",1);function ua(o){var e=$t(),n=le(e);Ct(n,{});var a=T(n,2);Ht(a,{}),k(o,e)}export{ua as component};
