import{t as q,a as I,d as Lt,c as gt}from"../chunks/DLZ7H7Fm.js";import{i as Gt}from"../chunks/BMgznbf7.js";import{l as Ut,ad as ne,aK as ie,aL as se,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as It,ay as Vt,az as Kt,aA as ge,T as At,aQ as J,aw as pe,aR as at,Z as H,$,a3 as P,aS as Ht,V as d,X as n,_ as dt,g as i,U as Ot,aT as M,R as j,Q as ct,N as ye,d as Wt}from"../chunks/BOw1AeM4.js";import{a as _e,w as he,e as F,d as be,r as we,s as ot}from"../chunks/BReulVDI.js";import{l as $t,a as c,c as te,s as ee,i as pt,p as Bt,r as xe}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as xt,s as z,c as Dt,h as Rt,r as zt,A as Ce}from"../chunks/DyzlPGev.js";import{s as Tt}from"../chunks/Bfc47y5P.js";import{c as je,o as ke}from"../chunks/BMBHoIzy.js";import"../chunks/Sl0JhNYa.js";import{a as Ct,p as Ie,b as De}from"../chunks/DMKw4_NB.js";import{b as St}from"../chunks/QFNNfdoR.js";const Te=()=>performance.now(),nt={tick:s=>requestAnimationFrame(s),now:()=>Te(),tasks:new Set};function oe(){const s=nt.now();nt.tasks.forEach(t=>{t.c(s)||(nt.tasks.delete(t),t.f())}),nt.tasks.size!==0&&nt.tick(oe)}function Se(s){let t;return nt.tasks.size===0&&nt.tick(oe),{promise:new Promise(l=>{nt.tasks.add(t={c:s,f:l})}),abort(){nt.tasks.delete(t)}}}function Pt(s,t){he(()=>{s.dispatchEvent(new CustomEvent(t))})}function Pe(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const t=s.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Qt(s){const t={},l=s.split(";");for(const a of l){const[m,u]=a.split(":");if(!m||u===void 0)break;const k=Pe(m.trim());t[k]=u.trim()}return t}const Ae=s=>s;function Xt(s,t,l,a){var m=(s&ve)!==0,u=(s&ue)!==0,k=m&&u,_=(s&ce)!==0,A=k?"both":m?"in":"out",b,f=t.inert,B=t.style.overflow,C,h;function S(){var o=ge,D=Ut;Vt(null),Kt(null);try{return b??(b=l()(t,(a==null?void 0:a())??{},{direction:A}))}finally{Vt(o),Kt(D)}}var g={is_global:_,in(){var o;if(t.inert=f,!m){h==null||h.abort(),(o=h==null?void 0:h.reset)==null||o.call(h);return}u||C==null||C.abort(),Pt(t,"introstart"),C=qt(t,S(),h,1,()=>{Pt(t,"introend"),C==null||C.abort(),C=b=void 0,t.style.overflow=B})},out(o){if(!u){o==null||o(),b=void 0;return}t.inert=!0,Pt(t,"outrostart"),h=qt(t,S(),C,0,()=>{Pt(t,"outroend"),o==null||o()})},stop:()=>{C==null||C.abort(),h==null||h.abort()}},p=Ut;if((p.transitions??(p.transitions=[])).push(g),m&&_e){var e=_;if(!e){for(var r=p.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&ie););e=!r||(r.f&se)!==0}e&&le(()=>{de(()=>g.in())})}}function qt(s,t,l,a,m){var u=a===1;if(fe(t)){var k,_=!1;return me(()=>{if(!_){var p=t({direction:u?"in":"out"});k=qt(s,p,l,a,m)}}),{abort:()=>{_=!0,k==null||k.abort()},deactivate:()=>k.deactivate(),reset:()=>k.reset(),t:()=>k.t()}}if(l==null||l.deactivate(),!(t!=null&&t.duration))return m(),{abort:It,deactivate:It,reset:It,t:()=>a};const{delay:A=0,css:b,tick:f,easing:B=Ae}=t;var C=[];if(u&&l===void 0&&(f&&f(0,1),b)){var h=Qt(b(0,1));C.push(h,h)}var S=()=>1-a,g=s.animate(C,{duration:A});return g.onfinish=()=>{var p=(l==null?void 0:l.t())??1-a;l==null||l.abort();var e=a-p,r=t.duration*Math.abs(e),o=[];if(r>0){var D=!1;if(b)for(var v=Math.ceil(r/16.666666666666668),w=0;w<=v;w+=1){var G=p+e*B(w/v),L=Qt(b(G,1-G));o.push(L),D||(D=L.overflow==="hidden")}D&&(s.style.overflow="hidden"),S=()=>{var O=g.currentTime;return p+e*B(O/r)},f&&Se(()=>{if(g.playState!=="running")return!1;var O=S();return f(O,1-O),!0})}g=s.animate(o,{duration:r,fill:"forwards"}),g.onfinish=()=>{S=()=>a,f==null||f(a,1-a),m()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=It)},deactivate:()=>{m=It},reset:()=>{a===0&&(f==null||f(1,0))},t:()=>S()}}function Oe(s){const t=s-1;return t*t*t+1}function Yt(s,{delay:t=0,duration:l=400,easing:a=Oe,axis:m="y"}={}){const u=getComputedStyle(s),k=+u.opacity,_=m==="y"?"height":"width",A=parseFloat(u[_]),b=m==="y"?["top","bottom"]:["left","right"],f=b.map(e=>`${e[0].toUpperCase()}${e.slice(1)}`),B=parseFloat(u[`padding${f[0]}`]),C=parseFloat(u[`padding${f[1]}`]),h=parseFloat(u[`margin${f[0]}`]),S=parseFloat(u[`margin${f[1]}`]),g=parseFloat(u[`border${f[0]}Width`]),p=parseFloat(u[`border${f[1]}Width`]);return{delay:t,duration:l,easing:a,css:e=>`overflow: hidden;opacity: ${Math.min(e*20,1)*k};${_}: ${e*A}px;padding-${b[0]}: ${e*B}px;padding-${b[1]}: ${e*C}px;margin-${b[0]}: ${e*h}px;margin-${b[1]}: ${e*S}px;border-${b[0]}-width: ${e*g}px;border-${b[1]}-width: ${e*p}px;min-${_}: 0`}}var Ee=q('<div data-testid="accordion"><!></div>');function Ne(s,t){const l=$t(t,["children","$$slots","$$events","$$legacy"]);At(t,!1);const[a,m]=ee(),u=()=>te(Ie,"$prefersReducedMotionStore",a),k=$();let _=c(t,"autocollapse",8,!1),A=c(t,"width",8,"w-full"),b=c(t,"spacing",8,"space-y-1"),f=c(t,"disabled",8,!1),B=c(t,"padding",8,"py-2 px-4"),C=c(t,"hover",8,"hover:bg-primary-hover-token"),h=c(t,"rounded",8,"rounded-container-token"),S=c(t,"caretOpen",8,"rotate-180"),g=c(t,"caretClosed",8,""),p=c(t,"regionControl",8,""),e=c(t,"regionPanel",8,"space-y-4"),r=c(t,"regionCaret",8,""),o=c(t,"transitions",24,()=>!u()),D=c(t,"transitionIn",8,Yt),v=c(t,"transitionInParams",24,()=>({duration:200})),w=c(t,"transitionOut",8,Yt),G=c(t,"transitionOutParams",24,()=>({duration:200}));const L=pe(null);J("active",L),J("autocollapse",_()),J("disabled",f()),J("padding",B()),J("hover",C()),J("rounded",h()),J("caretOpen",S()),J("caretClosed",g()),J("regionControl",p()),J("regionPanel",e()),J("regionCaret",r()),J("transitions",o()),J("transitionIn",D()),J("transitionInParams",v()),J("transitionOut",w()),J("transitionOutParams",G()),at(()=>(P(A()),P(b()),P(l)),()=>{H(k,`${A()} ${b()} ${l.class??""}`)}),Ht(),Gt();var O=Ee(),X=d(O);Ct(X,t,"default",{},null),n(O),dt(()=>xt(O,`accordion ${i(k)??""}`)),I(s,O),Ot(),m()}function Zt(s,t){const{transition:l,params:a,enabled:m}=t;return m?l(s,a):"duration"in a?l(s,{duration:0}):{duration:0}}var Fe=q('<div class="accordion-lead"><!></div>'),Je=q("<div><!></div>"),Me=q("<div><!></div>"),Be=q('<div role="region"><!></div>'),Re=q('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function ze(s,t){const l=De(t),a=$t(t,["children","$$slots","$$events","$$legacy"]);At(t,!1);const[m,u]=ee(),k=()=>te(w(),"$active",m),_=$(),A=$(),b=$(),f=$(),B=$(),C=$(),h=$(),S=je();let g=c(t,"open",12,!1),p=c(t,"id",24,()=>String(Math.random()));const e="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",D="";let v=c(t,"autocollapse",24,()=>M("autocollapse")),w=c(t,"active",24,()=>M("active")),G=c(t,"disabled",24,()=>M("disabled")),L=c(t,"padding",24,()=>M("padding")),O=c(t,"hover",24,()=>M("hover")),X=c(t,"rounded",24,()=>M("rounded")),it=c(t,"caretOpen",24,()=>M("caretOpen")),E=c(t,"caretClosed",24,()=>M("caretClosed")),st=c(t,"regionControl",24,()=>M("regionControl")),yt=c(t,"regionPanel",24,()=>M("regionPanel")),K=c(t,"regionCaret",24,()=>M("regionCaret")),vt=c(t,"transitions",24,()=>M("transitions")),N=c(t,"transitionIn",24,()=>M("transitionIn")),R=c(t,"transitionInParams",24,()=>M("transitionInParams")),W=c(t,"transitionOut",24,()=>M("transitionOut")),Q=c(t,"transitionOutParams",24,()=>M("transitionOutParams"));const U=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function tt(y){v()===!0?w().set(p()):g(!g()),Y(y)}function Y(y){const x=v()?k()===p():g();S("toggle",{event:y,id:p(),panelId:`accordion-panel-${p()}`,open:x,autocollapse:v()})}v()&&g()&&tt(),at(()=>(P(g()),P(v())),()=>{g()&&v()&&tt()}),at(()=>(P(v()),k(),P(p()),P(g())),()=>{H(_,v()?k()===p():g())}),at(()=>P(a),()=>{H(A,`${e} ${a.class??""}`)}),at(()=>(P(L()),P(O()),P(X()),P(st())),()=>{H(b,`${r} ${L()} ${O()} ${X()} ${st()}`)}),at(()=>(i(_),P(it()),P(E())),()=>{H(f,i(_)?it():E())}),at(()=>(P(K()),i(f)),()=>{H(B,`${o} ${K()} ${i(f)}`)}),at(()=>P(K()),()=>{H(C,`${o} ${K()}`)}),at(()=>(P(L()),P(X()),P(yt())),()=>{H(h,`${D} ${L()} ${X()} ${yt()}`)}),Ht(),Gt();var V=Re(),T=d(V),rt=d(T);{var _t=y=>{var x=Fe(),mt=d(x);Ct(mt,t,"lead",{},null),n(x),I(y,x)};pt(rt,y=>{l.lead&&y(_t)})}var lt=j(rt,2),et=d(lt);Ct(et,t,"summary",{},y=>{var x=Lt("(summary)");I(y,x)}),n(lt);var ut=j(lt,2);{var ht=y=>{var x=Je(),mt=d(x);{var Et=wt=>{var jt=gt(),Ft=ct(jt);Ct(Ft,t,"iconClosed",{},Jt=>{var kt=gt(),Mt=ct(kt);Rt(Mt,()=>U),I(Jt,kt)}),I(wt,jt)},Nt=wt=>{var jt=gt(),Ft=ct(jt);Ct(Ft,t,"iconOpen",{},Jt=>{var kt=gt(),Mt=ct(kt);Rt(Mt,()=>U),I(Jt,kt)}),I(wt,jt)};pt(mt,wt=>{i(_)?wt(Et):wt(Nt,!1)})}n(x),dt(()=>xt(x,`accordion-summary-icons ${i(C)??""}`)),I(y,x)},bt=y=>{var x=Me(),mt=d(x);Rt(mt,()=>U),n(x),dt(()=>xt(x,`accordion-summary-caret ${i(B)??""}`)),I(y,x)};pt(ut,y=>{l.iconClosed||l.iconOpen?y(ht):y(bt,!1)})}n(T);var ft=j(T,2);{var Z=y=>{var x=Be(),mt=d(x);Ct(mt,t,"content",{},Et=>{var Nt=Lt("(content)");I(Et,Nt)}),n(x),dt(()=>{xt(x,`accordion-panel ${i(h)??""}`),z(x,"id",`accordion-panel-${p()??""}`),z(x,"aria-hidden",!i(_)),z(x,"aria-labelledby",p())}),Xt(1,x,()=>Zt,()=>({transition:N(),params:R(),enabled:vt()})),Xt(2,x,()=>Zt,()=>({transition:W(),params:Q(),enabled:vt()})),I(y,x)};pt(ft,y=>{i(_)&&y(Z)})}n(V),dt(()=>{xt(V,`accordion-item ${i(A)??""}`),xt(T,`accordion-control ${i(b)??""}`),z(T,"id",p()),z(T,"aria-expanded",i(_)),z(T,"aria-controls",`accordion-panel-${p()??""}`),T.disabled=G()}),F("click",T,tt),F("click",T,function(y){Dt.call(this,t,y)}),F("keydown",T,function(y){Dt.call(this,t,y)}),F("keyup",T,function(y){Dt.call(this,t,y)}),F("keypress",T,function(y){Dt.call(this,t,y)}),I(s,V),Ot(),u()}const qe=async(s,t,l,a)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:l.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");a(l.journeyData.journeyID)}catch(m){console.error("Error getting journey:",m),alert("An error occurred while posting the journey card.")}};var Ge=q('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Le=q('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ue(s,t){At(t,!0);let l=xe(t,["$$slots","$$events","$$legacy"]),a=Bt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),m=Bt({}),u=Bt({});const k=async(e,r)=>{m[e]||(m[e]=!0),await B(e)},_=(e,r)=>{u[e]||(u[e]={}),u[e][r]=a[e][r],a[e][r]=""},A=(e,r)=>{var v;const o=a[e][r],D=(v=u[e])==null?void 0:v[r];(o===""||o===null)&&D!==void 0&&(a[e][r]=D),k(e),u[e]&&(delete u[e][r],Object.keys(u[e]).length===0&&delete u[e])},b=async(e,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw new Error("Network response of journeyCard delete not ok");a[r].cardID="",a[r].datePosted="",a[r].iteration="",a[r].notes="",a[r].grindSetting="",a[r].shotTime="",a[r].journeyID="",a[r].grindAmount="",t.journeyData.journeyID&&f(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},f=async e=>{try{console.log(`Sending journeyID: ${e}`);const r=await fetch(`/journeyCard?journeyID=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const D=o.journeyCards;console.log("JourneyCardsData:",D);for(let v=0;v<a.length;v++)a[v]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};D.forEach((v,w)=>{w<a.length&&(a[w].cardID=v.id,a[w].datePosted=v.datePosted,a[w].iteration=v.iteration,a[w].notes=v.notes,a[w].grindSetting=v.grindSetting,a[w].shotTime=v.shotTime,a[w].journeyID=t.journeyData.journeyID,a[w].grindAmount=v.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},B=async e=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a[e].cardID,grindSetting:a[e].grindSetting,shotTime:a[e].shotTime,notes:a[e].notes,grindAmount:a[e].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");m[e]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function C(e){if(!e)return"";const r=new Date(e);if(isNaN(r.getTime()))return e;const o=(r.getMonth()+1).toString().padStart(2,"0"),D=r.getDate().toString().padStart(2,"0"),v=r.getFullYear().toString().slice(-2);return`${o}/${D}/${v}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&f(t.journeyData.journeyID)});var h=Le(),S=d(h),g=d(S);g.__click=[qe,l,t,f],n(S);var p=j(S,2);re(p,21,()=>a,ae,(e,r,o)=>{var D=gt(),v=ct(D);{var w=G=>{var L=Ge(),O=d(L);O.__click=()=>b(i(r).cardID,o);var X=j(O,2),it=d(X),E=d(it),st=d(E),yt=d(st);n(st);var K=j(st,2),vt=d(K,!0);n(K),n(E),n(it);var N=j(it,2),R=d(N);z(R,"for",`grindSetting${o+1}`);var W=j(R,2),Q=j(d(W),2);zt(Q),z(Q,"id",`grindSetting${o+1}`),n(W),n(N);var U=j(N,2),tt=d(U);z(tt,"for",`grindAmount${o+1}`);var Y=j(tt,2),V=j(d(Y),2);zt(V),z(V,"id",`grindAmount${o+1}`),n(Y),n(U);var T=j(U,2),rt=d(T);z(rt,"for",`shotTime${o+1}`);var _t=d(rt,!0);n(rt);var lt=j(rt,2),et=j(d(lt),2);zt(et),z(et,"id",`shotTime${o+1}`),n(lt),n(T);var ut=j(T,2),ht=d(ut);z(ht,"for",`notes${o+1}`);var bt=j(ht,2),ft=j(d(bt),2);we(ft),z(ft,"id",`notes${o+1}`),n(bt),n(ut),n(X),n(L),dt((Z,y)=>{ot(yt,`Iteration #${i(r).iteration??""}`),ot(vt,Z),ot(_t,y)},[()=>C(i(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),F("focus",Q,()=>_(o,"grindSetting")),F("blur",Q,()=>A(o,"grindSetting")),St(Q,()=>i(r).grindSetting,Z=>i(r).grindSetting=Z),F("focus",V,()=>_(o,"grindAmount")),F("blur",V,()=>A(o,"grindAmount")),St(V,()=>i(r).grindAmount,Z=>i(r).grindAmount=Z),F("focus",et,()=>_(o,"shotTime")),F("blur",et,()=>A(o,"shotTime")),St(et,()=>i(r).shotTime,Z=>i(r).shotTime=Z),F("focus",ft,()=>_(o,"notes")),F("blur",ft,()=>A(o,"notes")),St(ft,()=>i(r).notes,Z=>i(r).notes=Z),I(G,L)};pt(v,G=>{i(r).cardID!==""&&G(w)})}I(e,D)}),n(p),n(h),I(s,h),Ot()}be(["click"]);var Ve=q('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ke=q('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),We=q('<div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0 w-full h-10"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1" style="max-width: calc(100% - 60px);"> </p></div> <span class="btn-icon variant-filled-primary cursor-pointer ml-auto" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Qe=q('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xe=q('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Ye=q('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Ze(s,t){At(t,!1);let l=$(!0),a=$([]);const m="/images/espresso_machine.png";let u=$(-1);function k(e){return{journeyID:e.id}}const _=async e=>{try{const r=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(r.ok){const o=await r.json();console.log("Journey deleted:",o),A()}else{const o=await r.json();console.error("Failed to delete journey:",o.message)}}catch(r){console.error("Error deleting journey:",r)}},A=async()=>{H(l,!0);try{const e=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const r=await e.json();console.log("Archive:",r),H(a,r.journeys||[]),console.log("journeys:",i(a))}else{const r=await e.json();console.error("Failed to fetch journeys:",r.message)}}catch(e){console.error("Error fetching journeys:",e)}finally{H(l,!1)}};ke(()=>{A()}),Gt();var b=Ye(),f=d(b),B=d(f);{var C=e=>{var r=Ve();I(e,r)},h=e=>{var r=gt(),o=ct(r);{var D=w=>{Ne(w,{class:"w-full",children:(G,L)=>{var O=gt(),X=ct(O);re(X,1,()=>i(a),ae,(it,E,st)=>{const yt=Wt(()=>i(u)===st);ze(it,{get open(){return i(yt)},class:"mb-0",children:(K,vt)=>{var N=Ke(),R=d(N);n(N),F("click",R,Tt(()=>_(i(E).id))),F("keydown",R,Tt(W=>W.key==="Enter"&&_(i(E).id))),I(K,N)},$$slots:{default:!0,summary:(K,vt)=>{var N=We(),R=d(N),W=d(R),Q=d(W,!0);n(W);var U=j(W,4),tt=d(U,!0);n(U),n(R);var Y=j(R,2);n(N),dt(()=>{ot(Q,i(E).drink),ot(tt,i(E).coffeeBeans)}),F("click",Y,Tt(()=>_(i(E).id))),F("keydown",Y,Tt(V=>V.key==="Enter"&&_(i(E).id))),I(K,N)},content:(K,vt)=>{var N=Qe(),R=d(N),W=d(R),Q=d(W),U=d(Q),tt=d(U,!0);n(U);var Y=j(U,4),V=d(Y,!0);n(Y);var T=j(Y,4),rt=d(T,!0);n(T);var _t=j(T,4),lt=d(_t,!0);n(_t),n(Q),n(W),n(R);var et=j(R,2),ut=d(et),ht=d(ut);const bt=Wt(()=>k(i(E)));Ue(ht,{get journeyData(){return i(bt)},get drink(){return i(E).drink}}),n(ut),n(et),n(N),dt(()=>{ot(tt,i(E).drink),ot(V,i(E).coffeeBeans),ot(rt,i(E).grinder),ot(lt,i(E).brewingDevice)}),I(K,N)}}})}),I(G,O)},$$slots:{default:!0}})},v=w=>{var G=Xe();I(w,G)};pt(o,w=>{i(a).length>0?w(D):w(v,!1)},!0)}I(e,r)};pt(B,e=>{i(l)?e(C):e(h,!1)})}n(f);var S=j(f,2),g=d(S),p=d(g);z(p,"src",m),n(g),n(S),n(b),I(s,b),Ot()}var He=q("<!> <!>",1);function vr(s){var t=He(),l=ct(t);Ce(l,{});var a=j(l,2);Ze(a,{}),I(s,t)}export{vr as component};
