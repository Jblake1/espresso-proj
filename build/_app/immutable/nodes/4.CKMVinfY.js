import{t as V,a as D,d as Ut,c as pt}from"../chunks/DLZ7H7Fm.js";import{i as Lt}from"../chunks/BMgznbf7.js";import{l as Vt,ad as ne,aK as se,aL as ie,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as It,ay as Kt,az as Wt,aA as ge,T as Pt,aQ as R,aw as pe,aR as rt,Z as Y,$ as Z,a3 as P,aS as Ht,V as d,X as s,_ as dt,g as c,U as At,aT as z,R as I,Q as ct,N as ye,d as Mt}from"../chunks/BOw1AeM4.js";import{a as _e,w as he,e as J,d as be,r as we,s as at}from"../chunks/BReulVDI.js";import{l as $t,a as u,c as te,s as ee,i as yt,p as Bt,r as je}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as jt,s as q,c as Dt,h as Rt,r as zt,A as Ce}from"../chunks/HwSvXHEQ.js";import{s as qt}from"../chunks/Bfc47y5P.js";import{c as xe,o as ke}from"../chunks/BMBHoIzy.js";import"../chunks/iPvS4Q25.js";import{a as Ct,p as Ie,b as De}from"../chunks/DMKw4_NB.js";import{b as Tt}from"../chunks/QFNNfdoR.js";const Te=()=>performance.now(),ot={tick:i=>requestAnimationFrame(i),now:()=>Te(),tasks:new Set};function oe(){const i=ot.now();ot.tasks.forEach(t=>{t.c(i)||(ot.tasks.delete(t),t.f())}),ot.tasks.size!==0&&ot.tick(oe)}function Se(i){let t;return ot.tasks.size===0&&ot.tick(oe),{promise:new Promise(l=>{ot.tasks.add(t={c:i,f:l})}),abort(){ot.tasks.delete(t)}}}function St(i,t){he(()=>{i.dispatchEvent(new CustomEvent(t))})}function Pe(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const t=i.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Qt(i){const t={},l=i.split(";");for(const e of l){const[p,f]=e.split(":");if(!p||f===void 0)break;const C=Pe(p.trim());t[C]=f.trim()}return t}const Ae=i=>i;function Xt(i,t,l,e){var p=(i&ve)!==0,f=(i&ue)!==0,C=p&&f,w=(i&ce)!==0,O=C?"both":p?"in":"out",x,m=t.inert,M=t.style.overflow,b,y;function A(){var o=ge,v=Vt;Kt(null),Wt(null);try{return x??(x=l()(t,(e==null?void 0:e())??{},{direction:O}))}finally{Kt(o),Wt(v)}}var h={is_global:w,in(){var o;if(t.inert=m,!p){y==null||y.abort(),(o=y==null?void 0:y.reset)==null||o.call(y);return}f||b==null||b.abort(),St(t,"introstart"),b=Gt(t,A(),y,1,()=>{St(t,"introend"),b==null||b.abort(),b=x=void 0,t.style.overflow=M})},out(o){if(!f){o==null||o(),x=void 0;return}t.inert=!0,St(t,"outrostart"),y=Gt(t,A(),b,0,()=>{St(t,"outroend"),o==null||o()})},stop:()=>{b==null||b.abort(),y==null||y.abort()}},_=Vt;if((_.transitions??(_.transitions=[])).push(h),p&&_e){var a=w;if(!a){for(var r=_.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&se););a=!r||(r.f&ie)!==0}a&&le(()=>{de(()=>h.in())})}}function Gt(i,t,l,e,p){var f=e===1;if(fe(t)){var C,w=!1;return me(()=>{if(!w){var _=t({direction:f?"in":"out"});C=Gt(i,_,l,e,p)}}),{abort:()=>{w=!0,C==null||C.abort()},deactivate:()=>C.deactivate(),reset:()=>C.reset(),t:()=>C.t()}}if(l==null||l.deactivate(),!(t!=null&&t.duration))return p(),{abort:It,deactivate:It,reset:It,t:()=>e};const{delay:O=0,css:x,tick:m,easing:M=Ae}=t;var b=[];if(f&&l===void 0&&(m&&m(0,1),x)){var y=Qt(x(0,1));b.push(y,y)}var A=()=>1-e,h=i.animate(b,{duration:O});return h.onfinish=()=>{var _=(l==null?void 0:l.t())??1-e;l==null||l.abort();var a=e-_,r=t.duration*Math.abs(a),o=[];if(r>0){var v=!1;if(x)for(var n=Math.ceil(r/16.666666666666668),k=0;k<=n;k+=1){var X=_+a*M(k/n),G=Qt(x(X,1-X));o.push(G),v||(v=G.overflow==="hidden")}v&&(i.style.overflow="hidden"),A=()=>{var T=h.currentTime;return _+a*M(T/r)},m&&Se(()=>{if(h.playState!=="running")return!1;var T=A();return m(T,1-T),!0})}h=i.animate(o,{duration:r,fill:"forwards"}),h.onfinish=()=>{A=()=>e,m==null||m(e,1-e),p()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=It)},deactivate:()=>{p=It},reset:()=>{e===0&&(m==null||m(1,0))},t:()=>A()}}function Oe(i){const t=i-1;return t*t*t+1}function Yt(i,{delay:t=0,duration:l=400,easing:e=Oe,axis:p="y"}={}){const f=getComputedStyle(i),C=+f.opacity,w=p==="y"?"height":"width",O=parseFloat(f[w]),x=p==="y"?["top","bottom"]:["left","right"],m=x.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),M=parseFloat(f[`padding${m[0]}`]),b=parseFloat(f[`padding${m[1]}`]),y=parseFloat(f[`margin${m[0]}`]),A=parseFloat(f[`margin${m[1]}`]),h=parseFloat(f[`border${m[0]}Width`]),_=parseFloat(f[`border${m[1]}Width`]);return{delay:t,duration:l,easing:e,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*C};${w}: ${a*O}px;padding-${x[0]}: ${a*M}px;padding-${x[1]}: ${a*b}px;margin-${x[0]}: ${a*y}px;margin-${x[1]}: ${a*A}px;border-${x[0]}-width: ${a*h}px;border-${x[1]}-width: ${a*_}px;min-${w}: 0`}}var Ee=V('<div data-testid="accordion"><!></div>');function Ne(i,t){const l=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[e,p]=ee(),f=()=>te(Ie,"$prefersReducedMotionStore",e),C=Z();let w=u(t,"autocollapse",8,!1),O=u(t,"width",8,"w-full"),x=u(t,"spacing",8,"space-y-1"),m=u(t,"disabled",8,!1),M=u(t,"padding",8,"py-2 px-4"),b=u(t,"hover",8,"hover:bg-primary-hover-token"),y=u(t,"rounded",8,"rounded-container-token"),A=u(t,"caretOpen",8,"rotate-180"),h=u(t,"caretClosed",8,""),_=u(t,"regionControl",8,""),a=u(t,"regionPanel",8,"space-y-4"),r=u(t,"regionCaret",8,""),o=u(t,"transitions",24,()=>!f()),v=u(t,"transitionIn",8,Yt),n=u(t,"transitionInParams",24,()=>({duration:200})),k=u(t,"transitionOut",8,Yt),X=u(t,"transitionOutParams",24,()=>({duration:200}));const G=pe(null);R("active",G),R("autocollapse",w()),R("disabled",m()),R("padding",M()),R("hover",b()),R("rounded",y()),R("caretOpen",A()),R("caretClosed",h()),R("regionControl",_()),R("regionPanel",a()),R("regionCaret",r()),R("transitions",o()),R("transitionIn",v()),R("transitionInParams",n()),R("transitionOut",k()),R("transitionOutParams",X()),rt(()=>(P(O()),P(x()),P(l)),()=>{Y(C,`${O()} ${x()} ${l.class??""}`)}),Ht(),Lt();var T=Ee(),K=d(T);Ct(K,t,"default",{},null),s(T),dt(()=>jt(T,`accordion ${c(C)??""}`)),D(i,T),At(),p()}function Zt(i,t){const{transition:l,params:e,enabled:p}=t;return p?l(i,e):"duration"in e?l(i,{duration:0}):{duration:0}}var Fe=V('<div class="accordion-lead"><!></div>'),Je=V("<div><!></div>"),Me=V("<div><!></div>"),Be=V('<div role="region"><!></div>'),Re=V('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function ze(i,t){const l=De(t),e=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[p,f]=ee(),C=()=>te(k(),"$active",p),w=Z(),O=Z(),x=Z(),m=Z(),M=Z(),b=Z(),y=Z(),A=xe();let h=u(t,"open",12,!1),_=u(t,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",v="";let n=u(t,"autocollapse",24,()=>z("autocollapse")),k=u(t,"active",24,()=>z("active")),X=u(t,"disabled",24,()=>z("disabled")),G=u(t,"padding",24,()=>z("padding")),T=u(t,"hover",24,()=>z("hover")),K=u(t,"rounded",24,()=>z("rounded")),vt=u(t,"caretOpen",24,()=>z("caretOpen")),nt=u(t,"caretClosed",24,()=>z("caretClosed")),st=u(t,"regionControl",24,()=>z("regionControl")),_t=u(t,"regionPanel",24,()=>z("regionPanel")),E=u(t,"regionCaret",24,()=>z("regionCaret")),$=u(t,"transitions",24,()=>z("transitions")),ut=u(t,"transitionIn",24,()=>z("transitionIn")),it=u(t,"transitionInParams",24,()=>z("transitionInParams")),ht=u(t,"transitionOut",24,()=>z("transitionOut")),N=u(t,"transitionOutParams",24,()=>z("transitionOutParams"));const L=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function W(g){n()===!0?k().set(_()):h(!h()),tt(g)}function tt(g){const j=n()?C()===_():h();A("toggle",{event:g,id:_(),panelId:`accordion-panel-${_()}`,open:j,autocollapse:n()})}n()&&h()&&W(),rt(()=>(P(h()),P(n())),()=>{h()&&n()&&W()}),rt(()=>(P(n()),C(),P(_()),P(h())),()=>{Y(w,n()?C()===_():h())}),rt(()=>P(e),()=>{Y(O,`${a} ${e.class??""}`)}),rt(()=>(P(G()),P(T()),P(K()),P(st())),()=>{Y(x,`${r} ${G()} ${T()} ${K()} ${st()}`)}),rt(()=>(c(w),P(vt()),P(nt())),()=>{Y(m,c(w)?vt():nt())}),rt(()=>(P(E()),c(m)),()=>{Y(M,`${o} ${E()} ${c(m)}`)}),rt(()=>P(E()),()=>{Y(b,`${o} ${E()}`)}),rt(()=>(P(G()),P(K()),P(_t())),()=>{Y(y,`${v} ${G()} ${K()} ${_t()}`)}),Ht(),Lt();var F=Re(),S=d(F),U=d(S);{var lt=g=>{var j=Fe(),gt=d(j);Ct(gt,t,"lead",{},null),s(j),D(g,j)};yt(U,g=>{l.lead&&g(lt)})}var B=I(U,2),et=d(B);Ct(et,t,"summary",{},g=>{var j=Ut("(summary)");D(g,j)}),s(B);var ft=I(B,2);{var bt=g=>{var j=Je(),gt=d(j);{var Ot=wt=>{var xt=pt(),Nt=ct(xt);Ct(Nt,t,"iconClosed",{},Ft=>{var kt=pt(),Jt=ct(kt);Rt(Jt,()=>L),D(Ft,kt)}),D(wt,xt)},Et=wt=>{var xt=pt(),Nt=ct(xt);Ct(Nt,t,"iconOpen",{},Ft=>{var kt=pt(),Jt=ct(kt);Rt(Jt,()=>L),D(Ft,kt)}),D(wt,xt)};yt(gt,wt=>{c(w)?wt(Ot):wt(Et,!1)})}s(j),dt(()=>jt(j,`accordion-summary-icons ${c(b)??""}`)),D(g,j)},mt=g=>{var j=Me(),gt=d(j);Rt(gt,()=>L),s(j),dt(()=>jt(j,`accordion-summary-caret ${c(M)??""}`)),D(g,j)};yt(ft,g=>{l.iconClosed||l.iconOpen?g(bt):g(mt,!1)})}s(S);var H=I(S,2);{var Q=g=>{var j=Be(),gt=d(j);Ct(gt,t,"content",{},Ot=>{var Et=Ut("(content)");D(Ot,Et)}),s(j),dt(()=>{jt(j,`accordion-panel ${c(y)??""}`),q(j,"id",`accordion-panel-${_()??""}`),q(j,"aria-hidden",!c(w)),q(j,"aria-labelledby",_())}),Xt(1,j,()=>Zt,()=>({transition:ut(),params:it(),enabled:$()})),Xt(2,j,()=>Zt,()=>({transition:ht(),params:N(),enabled:$()})),D(g,j)};yt(H,g=>{c(w)&&g(Q)})}s(F),dt(()=>{jt(F,`accordion-item ${c(O)??""}`),jt(S,`accordion-control ${c(x)??""}`),q(S,"id",_()),q(S,"aria-expanded",c(w)),q(S,"aria-controls",`accordion-panel-${_()??""}`),S.disabled=X()}),J("click",S,W),J("click",S,function(g){Dt.call(this,t,g)}),J("keydown",S,function(g){Dt.call(this,t,g)}),J("keyup",S,function(g){Dt.call(this,t,g)}),J("keypress",S,function(g){Dt.call(this,t,g)}),D(i,F),At(),f()}const qe=async(i,t,l,e)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:l.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");e(l.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Ge=V('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Le=V('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ue(i,t){Pt(t,!0);let l=je(t,["$$slots","$$events","$$legacy"]),e=Bt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=Bt({}),f=Bt({});const C=async(a,r)=>{p[a]||(p[a]=!0),await M(a)},w=(a,r)=>{f[a]||(f[a]={}),f[a][r]=e[a][r],e[a][r]=""},O=(a,r)=>{var n;const o=e[a][r],v=(n=f[a])==null?void 0:n[r];(o===""||o===null)&&v!==void 0&&(e[a][r]=v),C(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},x=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");e[r].cardID="",e[r].datePosted="",e[r].iteration="",e[r].notes="",e[r].grindSetting="",e[r].shotTime="",e[r].journeyID="",e[r].grindAmount="",t.journeyData.journeyID&&m(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},m=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const v=o.journeyCards;console.log("JourneyCardsData:",v);for(let n=0;n<e.length;n++)e[n]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((n,k)=>{k<e.length&&(e[k].cardID=n.id,e[k].datePosted=n.datePosted,e[k].iteration=n.iteration,e[k].notes=n.notes,e[k].grindSetting=n.grindSetting,e[k].shotTime=n.shotTime,e[k].journeyID=t.journeyData.journeyID,e[k].grindAmount=n.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},M=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e[a].cardID,grindSetting:e[a].grindSetting,shotTime:e[a].shotTime,notes:e[a].notes,grindAmount:e[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function b(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),v=r.getDate().toString().padStart(2,"0"),n=r.getFullYear().toString().slice(-2);return`${o}/${v}/${n}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&m(t.journeyData.journeyID)});var y=Le(),A=d(y),h=d(A);h.__click=[qe,l,t,m],s(A);var _=I(A,2);re(_,21,()=>e,ae,(a,r,o)=>{var v=pt(),n=ct(v);{var k=X=>{var G=Ge(),T=d(G);T.__click=()=>x(c(r).cardID,o);var K=I(T,2),vt=d(K),nt=d(vt),st=d(nt),_t=d(st);s(st);var E=I(st,2),$=d(E,!0);s(E),s(nt),s(vt);var ut=I(vt,2),it=d(ut);q(it,"for",`grindSetting${o+1}`);var ht=I(it,2),N=I(d(ht),2);zt(N),q(N,"id",`grindSetting${o+1}`),s(ht),s(ut);var L=I(ut,2),W=d(L);q(W,"for",`grindAmount${o+1}`);var tt=I(W,2),F=I(d(tt),2);zt(F),q(F,"id",`grindAmount${o+1}`),s(tt),s(L);var S=I(L,2),U=d(S);q(U,"for",`shotTime${o+1}`);var lt=d(U,!0);s(U);var B=I(U,2),et=I(d(B),2);zt(et),q(et,"id",`shotTime${o+1}`),s(B),s(S);var ft=I(S,2),bt=d(ft);q(bt,"for",`notes${o+1}`);var mt=I(bt,2),H=I(d(mt),2);we(H),q(H,"id",`notes${o+1}`),s(mt),s(ft),s(K),s(G),dt((Q,g)=>{at(_t,`Iteration #${c(r).iteration??""}`),at($,Q),at(lt,g)},[()=>b(c(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),J("focus",N,()=>w(o,"grindSetting")),J("blur",N,()=>O(o,"grindSetting")),Tt(N,()=>c(r).grindSetting,Q=>c(r).grindSetting=Q),J("focus",F,()=>w(o,"grindAmount")),J("blur",F,()=>O(o,"grindAmount")),Tt(F,()=>c(r).grindAmount,Q=>c(r).grindAmount=Q),J("focus",et,()=>w(o,"shotTime")),J("blur",et,()=>O(o,"shotTime")),Tt(et,()=>c(r).shotTime,Q=>c(r).shotTime=Q),J("focus",H,()=>w(o,"notes")),J("blur",H,()=>O(o,"notes")),Tt(H,()=>c(r).notes,Q=>c(r).notes=Q),D(X,G)};yt(n,X=>{c(r).cardID!==""&&X(k)})}D(a,v)}),s(_),s(y),D(i,y),At()}be(["click"]);var Ve=V('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ke=V('<button type="button" class="flex items-center w-full min-w-0 text-left h-10 p-0 pr-2 justify-between"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1"> </p></div> <div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div></button>'),We=V('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Qe=V('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Xe=V('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Ye(i,t){Pt(t,!1);let l=Z(!0),e=Z([]);const p=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let C=Z(-1);function w(v){Y(C,c(C)===v?-1:v)}function O(v){return p[v%p.length]}function x(v){return{journeyID:v.id}}const m=async v=>{try{const n=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})});if(n.ok){const k=await n.json();console.log("Journey deleted:",k),M()}else{const k=await n.json();console.error("Failed to delete journey:",k.message)}}catch(n){console.error("Error deleting journey:",n)}},M=async()=>{Y(l,!0);try{const v=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(v.ok){const n=await v.json();console.log("Archive:",n),Y(e,n.journeys||[]),console.log("journeys:",c(e))}else{const n=await v.json();console.error("Failed to fetch journeys:",n.message)}}catch(v){console.error("Error fetching journeys:",v)}finally{Y(l,!1)}};ke(()=>{M()}),Lt();var b=Xe(),y=d(b),A=d(y);{var h=v=>{var n=Ve();D(v,n)},_=v=>{var n=pt(),k=ct(n);{var X=T=>{Ne(T,{class:"w-full",children:(K,vt)=>{var nt=pt(),st=ct(nt);re(st,1,()=>c(e),ae,(_t,E,$)=>{const ut=Mt(()=>c(C)===$);ze(_t,{get open(){return c(ut)},class:"mb-0",$$slots:{summary:(it,ht)=>{var N=Ke(),L=d(N),W=d(L),tt=d(W,!0);s(W);var F=I(W,4),S=d(F,!0);s(F),s(L);var U=I(L,2),lt=d(U);s(U),s(N),dt(B=>{q(N,"style",`background-image: url(${B??""}); background-size: cover; background-position: center;`),at(tt,c(E).drink),at(S,c(E).coffeeBeans)},[()=>O($)],Mt),J("click",lt,qt(()=>m(c(E).id))),J("keydown",lt,qt(B=>B.key==="Enter"&&m(c(E).id))),J("click",N,qt(()=>w($))),J("keydown",N,B=>B.key==="Enter"&&w($)),D(it,N)},content:(it,ht)=>{var N=We(),L=d(N),W=d(L),tt=d(W),F=d(tt),S=d(F,!0);s(F);var U=I(F,4),lt=d(U,!0);s(U);var B=I(U,4),et=d(B,!0);s(B);var ft=I(B,4),bt=d(ft,!0);s(ft),s(tt),s(W),s(L);var mt=I(L,2),H=d(mt),Q=d(H);const g=Mt(()=>x(c(E)));Ue(Q,{get journeyData(){return c(g)},get drink(){return c(E).drink}}),s(H),s(mt),s(N),dt(()=>{at(S,c(E).drink),at(lt,c(E).coffeeBeans),at(et,c(E).grinder),at(bt,c(E).brewingDevice)}),D(it,N)}}})}),D(K,nt)},$$slots:{default:!0}})},G=T=>{var K=Qe();D(T,K)};yt(k,T=>{c(e).length>0?T(X):T(G,!1)},!0)}D(v,n)};yt(A,v=>{c(l)?v(h):v(_,!1)})}s(y);var a=I(y,2),r=d(a),o=d(r);q(o,"src",f),s(r),s(a),s(b),D(i,b),At()}var Ze=V("<!> <!>",1);function cr(i){var t=Ze(),l=ct(t);Ce(l,{});var e=I(l,2);Ye(e,{}),D(i,t)}export{cr as component};
