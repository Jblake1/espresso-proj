import{t as U,a as D,d as Ut,c as gt}from"../chunks/DLZ7H7Fm.js";import{i as Lt}from"../chunks/BMgznbf7.js";import{l as Vt,ad as ne,aK as se,aL as ie,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as kt,ay as Kt,az as Wt,aA as ge,T as Pt,aQ as z,aw as pe,aR as rt,Z as X,$ as Y,a3 as P,aS as Ht,V as d,X as l,_ as lt,g as c,U as At,aT as B,R as k,Q as dt,N as ye,d as Mt}from"../chunks/BOw1AeM4.js";import{a as _e,w as he,e as M,d as be,r as we,s as it}from"../chunks/BReulVDI.js";import{l as $t,a as u,c as te,s as ee,i as pt,p as Rt,r as je}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as wt,s as q,c as Dt,h as zt,r as Bt,A as Ce}from"../chunks/aPLSJRGL.js";import{s as qt}from"../chunks/Bfc47y5P.js";import{c as Ie,o as xe}from"../chunks/BMBHoIzy.js";import"../chunks/D9JWSGt8.js";import{a as jt,p as ke,b as De}from"../chunks/DMKw4_NB.js";import{b as Tt}from"../chunks/QFNNfdoR.js";const Te=()=>performance.now(),at={tick:s=>requestAnimationFrame(s),now:()=>Te(),tasks:new Set};function oe(){const s=at.now();at.tasks.forEach(t=>{t.c(s)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(oe)}function Se(s){let t;return at.tasks.size===0&&at.tick(oe),{promise:new Promise(i=>{at.tasks.add(t={c:s,f:i})}),abort(){at.tasks.delete(t)}}}function St(s,t){he(()=>{s.dispatchEvent(new CustomEvent(t))})}function Pe(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const t=s.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Qt(s){const t={},i=s.split(";");for(const e of i){const[p,f]=e.split(":");if(!p||f===void 0)break;const C=Pe(p.trim());t[C]=f.trim()}return t}const Ae=s=>s;function Xt(s,t,i,e){var p=(s&ve)!==0,f=(s&ue)!==0,C=p&&f,w=(s&ce)!==0,O=C?"both":p?"in":"out",I,m=t.inert,R=t.style.overflow,b,y;function A(){var o=ge,v=Vt;Kt(null),Wt(null);try{return I??(I=i()(t,(e==null?void 0:e())??{},{direction:O}))}finally{Kt(o),Wt(v)}}var h={is_global:w,in(){var o;if(t.inert=m,!p){y==null||y.abort(),(o=y==null?void 0:y.reset)==null||o.call(y);return}f||b==null||b.abort(),St(t,"introstart"),b=Gt(t,A(),y,1,()=>{St(t,"introend"),b==null||b.abort(),b=I=void 0,t.style.overflow=R})},out(o){if(!f){o==null||o(),I=void 0;return}t.inert=!0,St(t,"outrostart"),y=Gt(t,A(),b,0,()=>{St(t,"outroend"),o==null||o()})},stop:()=>{b==null||b.abort(),y==null||y.abort()}},_=Vt;if((_.transitions??(_.transitions=[])).push(h),p&&_e){var a=w;if(!a){for(var r=_.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&se););a=!r||(r.f&ie)!==0}a&&le(()=>{de(()=>h.in())})}}function Gt(s,t,i,e,p){var f=e===1;if(fe(t)){var C,w=!1;return me(()=>{if(!w){var _=t({direction:f?"in":"out"});C=Gt(s,_,i,e,p)}}),{abort:()=>{w=!0,C==null||C.abort()},deactivate:()=>C.deactivate(),reset:()=>C.reset(),t:()=>C.t()}}if(i==null||i.deactivate(),!(t!=null&&t.duration))return p(),{abort:kt,deactivate:kt,reset:kt,t:()=>e};const{delay:O=0,css:I,tick:m,easing:R=Ae}=t;var b=[];if(f&&i===void 0&&(m&&m(0,1),I)){var y=Qt(I(0,1));b.push(y,y)}var A=()=>1-e,h=s.animate(b,{duration:O});return h.onfinish=()=>{var _=(i==null?void 0:i.t())??1-e;i==null||i.abort();var a=e-_,r=t.duration*Math.abs(a),o=[];if(r>0){var v=!1;if(I)for(var n=Math.ceil(r/16.666666666666668),x=0;x<=n;x+=1){var W=_+a*R(x/n),G=Qt(I(W,1-W));o.push(G),v||(v=G.overflow==="hidden")}v&&(s.style.overflow="hidden"),A=()=>{var T=h.currentTime;return _+a*R(T/r)},m&&Se(()=>{if(h.playState!=="running")return!1;var T=A();return m(T,1-T),!0})}h=s.animate(o,{duration:r,fill:"forwards"}),h.onfinish=()=>{A=()=>e,m==null||m(e,1-e),p()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=kt)},deactivate:()=>{p=kt},reset:()=>{e===0&&(m==null||m(1,0))},t:()=>A()}}function Oe(s){const t=s-1;return t*t*t+1}function Yt(s,{delay:t=0,duration:i=400,easing:e=Oe,axis:p="y"}={}){const f=getComputedStyle(s),C=+f.opacity,w=p==="y"?"height":"width",O=parseFloat(f[w]),I=p==="y"?["top","bottom"]:["left","right"],m=I.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),R=parseFloat(f[`padding${m[0]}`]),b=parseFloat(f[`padding${m[1]}`]),y=parseFloat(f[`margin${m[0]}`]),A=parseFloat(f[`margin${m[1]}`]),h=parseFloat(f[`border${m[0]}Width`]),_=parseFloat(f[`border${m[1]}Width`]);return{delay:t,duration:i,easing:e,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*C};${w}: ${a*O}px;padding-${I[0]}: ${a*R}px;padding-${I[1]}: ${a*b}px;margin-${I[0]}: ${a*y}px;margin-${I[1]}: ${a*A}px;border-${I[0]}-width: ${a*h}px;border-${I[1]}-width: ${a*_}px;min-${w}: 0`}}var Ee=U('<div data-testid="accordion"><!></div>');function Ne(s,t){const i=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[e,p]=ee(),f=()=>te(ke,"$prefersReducedMotionStore",e),C=Y();let w=u(t,"autocollapse",8,!1),O=u(t,"width",8,"w-full"),I=u(t,"spacing",8,"space-y-1"),m=u(t,"disabled",8,!1),R=u(t,"padding",8,"py-2 px-4"),b=u(t,"hover",8,"hover:bg-primary-hover-token"),y=u(t,"rounded",8,"rounded-container-token"),A=u(t,"caretOpen",8,"rotate-180"),h=u(t,"caretClosed",8,""),_=u(t,"regionControl",8,""),a=u(t,"regionPanel",8,"space-y-4"),r=u(t,"regionCaret",8,""),o=u(t,"transitions",24,()=>!f()),v=u(t,"transitionIn",8,Yt),n=u(t,"transitionInParams",24,()=>({duration:200})),x=u(t,"transitionOut",8,Yt),W=u(t,"transitionOutParams",24,()=>({duration:200}));const G=pe(null);z("active",G),z("autocollapse",w()),z("disabled",m()),z("padding",R()),z("hover",b()),z("rounded",y()),z("caretOpen",A()),z("caretClosed",h()),z("regionControl",_()),z("regionPanel",a()),z("regionCaret",r()),z("transitions",o()),z("transitionIn",v()),z("transitionInParams",n()),z("transitionOut",x()),z("transitionOutParams",W()),rt(()=>(P(O()),P(I()),P(i)),()=>{X(C,`${O()} ${I()} ${i.class??""}`)}),Ht(),Lt();var T=Ee(),V=d(T);jt(V,t,"default",{},null),l(T),lt(()=>wt(T,`accordion ${c(C)??""}`)),D(s,T),At(),p()}function Zt(s,t){const{transition:i,params:e,enabled:p}=t;return p?i(s,e):"duration"in e?i(s,{duration:0}):{duration:0}}var Fe=U('<div class="accordion-lead"><!></div>'),Je=U("<div><!></div>"),Me=U("<div><!></div>"),Re=U('<div role="region"><!></div>'),ze=U('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function Be(s,t){const i=De(t),e=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[p,f]=ee(),C=()=>te(x(),"$active",p),w=Y(),O=Y(),I=Y(),m=Y(),R=Y(),b=Y(),y=Y(),A=Ie();let h=u(t,"open",12,!1),_=u(t,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",v="";let n=u(t,"autocollapse",24,()=>B("autocollapse")),x=u(t,"active",24,()=>B("active")),W=u(t,"disabled",24,()=>B("disabled")),G=u(t,"padding",24,()=>B("padding")),T=u(t,"hover",24,()=>B("hover")),V=u(t,"rounded",24,()=>B("rounded")),ct=u(t,"caretOpen",24,()=>B("caretOpen")),ot=u(t,"caretClosed",24,()=>B("caretClosed")),nt=u(t,"regionControl",24,()=>B("regionControl")),yt=u(t,"regionPanel",24,()=>B("regionPanel")),N=u(t,"regionCaret",24,()=>B("regionCaret")),$=u(t,"transitions",24,()=>B("transitions")),vt=u(t,"transitionIn",24,()=>B("transitionIn")),st=u(t,"transitionInParams",24,()=>B("transitionInParams")),_t=u(t,"transitionOut",24,()=>B("transitionOut")),E=u(t,"transitionOutParams",24,()=>B("transitionOutParams"));const L=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function Q(g){n()===!0?x().set(_()):h(!h()),tt(g)}function tt(g){const j=n()?C()===_():h();A("toggle",{event:g,id:_(),panelId:`accordion-panel-${_()}`,open:j,autocollapse:n()})}n()&&h()&&Q(),rt(()=>(P(h()),P(n())),()=>{h()&&n()&&Q()}),rt(()=>(P(n()),C(),P(_()),P(h())),()=>{X(w,n()?C()===_():h())}),rt(()=>P(e),()=>{X(O,`${a} ${e.class??""}`)}),rt(()=>(P(G()),P(T()),P(V()),P(nt())),()=>{X(I,`${r} ${G()} ${T()} ${V()} ${nt()}`)}),rt(()=>(c(w),P(ct()),P(ot())),()=>{X(m,c(w)?ct():ot())}),rt(()=>(P(N()),c(m)),()=>{X(R,`${o} ${N()} ${c(m)}`)}),rt(()=>P(N()),()=>{X(b,`${o} ${N()}`)}),rt(()=>(P(G()),P(V()),P(yt())),()=>{X(y,`${v} ${G()} ${V()} ${yt()}`)}),Ht(),Lt();var F=ze(),S=d(F),J=d(S);{var Ct=g=>{var j=Fe(),mt=d(j);jt(mt,t,"lead",{},null),l(j),D(g,j)};pt(J,g=>{i.lead&&g(Ct)})}var Z=k(J,2),et=d(Z);jt(et,t,"summary",{},g=>{var j=Ut("(summary)");D(g,j)}),l(Z);var ut=k(Z,2);{var ht=g=>{var j=Je(),mt=d(j);{var Ot=bt=>{var It=gt(),Nt=dt(It);jt(Nt,t,"iconClosed",{},Ft=>{var xt=gt(),Jt=dt(xt);zt(Jt,()=>L),D(Ft,xt)}),D(bt,It)},Et=bt=>{var It=gt(),Nt=dt(It);jt(Nt,t,"iconOpen",{},Ft=>{var xt=gt(),Jt=dt(xt);zt(Jt,()=>L),D(Ft,xt)}),D(bt,It)};pt(mt,bt=>{c(w)?bt(Ot):bt(Et,!1)})}l(j),lt(()=>wt(j,`accordion-summary-icons ${c(b)??""}`)),D(g,j)},ft=g=>{var j=Me(),mt=d(j);zt(mt,()=>L),l(j),lt(()=>wt(j,`accordion-summary-caret ${c(R)??""}`)),D(g,j)};pt(ut,g=>{i.iconClosed||i.iconOpen?g(ht):g(ft,!1)})}l(S);var H=k(S,2);{var K=g=>{var j=Re(),mt=d(j);jt(mt,t,"content",{},Ot=>{var Et=Ut("(content)");D(Ot,Et)}),l(j),lt(()=>{wt(j,`accordion-panel ${c(y)??""}`),q(j,"id",`accordion-panel-${_()??""}`),q(j,"aria-hidden",!c(w)),q(j,"aria-labelledby",_())}),Xt(1,j,()=>Zt,()=>({transition:vt(),params:st(),enabled:$()})),Xt(2,j,()=>Zt,()=>({transition:_t(),params:E(),enabled:$()})),D(g,j)};pt(H,g=>{c(w)&&g(K)})}l(F),lt(()=>{wt(F,`accordion-item ${c(O)??""}`),wt(S,`accordion-control ${c(I)??""}`),q(S,"id",_()),q(S,"aria-expanded",c(w)),q(S,"aria-controls",`accordion-panel-${_()??""}`),S.disabled=W()}),M("click",S,Q),M("click",S,function(g){Dt.call(this,t,g)}),M("keydown",S,function(g){Dt.call(this,t,g)}),M("keyup",S,function(g){Dt.call(this,t,g)}),M("keypress",S,function(g){Dt.call(this,t,g)}),D(s,F),At(),f()}const qe=async(s,t,i,e)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:i.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");e(i.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Ge=U('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Le=U('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ue(s,t){Pt(t,!0);let i=je(t,["$$slots","$$events","$$legacy"]),e=Rt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=Rt({}),f=Rt({});const C=async(a,r)=>{p[a]||(p[a]=!0),await R(a)},w=(a,r)=>{f[a]||(f[a]={}),f[a][r]=e[a][r],e[a][r]=""},O=(a,r)=>{var n;const o=e[a][r],v=(n=f[a])==null?void 0:n[r];(o===""||o===null)&&v!==void 0&&(e[a][r]=v),C(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},I=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");e[r].cardID="",e[r].datePosted="",e[r].iteration="",e[r].notes="",e[r].grindSetting="",e[r].shotTime="",e[r].journeyID="",e[r].grindAmount="",t.journeyData.journeyID&&m(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},m=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const v=o.journeyCards;console.log("JourneyCardsData:",v);for(let n=0;n<e.length;n++)e[n]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((n,x)=>{x<e.length&&(e[x].cardID=n.id,e[x].datePosted=n.datePosted,e[x].iteration=n.iteration,e[x].notes=n.notes,e[x].grindSetting=n.grindSetting,e[x].shotTime=n.shotTime,e[x].journeyID=t.journeyData.journeyID,e[x].grindAmount=n.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},R=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e[a].cardID,grindSetting:e[a].grindSetting,shotTime:e[a].shotTime,notes:e[a].notes,grindAmount:e[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function b(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),v=r.getDate().toString().padStart(2,"0"),n=r.getFullYear().toString().slice(-2);return`${o}/${v}/${n}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&m(t.journeyData.journeyID)});var y=Le(),A=d(y),h=d(A);h.__click=[qe,i,t,m],l(A);var _=k(A,2);re(_,21,()=>e,ae,(a,r,o)=>{var v=gt(),n=dt(v);{var x=W=>{var G=Ge(),T=d(G);T.__click=()=>I(c(r).cardID,o);var V=k(T,2),ct=d(V),ot=d(ct),nt=d(ot),yt=d(nt);l(nt);var N=k(nt,2),$=d(N,!0);l(N),l(ot),l(ct);var vt=k(ct,2),st=d(vt);q(st,"for",`grindSetting${o+1}`);var _t=k(st,2),E=k(d(_t),2);Bt(E),q(E,"id",`grindSetting${o+1}`),l(_t),l(vt);var L=k(vt,2),Q=d(L);q(Q,"for",`grindAmount${o+1}`);var tt=k(Q,2),F=k(d(tt),2);Bt(F),q(F,"id",`grindAmount${o+1}`),l(tt),l(L);var S=k(L,2),J=d(S);q(J,"for",`shotTime${o+1}`);var Ct=d(J,!0);l(J);var Z=k(J,2),et=k(d(Z),2);Bt(et),q(et,"id",`shotTime${o+1}`),l(Z),l(S);var ut=k(S,2),ht=d(ut);q(ht,"for",`notes${o+1}`);var ft=k(ht,2),H=k(d(ft),2);we(H),q(H,"id",`notes${o+1}`),l(ft),l(ut),l(V),l(G),lt((K,g)=>{it(yt,`Iteration #${c(r).iteration??""}`),it($,K),it(Ct,g)},[()=>b(c(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),M("focus",E,()=>w(o,"grindSetting")),M("blur",E,()=>O(o,"grindSetting")),Tt(E,()=>c(r).grindSetting,K=>c(r).grindSetting=K),M("focus",F,()=>w(o,"grindAmount")),M("blur",F,()=>O(o,"grindAmount")),Tt(F,()=>c(r).grindAmount,K=>c(r).grindAmount=K),M("focus",et,()=>w(o,"shotTime")),M("blur",et,()=>O(o,"shotTime")),Tt(et,()=>c(r).shotTime,K=>c(r).shotTime=K),M("focus",H,()=>w(o,"notes")),M("blur",H,()=>O(o,"notes")),Tt(H,()=>c(r).notes,K=>c(r).notes=K),D(W,G)};pt(n,W=>{c(r).cardID!==""&&W(x)})}D(a,v)}),l(_),l(y),D(s,y),At()}be(["click"]);var Ve=U('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ke=U('<button type="button" class="flex items-center w-full min-w-0 text-left h-10 p-0 pr-2 justify-between"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0 flex-1"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p></div> <div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div></button>'),We=U('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Qe=U('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Xe=U('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Ye(s,t){Pt(t,!1);let i=Y(!0),e=Y([]);const p=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let C=Y(-1);function w(v){X(C,c(C)===v?-1:v)}function O(v){return p[v%p.length]}function I(v){return{journeyID:v.id}}const m=async v=>{try{const n=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})});if(n.ok){const x=await n.json();console.log("Journey deleted:",x),R()}else{const x=await n.json();console.error("Failed to delete journey:",x.message)}}catch(n){console.error("Error deleting journey:",n)}},R=async()=>{X(i,!0);try{const v=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(v.ok){const n=await v.json();console.log("Archive:",n),X(e,n.journeys||[]),console.log("journeys:",c(e))}else{const n=await v.json();console.error("Failed to fetch journeys:",n.message)}}catch(v){console.error("Error fetching journeys:",v)}finally{X(i,!1)}};xe(()=>{R()}),Lt();var b=Xe(),y=d(b),A=d(y);{var h=v=>{var n=Ve();D(v,n)},_=v=>{var n=gt(),x=dt(n);{var W=T=>{Ne(T,{class:"w-full",children:(V,ct)=>{var ot=gt(),nt=dt(ot);re(nt,1,()=>c(e),ae,(yt,N,$)=>{const vt=Mt(()=>c(C)===$);Be(yt,{get open(){return c(vt)},class:"mb-0",$$slots:{summary:(st,_t)=>{var E=Ke(),L=d(E),Q=d(L),tt=d(Q,!0);l(Q),l(L);var F=k(L,2),S=d(F);l(F),l(E),lt(J=>{q(E,"style",`background-image: url(${J??""}); background-size: cover; background-position: center;`),it(tt,c(N).drink)},[()=>O($)],Mt),M("click",S,qt(()=>m(c(N).id))),M("keydown",S,qt(J=>J.key==="Enter"&&m(c(N).id))),M("click",E,qt(()=>w($))),M("keydown",E,J=>J.key==="Enter"&&w($)),D(st,E)},content:(st,_t)=>{var E=We(),L=d(E),Q=d(L),tt=d(Q),F=d(tt),S=d(F,!0);l(F);var J=k(F,4),Ct=d(J,!0);l(J);var Z=k(J,4),et=d(Z,!0);l(Z);var ut=k(Z,4),ht=d(ut,!0);l(ut),l(tt),l(Q),l(L);var ft=k(L,2),H=d(ft),K=d(H);const g=Mt(()=>I(c(N)));Ue(K,{get journeyData(){return c(g)},get drink(){return c(N).drink}}),l(H),l(ft),l(E),lt(()=>{it(S,c(N).drink),it(Ct,c(N).coffeeBeans),it(et,c(N).grinder),it(ht,c(N).brewingDevice)}),D(st,E)}}})}),D(V,ot)},$$slots:{default:!0}})},G=T=>{var V=Qe();D(T,V)};pt(x,T=>{c(e).length>0?T(W):T(G,!1)},!0)}D(v,n)};pt(A,v=>{c(i)?v(h):v(_,!1)})}l(y);var a=k(y,2),r=d(a),o=d(r);q(o,"src",f),l(r),l(a),l(b),D(s,b),At()}var Ze=U("<!> <!>",1);function cr(s){var t=Ze(),i=dt(t);Ce(i,{});var e=k(i,2);Ye(e,{}),D(s,t)}export{cr as component};
