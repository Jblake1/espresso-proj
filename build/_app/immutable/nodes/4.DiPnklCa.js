import{t as q,a as k,d as Gt,c as gt}from"../chunks/DLZ7H7Fm.js";import{i as qt}from"../chunks/BMgznbf7.js";import{l as Lt,ad as ne,aK as ie,aL as se,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as kt,ay as Ut,az as Vt,aA as ge,T as Pt,aQ as F,aw as pe,aR as et,Z,$ as H,a3 as P,aS as Ht,V as l,X as s,_ as dt,g as d,U as At,aT as J,R as x,Q as ct,N as ye,d as Kt}from"../chunks/BOw1AeM4.js";import{a as _e,w as he,e as R,d as be,r as we,s as rt}from"../chunks/BReulVDI.js";import{l as $t,a as c,c as te,s as ee,i as pt,p as Mt,r as Ce}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as Ct,s as z,c as Dt,h as Bt,r as Rt,A as je}from"../chunks/wb3lrcO9.js";import{s as Wt}from"../chunks/Bfc47y5P.js";import{c as xe,o as Ie}from"../chunks/BMBHoIzy.js";import"../chunks/BsT7aeZg.js";import{a as jt,p as ke,b as De}from"../chunks/DMKw4_NB.js";import{b as Tt}from"../chunks/QFNNfdoR.js";const Te=()=>performance.now(),at={tick:n=>requestAnimationFrame(n),now:()=>Te(),tasks:new Set};function oe(){const n=at.now();at.tasks.forEach(t=>{t.c(n)||(at.tasks.delete(t),t.f())}),at.tasks.size!==0&&at.tick(oe)}function Se(n){let t;return at.tasks.size===0&&at.tick(oe),{promise:new Promise(i=>{at.tasks.add(t={c:n,f:i})}),abort(){at.tasks.delete(t)}}}function St(n,t){he(()=>{n.dispatchEvent(new CustomEvent(t))})}function Pe(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Qt(n){const t={},i=n.split(";");for(const a of i){const[m,u]=a.split(":");if(!m||u===void 0)break;const I=Pe(m.trim());t[I]=u.trim()}return t}const Ae=n=>n;function Xt(n,t,i,a){var m=(n&ve)!==0,u=(n&ue)!==0,I=m&&u,b=(n&ce)!==0,A=I?"both":m?"in":"out",h,f=t.inert,M=t.style.overflow,j,_;function S(){var o=ge,D=Lt;Ut(null),Vt(null);try{return h??(h=i()(t,(a==null?void 0:a())??{},{direction:A}))}finally{Ut(o),Vt(D)}}var g={is_global:b,in(){var o;if(t.inert=f,!m){_==null||_.abort(),(o=_==null?void 0:_.reset)==null||o.call(_);return}u||j==null||j.abort(),St(t,"introstart"),j=zt(t,S(),_,1,()=>{St(t,"introend"),j==null||j.abort(),j=h=void 0,t.style.overflow=M})},out(o){if(!u){o==null||o(),h=void 0;return}t.inert=!0,St(t,"outrostart"),_=zt(t,S(),j,0,()=>{St(t,"outroend"),o==null||o()})},stop:()=>{j==null||j.abort(),_==null||_.abort()}},p=Lt;if((p.transitions??(p.transitions=[])).push(g),m&&_e){var e=b;if(!e){for(var r=p.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&ie););e=!r||(r.f&se)!==0}e&&le(()=>{de(()=>g.in())})}}function zt(n,t,i,a,m){var u=a===1;if(fe(t)){var I,b=!1;return me(()=>{if(!b){var p=t({direction:u?"in":"out"});I=zt(n,p,i,a,m)}}),{abort:()=>{b=!0,I==null||I.abort()},deactivate:()=>I.deactivate(),reset:()=>I.reset(),t:()=>I.t()}}if(i==null||i.deactivate(),!(t!=null&&t.duration))return m(),{abort:kt,deactivate:kt,reset:kt,t:()=>a};const{delay:A=0,css:h,tick:f,easing:M=Ae}=t;var j=[];if(u&&i===void 0&&(f&&f(0,1),h)){var _=Qt(h(0,1));j.push(_,_)}var S=()=>1-a,g=n.animate(j,{duration:A});return g.onfinish=()=>{var p=(i==null?void 0:i.t())??1-a;i==null||i.abort();var e=a-p,r=t.duration*Math.abs(e),o=[];if(r>0){var D=!1;if(h)for(var v=Math.ceil(r/16.666666666666668),w=0;w<=v;w+=1){var G=p+e*M(w/v),L=Qt(h(G,1-G));o.push(L),D||(D=L.overflow==="hidden")}D&&(n.style.overflow="hidden"),S=()=>{var O=g.currentTime;return p+e*M(O/r)},f&&Se(()=>{if(g.playState!=="running")return!1;var O=S();return f(O,1-O),!0})}g=n.animate(o,{duration:r,fill:"forwards"}),g.onfinish=()=>{S=()=>a,f==null||f(a,1-a),m()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=kt)},deactivate:()=>{m=kt},reset:()=>{a===0&&(f==null||f(1,0))},t:()=>S()}}function Oe(n){const t=n-1;return t*t*t+1}function Yt(n,{delay:t=0,duration:i=400,easing:a=Oe,axis:m="y"}={}){const u=getComputedStyle(n),I=+u.opacity,b=m==="y"?"height":"width",A=parseFloat(u[b]),h=m==="y"?["top","bottom"]:["left","right"],f=h.map(e=>`${e[0].toUpperCase()}${e.slice(1)}`),M=parseFloat(u[`padding${f[0]}`]),j=parseFloat(u[`padding${f[1]}`]),_=parseFloat(u[`margin${f[0]}`]),S=parseFloat(u[`margin${f[1]}`]),g=parseFloat(u[`border${f[0]}Width`]),p=parseFloat(u[`border${f[1]}Width`]);return{delay:t,duration:i,easing:a,css:e=>`overflow: hidden;opacity: ${Math.min(e*20,1)*I};${b}: ${e*A}px;padding-${h[0]}: ${e*M}px;padding-${h[1]}: ${e*j}px;margin-${h[0]}: ${e*_}px;margin-${h[1]}: ${e*S}px;border-${h[0]}-width: ${e*g}px;border-${h[1]}-width: ${e*p}px;min-${b}: 0`}}var Ee=q('<div data-testid="accordion"><!></div>');function Ne(n,t){const i=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[a,m]=ee(),u=()=>te(ke,"$prefersReducedMotionStore",a),I=H();let b=c(t,"autocollapse",8,!1),A=c(t,"width",8,"w-full"),h=c(t,"spacing",8,"space-y-1"),f=c(t,"disabled",8,!1),M=c(t,"padding",8,"py-2 px-4"),j=c(t,"hover",8,"hover:bg-primary-hover-token"),_=c(t,"rounded",8,"rounded-container-token"),S=c(t,"caretOpen",8,"rotate-180"),g=c(t,"caretClosed",8,""),p=c(t,"regionControl",8,""),e=c(t,"regionPanel",8,"space-y-4"),r=c(t,"regionCaret",8,""),o=c(t,"transitions",24,()=>!u()),D=c(t,"transitionIn",8,Yt),v=c(t,"transitionInParams",24,()=>({duration:200})),w=c(t,"transitionOut",8,Yt),G=c(t,"transitionOutParams",24,()=>({duration:200}));const L=pe(null);F("active",L),F("autocollapse",b()),F("disabled",f()),F("padding",M()),F("hover",j()),F("rounded",_()),F("caretOpen",S()),F("caretClosed",g()),F("regionControl",p()),F("regionPanel",e()),F("regionCaret",r()),F("transitions",o()),F("transitionIn",D()),F("transitionInParams",v()),F("transitionOut",w()),F("transitionOutParams",G()),et(()=>(P(A()),P(h()),P(i)),()=>{Z(I,`${A()} ${h()} ${i.class??""}`)}),Ht(),qt();var O=Ee(),Q=l(O);jt(Q,t,"default",{},null),s(O),dt(()=>Ct(O,`accordion ${d(I)??""}`)),k(n,O),At(),m()}function Zt(n,t){const{transition:i,params:a,enabled:m}=t;return m?i(n,a):"duration"in a?i(n,{duration:0}):{duration:0}}var Fe=q('<div class="accordion-lead"><!></div>'),Je=q("<div><!></div>"),Me=q("<div><!></div>"),Be=q('<div role="region"><!></div>'),Re=q('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function ze(n,t){const i=De(t),a=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[m,u]=ee(),I=()=>te(w(),"$active",m),b=H(),A=H(),h=H(),f=H(),M=H(),j=H(),_=H(),S=xe();let g=c(t,"open",12,!1),p=c(t,"id",24,()=>String(Math.random()));const e="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",D="";let v=c(t,"autocollapse",24,()=>J("autocollapse")),w=c(t,"active",24,()=>J("active")),G=c(t,"disabled",24,()=>J("disabled")),L=c(t,"padding",24,()=>J("padding")),O=c(t,"hover",24,()=>J("hover")),Q=c(t,"rounded",24,()=>J("rounded")),ot=c(t,"caretOpen",24,()=>J("caretOpen")),N=c(t,"caretClosed",24,()=>J("caretClosed")),nt=c(t,"regionControl",24,()=>J("regionControl")),yt=c(t,"regionPanel",24,()=>J("regionPanel")),U=c(t,"regionCaret",24,()=>J("regionCaret")),vt=c(t,"transitions",24,()=>J("transitions")),E=c(t,"transitionIn",24,()=>J("transitionIn")),B=c(t,"transitionInParams",24,()=>J("transitionInParams")),X=c(t,"transitionOut",24,()=>J("transitionOut")),V=c(t,"transitionOutParams",24,()=>J("transitionOutParams"));const K=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function it(y){v()===!0?w().set(p()):g(!g()),st(y)}function st(y){const C=v()?I()===p():g();S("toggle",{event:y,id:p(),panelId:`accordion-panel-${p()}`,open:C,autocollapse:v()})}v()&&g()&&it(),et(()=>(P(g()),P(v())),()=>{g()&&v()&&it()}),et(()=>(P(v()),I(),P(p()),P(g())),()=>{Z(b,v()?I()===p():g())}),et(()=>P(a),()=>{Z(A,`${e} ${a.class??""}`)}),et(()=>(P(L()),P(O()),P(Q()),P(nt())),()=>{Z(h,`${r} ${L()} ${O()} ${Q()} ${nt()}`)}),et(()=>(d(b),P(ot()),P(N())),()=>{Z(f,d(b)?ot():N())}),et(()=>(P(U()),d(f)),()=>{Z(M,`${o} ${U()} ${d(f)}`)}),et(()=>P(U()),()=>{Z(j,`${o} ${U()}`)}),et(()=>(P(L()),P(Q()),P(yt())),()=>{Z(_,`${D} ${L()} ${Q()} ${yt()}`)}),Ht(),qt();var W=Re(),T=l(W),tt=l(T);{var _t=y=>{var C=Fe(),mt=l(C);jt(mt,t,"lead",{},null),s(C),k(y,C)};pt(tt,y=>{i.lead&&y(_t)})}var lt=x(tt,2),$=l(lt);jt($,t,"summary",{},y=>{var C=Gt("(summary)");k(y,C)}),s(lt);var ut=x(lt,2);{var ht=y=>{var C=Je(),mt=l(C);{var Ot=wt=>{var xt=gt(),Nt=ct(xt);jt(Nt,t,"iconClosed",{},Ft=>{var It=gt(),Jt=ct(It);Bt(Jt,()=>K),k(Ft,It)}),k(wt,xt)},Et=wt=>{var xt=gt(),Nt=ct(xt);jt(Nt,t,"iconOpen",{},Ft=>{var It=gt(),Jt=ct(It);Bt(Jt,()=>K),k(Ft,It)}),k(wt,xt)};pt(mt,wt=>{d(b)?wt(Ot):wt(Et,!1)})}s(C),dt(()=>Ct(C,`accordion-summary-icons ${d(j)??""}`)),k(y,C)},bt=y=>{var C=Me(),mt=l(C);Bt(mt,()=>K),s(C),dt(()=>Ct(C,`accordion-summary-caret ${d(M)??""}`)),k(y,C)};pt(ut,y=>{i.iconClosed||i.iconOpen?y(ht):y(bt,!1)})}s(T);var ft=x(T,2);{var Y=y=>{var C=Be(),mt=l(C);jt(mt,t,"content",{},Ot=>{var Et=Gt("(content)");k(Ot,Et)}),s(C),dt(()=>{Ct(C,`accordion-panel ${d(_)??""}`),z(C,"id",`accordion-panel-${p()??""}`),z(C,"aria-hidden",!d(b)),z(C,"aria-labelledby",p())}),Xt(1,C,()=>Zt,()=>({transition:E(),params:B(),enabled:vt()})),Xt(2,C,()=>Zt,()=>({transition:X(),params:V(),enabled:vt()})),k(y,C)};pt(ft,y=>{d(b)&&y(Y)})}s(W),dt(()=>{Ct(W,`accordion-item ${d(A)??""}`),Ct(T,`accordion-control ${d(h)??""}`),z(T,"id",p()),z(T,"aria-expanded",d(b)),z(T,"aria-controls",`accordion-panel-${p()??""}`),T.disabled=G()}),R("click",T,it),R("click",T,function(y){Dt.call(this,t,y)}),R("keydown",T,function(y){Dt.call(this,t,y)}),R("keyup",T,function(y){Dt.call(this,t,y)}),R("keypress",T,function(y){Dt.call(this,t,y)}),k(n,W),At(),u()}const qe=async(n,t,i,a)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:i.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");a(i.journeyData.journeyID)}catch(m){console.error("Error getting journey:",m),alert("An error occurred while posting the journey card.")}};var Ge=q('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Le=q('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ue(n,t){Pt(t,!0);let i=Ce(t,["$$slots","$$events","$$legacy"]),a=Mt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),m=Mt({}),u=Mt({});const I=async(e,r)=>{m[e]||(m[e]=!0),await M(e)},b=(e,r)=>{u[e]||(u[e]={}),u[e][r]=a[e][r],a[e][r]=""},A=(e,r)=>{var v;const o=a[e][r],D=(v=u[e])==null?void 0:v[r];(o===""||o===null)&&D!==void 0&&(a[e][r]=D),I(e),u[e]&&(delete u[e][r],Object.keys(u[e]).length===0&&delete u[e])},h=async(e,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok)throw new Error("Network response of journeyCard delete not ok");a[r].cardID="",a[r].datePosted="",a[r].iteration="",a[r].notes="",a[r].grindSetting="",a[r].shotTime="",a[r].journeyID="",a[r].grindAmount="",t.journeyData.journeyID&&f(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},f=async e=>{try{console.log(`Sending journeyID: ${e}`);const r=await fetch(`/journeyCard?journeyID=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const D=o.journeyCards;console.log("JourneyCardsData:",D);for(let v=0;v<a.length;v++)a[v]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};D.forEach((v,w)=>{w<a.length&&(a[w].cardID=v.id,a[w].datePosted=v.datePosted,a[w].iteration=v.iteration,a[w].notes=v.notes,a[w].grindSetting=v.grindSetting,a[w].shotTime=v.shotTime,a[w].journeyID=t.journeyData.journeyID,a[w].grindAmount=v.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},M=async e=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a[e].cardID,grindSetting:a[e].grindSetting,shotTime:a[e].shotTime,notes:a[e].notes,grindAmount:a[e].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");m[e]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function j(e){if(!e)return"";const r=new Date(e);if(isNaN(r.getTime()))return e;const o=(r.getMonth()+1).toString().padStart(2,"0"),D=r.getDate().toString().padStart(2,"0"),v=r.getFullYear().toString().slice(-2);return`${o}/${D}/${v}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&f(t.journeyData.journeyID)});var _=Le(),S=l(_),g=l(S);g.__click=[qe,i,t,f],s(S);var p=x(S,2);re(p,21,()=>a,ae,(e,r,o)=>{var D=gt(),v=ct(D);{var w=G=>{var L=Ge(),O=l(L);O.__click=()=>h(d(r).cardID,o);var Q=x(O,2),ot=l(Q),N=l(ot),nt=l(N),yt=l(nt);s(nt);var U=x(nt,2),vt=l(U,!0);s(U),s(N),s(ot);var E=x(ot,2),B=l(E);z(B,"for",`grindSetting${o+1}`);var X=x(B,2),V=x(l(X),2);Rt(V),z(V,"id",`grindSetting${o+1}`),s(X),s(E);var K=x(E,2),it=l(K);z(it,"for",`grindAmount${o+1}`);var st=x(it,2),W=x(l(st),2);Rt(W),z(W,"id",`grindAmount${o+1}`),s(st),s(K);var T=x(K,2),tt=l(T);z(tt,"for",`shotTime${o+1}`);var _t=l(tt,!0);s(tt);var lt=x(tt,2),$=x(l(lt),2);Rt($),z($,"id",`shotTime${o+1}`),s(lt),s(T);var ut=x(T,2),ht=l(ut);z(ht,"for",`notes${o+1}`);var bt=x(ht,2),ft=x(l(bt),2);we(ft),z(ft,"id",`notes${o+1}`),s(bt),s(ut),s(Q),s(L),dt((Y,y)=>{rt(yt,`Iteration #${d(r).iteration??""}`),rt(vt,Y),rt(_t,y)},[()=>j(d(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),R("focus",V,()=>b(o,"grindSetting")),R("blur",V,()=>A(o,"grindSetting")),Tt(V,()=>d(r).grindSetting,Y=>d(r).grindSetting=Y),R("focus",W,()=>b(o,"grindAmount")),R("blur",W,()=>A(o,"grindAmount")),Tt(W,()=>d(r).grindAmount,Y=>d(r).grindAmount=Y),R("focus",$,()=>b(o,"shotTime")),R("blur",$,()=>A(o,"shotTime")),Tt($,()=>d(r).shotTime,Y=>d(r).shotTime=Y),R("focus",ft,()=>b(o,"notes")),R("blur",ft,()=>A(o,"notes")),Tt(ft,()=>d(r).notes,Y=>d(r).notes=Y),k(G,L)};pt(v,G=>{d(r).cardID!==""&&G(w)})}k(e,D)}),s(p),s(_),k(n,_),At()}be(["click"]);var Ve=q('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ke=q('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),We=q('<div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1"> </p></div>'),Qe=q('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xe=q('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Ye=q('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Ze(n,t){Pt(t,!1);let i=H(!0),a=H([]);const m="/images/espresso_machine.png";let u=H(-1);function I(e){return{journeyID:e.id}}const b=async e=>{try{const r=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(r.ok){const o=await r.json();console.log("Journey deleted:",o),A()}else{const o=await r.json();console.error("Failed to delete journey:",o.message)}}catch(r){console.error("Error deleting journey:",r)}},A=async()=>{Z(i,!0);try{const e=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){const r=await e.json();console.log("Archive:",r),Z(a,r.journeys||[]),console.log("journeys:",d(a))}else{const r=await e.json();console.error("Failed to fetch journeys:",r.message)}}catch(e){console.error("Error fetching journeys:",e)}finally{Z(i,!1)}};Ie(()=>{A()}),qt();var h=Ye(),f=l(h),M=l(f);{var j=e=>{var r=Ve();k(e,r)},_=e=>{var r=gt(),o=ct(r);{var D=w=>{Ne(w,{class:"w-full",children:(G,L)=>{var O=gt(),Q=ct(O);re(Q,1,()=>d(a),ae,(ot,N,nt)=>{const yt=Kt(()=>d(u)===nt);ze(ot,{get open(){return d(yt)},class:"mb-0",children:(U,vt)=>{var E=Ke(),B=l(E);s(E),R("click",B,Wt(()=>b(d(N).id))),R("keydown",B,Wt(X=>X.key==="Enter"&&b(d(N).id))),k(U,E)},$$slots:{default:!0,summary:(U,vt)=>{var E=We(),B=l(E),X=l(B,!0);s(B);var V=x(B,4),K=l(V,!0);s(V),s(E),dt(()=>{rt(X,d(N).drink),rt(K,d(N).coffeeBeans)}),k(U,E)},content:(U,vt)=>{var E=Qe(),B=l(E),X=l(B),V=l(X),K=l(V),it=l(K,!0);s(K);var st=x(K,4),W=l(st,!0);s(st);var T=x(st,4),tt=l(T,!0);s(T);var _t=x(T,4),lt=l(_t,!0);s(_t),s(V),s(X),s(B);var $=x(B,2),ut=l($),ht=l(ut);const bt=Kt(()=>I(d(N)));Ue(ht,{get journeyData(){return d(bt)},get drink(){return d(N).drink}}),s(ut),s($),s(E),dt(()=>{rt(it,d(N).drink),rt(W,d(N).coffeeBeans),rt(tt,d(N).grinder),rt(lt,d(N).brewingDevice)}),k(U,E)}}})}),k(G,O)},$$slots:{default:!0}})},v=w=>{var G=Xe();k(w,G)};pt(o,w=>{d(a).length>0?w(D):w(v,!1)},!0)}k(e,r)};pt(M,e=>{d(i)?e(j):e(_,!1)})}s(f);var S=x(f,2),g=l(S),p=l(g);z(p,"src",m),s(g),s(S),s(h),k(n,h),At()}var He=q("<!> <!>",1);function vr(n){var t=He(),i=ct(t);je(i,{});var a=x(i,2);Ze(a,{}),k(n,t)}export{vr as component};
