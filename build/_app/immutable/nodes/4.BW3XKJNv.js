import{t as L,a as D,d as Ut,c as pt}from"../chunks/DLZ7H7Fm.js";import{i as Lt}from"../chunks/BMgznbf7.js";import{l as Vt,ad as ne,aK as se,aL as ie,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as kt,ay as Kt,az as Wt,aA as ge,T as Pt,aQ as B,aw as pe,aR as ot,Z as X,$ as Z,a3 as P,aS as Ht,V as d,X as l,_ as vt,g as c,U as At,aT as R,R as k,Q as st,N as ye,d as Mt}from"../chunks/BOw1AeM4.js";import{a as _e,w as he,e as N,d as be,r as we,s as ct}from"../chunks/BReulVDI.js";import{l as $t,a as u,c as te,s as ee,i as yt,p as Bt,r as je}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as jt,s as z,c as Dt,h as Rt,r as zt,A as xe}from"../chunks/DUctf8v3.js";import{s as qt}from"../chunks/Bfc47y5P.js";import{c as Ce,o as Ie}from"../chunks/BMBHoIzy.js";import"../chunks/CEDg2V71.js";import{a as xt,p as ke,b as De}from"../chunks/DMKw4_NB.js";import{b as Tt}from"../chunks/QFNNfdoR.js";const Te=()=>performance.now(),nt={tick:s=>requestAnimationFrame(s),now:()=>Te(),tasks:new Set};function oe(){const s=nt.now();nt.tasks.forEach(t=>{t.c(s)||(nt.tasks.delete(t),t.f())}),nt.tasks.size!==0&&nt.tick(oe)}function Se(s){let t;return nt.tasks.size===0&&nt.tick(oe),{promise:new Promise(i=>{nt.tasks.add(t={c:s,f:i})}),abort(){nt.tasks.delete(t)}}}function St(s,t){he(()=>{s.dispatchEvent(new CustomEvent(t))})}function Pe(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const t=s.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function Qt(s){const t={},i=s.split(";");for(const e of i){const[p,f]=e.split(":");if(!p||f===void 0)break;const x=Pe(p.trim());t[x]=f.trim()}return t}const Ae=s=>s;function Xt(s,t,i,e){var p=(s&ve)!==0,f=(s&ue)!==0,x=p&&f,j=(s&ce)!==0,O=x?"both":p?"in":"out",C,g=t.inert,F=t.style.overflow,w,y;function A(){var o=ge,v=Vt;Kt(null),Wt(null);try{return C??(C=i()(t,(e==null?void 0:e())??{},{direction:O}))}finally{Kt(o),Wt(v)}}var h={is_global:j,in(){var o;if(t.inert=g,!p){y==null||y.abort(),(o=y==null?void 0:y.reset)==null||o.call(y);return}f||w==null||w.abort(),St(t,"introstart"),w=Gt(t,A(),y,1,()=>{St(t,"introend"),w==null||w.abort(),w=C=void 0,t.style.overflow=F})},out(o){if(!f){o==null||o(),C=void 0;return}t.inert=!0,St(t,"outrostart"),y=Gt(t,A(),w,0,()=>{St(t,"outroend"),o==null||o()})},stop:()=>{w==null||w.abort(),y==null||y.abort()}},_=Vt;if((_.transitions??(_.transitions=[])).push(h),p&&_e){var a=j;if(!a){for(var r=_.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&se););a=!r||(r.f&ie)!==0}a&&le(()=>{de(()=>h.in())})}}function Gt(s,t,i,e,p){var f=e===1;if(fe(t)){var x,j=!1;return me(()=>{if(!j){var _=t({direction:f?"in":"out"});x=Gt(s,_,i,e,p)}}),{abort:()=>{j=!0,x==null||x.abort()},deactivate:()=>x.deactivate(),reset:()=>x.reset(),t:()=>x.t()}}if(i==null||i.deactivate(),!(t!=null&&t.duration))return p(),{abort:kt,deactivate:kt,reset:kt,t:()=>e};const{delay:O=0,css:C,tick:g,easing:F=Ae}=t;var w=[];if(f&&i===void 0&&(g&&g(0,1),C)){var y=Qt(C(0,1));w.push(y,y)}var A=()=>1-e,h=s.animate(w,{duration:O});return h.onfinish=()=>{var _=(i==null?void 0:i.t())??1-e;i==null||i.abort();var a=e-_,r=t.duration*Math.abs(a),o=[];if(r>0){var v=!1;if(C)for(var n=Math.ceil(r/16.666666666666668),I=0;I<=n;I+=1){var W=_+a*F(I/n),q=Qt(C(W,1-W));o.push(q),v||(v=q.overflow==="hidden")}v&&(s.style.overflow="hidden"),A=()=>{var T=h.currentTime;return _+a*F(T/r)},g&&Se(()=>{if(h.playState!=="running")return!1;var T=A();return g(T,1-T),!0})}h=s.animate(o,{duration:r,fill:"forwards"}),h.onfinish=()=>{A=()=>e,g==null||g(e,1-e),p()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=kt)},deactivate:()=>{p=kt},reset:()=>{e===0&&(g==null||g(1,0))},t:()=>A()}}function Oe(s){const t=s-1;return t*t*t+1}function Yt(s,{delay:t=0,duration:i=400,easing:e=Oe,axis:p="y"}={}){const f=getComputedStyle(s),x=+f.opacity,j=p==="y"?"height":"width",O=parseFloat(f[j]),C=p==="y"?["top","bottom"]:["left","right"],g=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),F=parseFloat(f[`padding${g[0]}`]),w=parseFloat(f[`padding${g[1]}`]),y=parseFloat(f[`margin${g[0]}`]),A=parseFloat(f[`margin${g[1]}`]),h=parseFloat(f[`border${g[0]}Width`]),_=parseFloat(f[`border${g[1]}Width`]);return{delay:t,duration:i,easing:e,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*x};${j}: ${a*O}px;padding-${C[0]}: ${a*F}px;padding-${C[1]}: ${a*w}px;margin-${C[0]}: ${a*y}px;margin-${C[1]}: ${a*A}px;border-${C[0]}-width: ${a*h}px;border-${C[1]}-width: ${a*_}px;min-${j}: 0`}}var Ee=L('<div data-testid="accordion"><!></div>');function Ne(s,t){const i=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[e,p]=ee(),f=()=>te(ke,"$prefersReducedMotionStore",e),x=Z();let j=u(t,"autocollapse",8,!1),O=u(t,"width",8,"w-full"),C=u(t,"spacing",8,"space-y-1"),g=u(t,"disabled",8,!1),F=u(t,"padding",8,"py-2 px-4"),w=u(t,"hover",8,"hover:bg-primary-hover-token"),y=u(t,"rounded",8,"rounded-container-token"),A=u(t,"caretOpen",8,"rotate-180"),h=u(t,"caretClosed",8,""),_=u(t,"regionControl",8,""),a=u(t,"regionPanel",8,"space-y-4"),r=u(t,"regionCaret",8,""),o=u(t,"transitions",24,()=>!f()),v=u(t,"transitionIn",8,Yt),n=u(t,"transitionInParams",24,()=>({duration:200})),I=u(t,"transitionOut",8,Yt),W=u(t,"transitionOutParams",24,()=>({duration:200}));const q=pe(null);B("active",q),B("autocollapse",j()),B("disabled",g()),B("padding",F()),B("hover",w()),B("rounded",y()),B("caretOpen",A()),B("caretClosed",h()),B("regionControl",_()),B("regionPanel",a()),B("regionCaret",r()),B("transitions",o()),B("transitionIn",v()),B("transitionInParams",n()),B("transitionOut",I()),B("transitionOutParams",W()),ot(()=>(P(O()),P(C()),P(i)),()=>{X(x,`${O()} ${C()} ${i.class??""}`)}),Ht(),Lt();var T=Ee(),U=d(T);xt(U,t,"default",{},null),l(T),vt(()=>jt(T,`accordion ${c(x)??""}`)),D(s,T),At(),p()}function Zt(s,t){const{transition:i,params:e,enabled:p}=t;return p?i(s,e):"duration"in e?i(s,{duration:0}):{duration:0}}var Fe=L('<div class="accordion-lead"><!></div>'),Je=L("<div><!></div>"),Me=L("<div><!></div>"),Be=L('<div role="region"><!></div>'),Re=L('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function ze(s,t){const i=De(t),e=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[p,f]=ee(),x=()=>te(I(),"$active",p),j=Z(),O=Z(),C=Z(),g=Z(),F=Z(),w=Z(),y=Z(),A=Ce();let h=u(t,"open",12,!1),_=u(t,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",v="";let n=u(t,"autocollapse",24,()=>R("autocollapse")),I=u(t,"active",24,()=>R("active")),W=u(t,"disabled",24,()=>R("disabled")),q=u(t,"padding",24,()=>R("padding")),T=u(t,"hover",24,()=>R("hover")),U=u(t,"rounded",24,()=>R("rounded")),it=u(t,"caretOpen",24,()=>R("caretOpen")),ut=u(t,"caretClosed",24,()=>R("caretClosed")),ft=u(t,"regionControl",24,()=>R("regionControl")),mt=u(t,"regionPanel",24,()=>R("regionPanel")),H=u(t,"regionCaret",24,()=>R("regionCaret")),_t=u(t,"transitions",24,()=>R("transitions")),G=u(t,"transitionIn",24,()=>R("transitionIn")),$=u(t,"transitionInParams",24,()=>R("transitionInParams")),ht=u(t,"transitionOut",24,()=>R("transitionOut")),Y=u(t,"transitionOutParams",24,()=>R("transitionOutParams"));const tt=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function E(m){n()===!0?I().set(_()):h(!h()),Q(m)}function Q(m){const b=n()?x()===_():h();A("toggle",{event:m,id:_(),panelId:`accordion-panel-${_()}`,open:b,autocollapse:n()})}n()&&h()&&E(),ot(()=>(P(h()),P(n())),()=>{h()&&n()&&E()}),ot(()=>(P(n()),x(),P(_()),P(h())),()=>{X(j,n()?x()===_():h())}),ot(()=>P(e),()=>{X(O,`${a} ${e.class??""}`)}),ot(()=>(P(q()),P(T()),P(U()),P(ft())),()=>{X(C,`${r} ${q()} ${T()} ${U()} ${ft()}`)}),ot(()=>(c(j),P(it()),P(ut())),()=>{X(g,c(j)?it():ut())}),ot(()=>(P(H()),c(g)),()=>{X(F,`${o} ${H()} ${c(g)}`)}),ot(()=>P(H()),()=>{X(w,`${o} ${H()}`)}),ot(()=>(P(q()),P(U()),P(mt())),()=>{X(y,`${v} ${q()} ${U()} ${mt()}`)}),Ht(),Lt();var J=Re(),S=d(J),V=d(S);{var lt=m=>{var b=Fe(),at=d(b);xt(at,t,"lead",{},null),l(b),D(m,b)};yt(V,m=>{i.lead&&m(lt)})}var M=k(V,2),et=d(M);xt(et,t,"summary",{},m=>{var b=Ut("(summary)");D(m,b)}),l(M);var dt=k(M,2);{var bt=m=>{var b=Je(),at=d(b);{var Ot=wt=>{var Ct=pt(),Nt=st(Ct);xt(Nt,t,"iconClosed",{},Ft=>{var It=pt(),Jt=st(It);Rt(Jt,()=>tt),D(Ft,It)}),D(wt,Ct)},Et=wt=>{var Ct=pt(),Nt=st(Ct);xt(Nt,t,"iconOpen",{},Ft=>{var It=pt(),Jt=st(It);Rt(Jt,()=>tt),D(Ft,It)}),D(wt,Ct)};yt(at,wt=>{c(j)?wt(Ot):wt(Et,!1)})}l(b),vt(()=>jt(b,`accordion-summary-icons ${c(w)??""}`)),D(m,b)},gt=m=>{var b=Me(),at=d(b);Rt(at,()=>tt),l(b),vt(()=>jt(b,`accordion-summary-caret ${c(F)??""}`)),D(m,b)};yt(dt,m=>{i.iconClosed||i.iconOpen?m(bt):m(gt,!1)})}l(S);var rt=k(S,2);{var K=m=>{var b=Be(),at=d(b);xt(at,t,"content",{},Ot=>{var Et=Ut("(content)");D(Ot,Et)}),l(b),vt(()=>{jt(b,`accordion-panel ${c(y)??""}`),z(b,"id",`accordion-panel-${_()??""}`),z(b,"aria-hidden",!c(j)),z(b,"aria-labelledby",_())}),Xt(1,b,()=>Zt,()=>({transition:G(),params:$(),enabled:_t()})),Xt(2,b,()=>Zt,()=>({transition:ht(),params:Y(),enabled:_t()})),D(m,b)};yt(rt,m=>{c(j)&&m(K)})}l(J),vt(()=>{jt(J,`accordion-item ${c(O)??""}`),jt(S,`accordion-control ${c(C)??""}`),z(S,"id",_()),z(S,"aria-expanded",c(j)),z(S,"aria-controls",`accordion-panel-${_()??""}`),S.disabled=W()}),N("click",S,E),N("click",S,function(m){Dt.call(this,t,m)}),N("keydown",S,function(m){Dt.call(this,t,m)}),N("keyup",S,function(m){Dt.call(this,t,m)}),N("keypress",S,function(m){Dt.call(this,t,m)}),D(s,J),At(),f()}const qe=async(s,t,i,e)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:i.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");e(i.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Ge=L('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Le=L('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ue(s,t){Pt(t,!0);let i=je(t,["$$slots","$$events","$$legacy"]),e=Bt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=Bt({}),f=Bt({});const x=async(a,r)=>{p[a]||(p[a]=!0),await F(a)},j=(a,r)=>{f[a]||(f[a]={}),f[a][r]=e[a][r],e[a][r]=""},O=(a,r)=>{var n;const o=e[a][r],v=(n=f[a])==null?void 0:n[r];(o===""||o===null)&&v!==void 0&&(e[a][r]=v),x(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");e[r].cardID="",e[r].datePosted="",e[r].iteration="",e[r].notes="",e[r].grindSetting="",e[r].shotTime="",e[r].journeyID="",e[r].grindAmount="",t.journeyData.journeyID&&g(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},g=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const v=o.journeyCards;console.log("JourneyCardsData:",v);for(let n=0;n<e.length;n++)e[n]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((n,I)=>{I<e.length&&(e[I].cardID=n.id,e[I].datePosted=n.datePosted,e[I].iteration=n.iteration,e[I].notes=n.notes,e[I].grindSetting=n.grindSetting,e[I].shotTime=n.shotTime,e[I].journeyID=t.journeyData.journeyID,e[I].grindAmount=n.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},F=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e[a].cardID,grindSetting:e[a].grindSetting,shotTime:e[a].shotTime,notes:e[a].notes,grindAmount:e[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function w(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),v=r.getDate().toString().padStart(2,"0"),n=r.getFullYear().toString().slice(-2);return`${o}/${v}/${n}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&g(t.journeyData.journeyID)});var y=Le(),A=d(y),h=d(A);h.__click=[qe,i,t,g],l(A);var _=k(A,2);re(_,21,()=>e,ae,(a,r,o)=>{var v=pt(),n=st(v);{var I=W=>{var q=Ge(),T=d(q);T.__click=()=>C(c(r).cardID,o);var U=k(T,2),it=d(U),ut=d(it),ft=d(ut),mt=d(ft);l(ft);var H=k(ft,2),_t=d(H,!0);l(H),l(ut),l(it);var G=k(it,2),$=d(G);z($,"for",`grindSetting${o+1}`);var ht=k($,2),Y=k(d(ht),2);zt(Y),z(Y,"id",`grindSetting${o+1}`),l(ht),l(G);var tt=k(G,2),E=d(tt);z(E,"for",`grindAmount${o+1}`);var Q=k(E,2),J=k(d(Q),2);zt(J),z(J,"id",`grindAmount${o+1}`),l(Q),l(tt);var S=k(tt,2),V=d(S);z(V,"for",`shotTime${o+1}`);var lt=d(V,!0);l(V);var M=k(V,2),et=k(d(M),2);zt(et),z(et,"id",`shotTime${o+1}`),l(M),l(S);var dt=k(S,2),bt=d(dt);z(bt,"for",`notes${o+1}`);var gt=k(bt,2),rt=k(d(gt),2);we(rt),z(rt,"id",`notes${o+1}`),l(gt),l(dt),l(U),l(q),vt((K,m)=>{ct(mt,`Iteration #${c(r).iteration??""}`),ct(_t,K),ct(lt,m)},[()=>w(c(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),N("focus",Y,()=>j(o,"grindSetting")),N("blur",Y,()=>O(o,"grindSetting")),Tt(Y,()=>c(r).grindSetting,K=>c(r).grindSetting=K),N("focus",J,()=>j(o,"grindAmount")),N("blur",J,()=>O(o,"grindAmount")),Tt(J,()=>c(r).grindAmount,K=>c(r).grindAmount=K),N("focus",et,()=>j(o,"shotTime")),N("blur",et,()=>O(o,"shotTime")),Tt(et,()=>c(r).shotTime,K=>c(r).shotTime=K),N("focus",rt,()=>j(o,"notes")),N("blur",rt,()=>O(o,"notes")),Tt(rt,()=>c(r).notes,K=>c(r).notes=K),D(W,q)};yt(n,W=>{c(r).cardID!==""&&W(I)})}D(a,v)}),l(_),l(y),D(s,y),At()}be(["click"]);var Ve=L('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Ke=L('<button type="button" class="flex items-center w-full min-w-0 text-left h-10 p-0 pr-2 justify-between"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0 flex-1"><p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1"> </p></div> <div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div></button>'),We=L('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Qe=L('<button type="button" class="flex items-center w-full min-w-0 text-left h-10 p-0 pr-2 justify-between"><div class="py-0 px-3 rounded-md flex items-center space-x-3 overflow-hidden min-w-0 flex-1"><p class="whitespace-nowrap truncate min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm w-0">here_are_your_journeys_to_test_truncation</p></div> <div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div></button> <!>',1),Xe=L('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Ye=L('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Ze(s,t){Pt(t,!1);let i=Z(!0),e=Z([]);const p=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let x=Z(-1);function j(v){X(x,c(x)===v?-1:v)}function O(v){return p[v%p.length]}function C(v){return{journeyID:v.id}}const g=async v=>{try{const n=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})});if(n.ok){const I=await n.json();console.log("Journey deleted:",I),F()}else{const I=await n.json();console.error("Failed to delete journey:",I.message)}}catch(n){console.error("Error deleting journey:",n)}},F=async()=>{X(i,!0);try{const v=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(v.ok){const n=await v.json();console.log("Archive:",n),X(e,n.journeys||[]),console.log("journeys:",c(e))}else{const n=await v.json();console.error("Failed to fetch journeys:",n.message)}}catch(v){console.error("Error fetching journeys:",v)}finally{X(i,!1)}};Ie(()=>{F()}),Lt();var w=Ye(),y=d(w),A=d(y);{var h=v=>{var n=Ve();D(v,n)},_=v=>{var n=pt(),I=st(n);{var W=T=>{var U=Qe(),it=k(st(U),2);Ne(it,{class:"w-full",children:(ut,ft)=>{var mt=pt(),H=st(mt);re(H,1,()=>c(e),ae,(_t,G,$)=>{const ht=Mt(()=>c(x)===$);ze(_t,{get open(){return c(ht)},class:"mb-0",$$slots:{summary:(Y,tt)=>{var E=Ke(),Q=d(E),J=d(Q),S=d(J,!0);l(J),l(Q);var V=k(Q,2),lt=d(V);l(V),l(E),vt(M=>{z(E,"style",`background-image: url(${M??""}); background-size: cover; background-position: center;`),ct(S,c(G).coffeeBeans)},[()=>O($)],Mt),N("click",lt,qt(()=>g(c(G).id))),N("keydown",lt,qt(M=>M.key==="Enter"&&g(c(G).id))),N("click",E,qt(()=>j($))),N("keydown",E,M=>M.key==="Enter"&&j($)),D(Y,E)},content:(Y,tt)=>{var E=We(),Q=d(E),J=d(Q),S=d(J),V=d(S),lt=d(V,!0);l(V);var M=k(V,4),et=d(M,!0);l(M);var dt=k(M,4),bt=d(dt,!0);l(dt);var gt=k(dt,4),rt=d(gt,!0);l(gt),l(S),l(J),l(Q);var K=k(Q,2),m=d(K),b=d(m);const at=Mt(()=>C(c(G)));Ue(b,{get journeyData(){return c(at)},get drink(){return c(G).drink}}),l(m),l(K),l(E),vt(()=>{ct(lt,c(G).drink),ct(et,c(G).coffeeBeans),ct(bt,c(G).grinder),ct(rt,c(G).brewingDevice)}),D(Y,E)}}})}),D(ut,mt)},$$slots:{default:!0}}),D(T,U)},q=T=>{var U=Xe();D(T,U)};yt(I,T=>{c(e).length>0?T(W):T(q,!1)},!0)}D(v,n)};yt(A,v=>{c(i)?v(h):v(_,!1)})}l(y);var a=k(y,2),r=d(a),o=d(r);z(o,"src",f),l(r),l(a),l(w),D(s,w),At()}var He=L("<!> <!>",1);function vr(s){var t=He(),i=st(t);xe(i,{});var e=k(i,2);Ze(e,{}),D(s,t)}export{vr as component};
