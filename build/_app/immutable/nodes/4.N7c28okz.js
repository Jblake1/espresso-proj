import{t as L,a as D,d as Ue,c as ye}from"../chunks/DLZ7H7Fm.js";import{i as Le}from"../chunks/BMgznbf7.js";import{l as Ve,ad as nt,aK as it,aL as st,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as Ie,ay as Ke,az as We,aA as gt,T as Ae,aQ as z,aw as pt,aR as oe,Z,$ as H,a3 as P,aS as He,V as d,X as n,_ as de,g as i,U as Oe,aT as q,R as C,Q as ce,N as yt,d as Be}from"../chunks/BOw1AeM4.js";import{a as _t,w as ht,e as B,d as bt,r as wt,s as ne}from"../chunks/BReulVDI.js";import{l as $e,a as u,c as et,s as tt,i as _e,p as Re,r as xt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as xe,s as G,c as De,h as ze,r as qe,A as jt}from"../chunks/CF9GwMIw.js";import{s as Te}from"../chunks/Bfc47y5P.js";import{c as Ct,o as kt}from"../chunks/BMBHoIzy.js";import"../chunks/xGLq2AJy.js";import{a as je,p as It,b as Dt}from"../chunks/DMKw4_NB.js";import{b as Se}from"../chunks/QFNNfdoR.js";const Tt=()=>performance.now(),ie={tick:s=>requestAnimationFrame(s),now:()=>Tt(),tasks:new Set};function ot(){const s=ie.now();ie.tasks.forEach(e=>{e.c(s)||(ie.tasks.delete(e),e.f())}),ie.tasks.size!==0&&ie.tick(ot)}function St(s){let e;return ie.tasks.size===0&&ie.tick(ot),{promise:new Promise(l=>{ie.tasks.add(e={c:s,f:l})}),abort(){ie.tasks.delete(e)}}}function Pe(s,e){ht(()=>{s.dispatchEvent(new CustomEvent(e))})}function Pt(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const e=s.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Qe(s){const e={},l=s.split(";");for(const r of l){const[g,f]=r.split(":");if(!g||f===void 0)break;const k=Pt(g.trim());e[k]=f.trim()}return e}const At=s=>s;function Xe(s,e,l,r){var g=(s&vt)!==0,f=(s&ut)!==0,k=g&&f,j=(s&ct)!==0,E=k?"both":g?"in":"out",_,m=e.inert,F=e.style.overflow,w,h;function A(){var t=gt,v=Ve;Ke(null),We(null);try{return _??(_=l()(e,(r==null?void 0:r())??{},{direction:E}))}finally{Ke(t),We(v)}}var b={is_global:j,in(){var t;if(e.inert=m,!g){h==null||h.abort(),(t=h==null?void 0:h.reset)==null||t.call(h);return}f||w==null||w.abort(),Pe(e,"introstart"),w=Ge(e,A(),h,1,()=>{Pe(e,"introend"),w==null||w.abort(),w=_=void 0,e.style.overflow=F})},out(t){if(!f){t==null||t(),_=void 0;return}e.inert=!0,Pe(e,"outrostart"),h=Ge(e,A(),w,0,()=>{Pe(e,"outroend"),t==null||t()})},stop:()=>{w==null||w.abort(),h==null||h.abort()}},p=Ve;if((p.transitions??(p.transitions=[])).push(b),g&&_t){var a=j;if(!a){for(var o=p.parent;o&&o.f&nt;)for(;(o=o.parent)&&!(o.f&it););a=!o||(o.f&st)!==0}a&&lt(()=>{dt(()=>b.in())})}}function Ge(s,e,l,r,g){var f=r===1;if(ft(e)){var k,j=!1;return mt(()=>{if(!j){var p=e({direction:f?"in":"out"});k=Ge(s,p,l,r,g)}}),{abort:()=>{j=!0,k==null||k.abort()},deactivate:()=>k.deactivate(),reset:()=>k.reset(),t:()=>k.t()}}if(l==null||l.deactivate(),!(e!=null&&e.duration))return g(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>r};const{delay:E=0,css:_,tick:m,easing:F=At}=e;var w=[];if(f&&l===void 0&&(m&&m(0,1),_)){var h=Qe(_(0,1));w.push(h,h)}var A=()=>1-r,b=s.animate(w,{duration:E});return b.onfinish=()=>{var p=(l==null?void 0:l.t())??1-r;l==null||l.abort();var a=r-p,o=e.duration*Math.abs(a),t=[];if(o>0){var v=!1;if(_)for(var c=Math.ceil(o/16.666666666666668),T=0;T<=c;T+=1){var W=p+a*F(T/c),S=Qe(_(W,1-W));t.push(S),v||(v=S.overflow==="hidden")}v&&(s.style.overflow="hidden"),A=()=>{var O=b.currentTime;return p+a*F(O/o)},m&&St(()=>{if(b.playState!=="running")return!1;var O=A();return m(O,1-O),!0})}b=s.animate(t,{duration:o,fill:"forwards"}),b.onfinish=()=>{A=()=>r,m==null||m(r,1-r),g()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Ie)},deactivate:()=>{g=Ie},reset:()=>{r===0&&(m==null||m(1,0))},t:()=>A()}}function Ot(s){const e=s-1;return e*e*e+1}function Ye(s,{delay:e=0,duration:l=400,easing:r=Ot,axis:g="y"}={}){const f=getComputedStyle(s),k=+f.opacity,j=g==="y"?"height":"width",E=parseFloat(f[j]),_=g==="y"?["top","bottom"]:["left","right"],m=_.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),F=parseFloat(f[`padding${m[0]}`]),w=parseFloat(f[`padding${m[1]}`]),h=parseFloat(f[`margin${m[0]}`]),A=parseFloat(f[`margin${m[1]}`]),b=parseFloat(f[`border${m[0]}Width`]),p=parseFloat(f[`border${m[1]}Width`]);return{delay:e,duration:l,easing:r,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*k};${j}: ${a*E}px;padding-${_[0]}: ${a*F}px;padding-${_[1]}: ${a*w}px;margin-${_[0]}: ${a*h}px;margin-${_[1]}: ${a*A}px;border-${_[0]}-width: ${a*b}px;border-${_[1]}-width: ${a*p}px;min-${j}: 0`}}var Et=L('<div data-testid="accordion"><!></div>');function Nt(s,e){const l=$e(e,["children","$$slots","$$events","$$legacy"]);Ae(e,!1);const[r,g]=tt(),f=()=>et(It,"$prefersReducedMotionStore",r),k=H();let j=u(e,"autocollapse",8,!1),E=u(e,"width",8,"w-full"),_=u(e,"spacing",8,"space-y-1"),m=u(e,"disabled",8,!1),F=u(e,"padding",8,"py-2 px-4"),w=u(e,"hover",8,"hover:bg-primary-hover-token"),h=u(e,"rounded",8,"rounded-container-token"),A=u(e,"caretOpen",8,"rotate-180"),b=u(e,"caretClosed",8,""),p=u(e,"regionControl",8,""),a=u(e,"regionPanel",8,"space-y-4"),o=u(e,"regionCaret",8,""),t=u(e,"transitions",24,()=>!f()),v=u(e,"transitionIn",8,Ye),c=u(e,"transitionInParams",24,()=>({duration:200})),T=u(e,"transitionOut",8,Ye),W=u(e,"transitionOutParams",24,()=>({duration:200}));const S=pt(null);z("active",S),z("autocollapse",j()),z("disabled",m()),z("padding",F()),z("hover",w()),z("rounded",h()),z("caretOpen",A()),z("caretClosed",b()),z("regionControl",p()),z("regionPanel",a()),z("regionCaret",o()),z("transitions",t()),z("transitionIn",v()),z("transitionInParams",c()),z("transitionOut",T()),z("transitionOutParams",W()),oe(()=>(P(E()),P(_()),P(l)),()=>{Z(k,`${E()} ${_()} ${l.class??""}`)}),He(),Le();var O=Et(),$=d(O);je($,e,"default",{},null),n(O),de(()=>xe(O,`accordion ${i(k)??""}`)),D(s,O),Oe(),g()}function Ze(s,e){const{transition:l,params:r,enabled:g}=e;return g?l(s,r):"duration"in r?l(s,{duration:0}):{duration:0}}var Ft=L('<div class="accordion-lead"><!></div>'),Jt=L("<div><!></div>"),Mt=L("<div><!></div>"),Bt=L('<div role="region"><!></div>'),Rt=L('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function zt(s,e){const l=Dt(e),r=$e(e,["children","$$slots","$$events","$$legacy"]);Ae(e,!1);const[g,f]=tt(),k=()=>et(T(),"$active",g),j=H(),E=H(),_=H(),m=H(),F=H(),w=H(),h=H(),A=Ct();let b=u(e,"open",12,!1),p=u(e,"id",24,()=>String(Math.random()));const a="",o="text-start w-full flex items-center space-x-4",t="fill-current w-3 transition-transform duration-[200ms]",v="";let c=u(e,"autocollapse",24,()=>q("autocollapse")),T=u(e,"active",24,()=>q("active")),W=u(e,"disabled",24,()=>q("disabled")),S=u(e,"padding",24,()=>q("padding")),O=u(e,"hover",24,()=>q("hover")),$=u(e,"rounded",24,()=>q("rounded")),re=u(e,"caretOpen",24,()=>q("caretOpen")),ve=u(e,"caretClosed",24,()=>q("caretClosed")),se=u(e,"regionControl",24,()=>q("regionControl")),J=u(e,"regionPanel",24,()=>q("regionPanel")),ee=u(e,"regionCaret",24,()=>q("regionCaret")),he=u(e,"transitions",24,()=>q("transitions")),Q=u(e,"transitionIn",24,()=>q("transitionIn")),ue=u(e,"transitionInParams",24,()=>q("transitionInParams")),M=u(e,"transitionOut",24,()=>q("transitionOut")),N=u(e,"transitionOutParams",24,()=>q("transitionOutParams"));const R=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function X(y){c()===!0?T().set(p()):b(!b()),Y(y)}function Y(y){const x=c()?k()===p():b();A("toggle",{event:y,id:p(),panelId:`accordion-panel-${p()}`,open:x,autocollapse:c()})}c()&&b()&&X(),oe(()=>(P(b()),P(c())),()=>{b()&&c()&&X()}),oe(()=>(P(c()),k(),P(p()),P(b())),()=>{Z(j,c()?k()===p():b())}),oe(()=>P(r),()=>{Z(E,`${a} ${r.class??""}`)}),oe(()=>(P(S()),P(O()),P($()),P(se())),()=>{Z(_,`${o} ${S()} ${O()} ${$()} ${se()}`)}),oe(()=>(i(j),P(re()),P(ve())),()=>{Z(m,i(j)?re():ve())}),oe(()=>(P(ee()),i(m)),()=>{Z(F,`${t} ${ee()} ${i(m)}`)}),oe(()=>P(ee()),()=>{Z(w,`${t} ${ee()}`)}),oe(()=>(P(S()),P($()),P(J())),()=>{Z(h,`${v} ${S()} ${$()} ${J()}`)}),He(),Le();var U=Rt(),I=d(U),V=d(I);{var fe=y=>{var x=Ft(),pe=d(x);je(pe,e,"lead",{},null),n(x),D(y,x)};_e(V,y=>{l.lead&&y(fe)})}var le=C(V,2),te=d(le);je(te,e,"summary",{},y=>{var x=Ue("(summary)");D(y,x)}),n(le);var be=C(le,2);{var me=y=>{var x=Jt(),pe=d(x);{var Ee=we=>{var Ce=ye(),Fe=ce(Ce);je(Fe,e,"iconClosed",{},Je=>{var ke=ye(),Me=ce(ke);ze(Me,()=>R),D(Je,ke)}),D(we,Ce)},Ne=we=>{var Ce=ye(),Fe=ce(Ce);je(Fe,e,"iconOpen",{},Je=>{var ke=ye(),Me=ce(ke);ze(Me,()=>R),D(Je,ke)}),D(we,Ce)};_e(pe,we=>{i(j)?we(Ee):we(Ne,!1)})}n(x),de(()=>xe(x,`accordion-summary-icons ${i(w)??""}`)),D(y,x)},ge=y=>{var x=Mt(),pe=d(x);ze(pe,()=>R),n(x),de(()=>xe(x,`accordion-summary-caret ${i(F)??""}`)),D(y,x)};_e(be,y=>{l.iconClosed||l.iconOpen?y(me):y(ge,!1)})}n(I);var ae=C(I,2);{var K=y=>{var x=Bt(),pe=d(x);je(pe,e,"content",{},Ee=>{var Ne=Ue("(content)");D(Ee,Ne)}),n(x),de(()=>{xe(x,`accordion-panel ${i(h)??""}`),G(x,"id",`accordion-panel-${p()??""}`),G(x,"aria-hidden",!i(j)),G(x,"aria-labelledby",p())}),Xe(1,x,()=>Ze,()=>({transition:Q(),params:ue(),enabled:he()})),Xe(2,x,()=>Ze,()=>({transition:M(),params:N(),enabled:he()})),D(y,x)};_e(ae,y=>{i(j)&&y(K)})}n(U),de(()=>{xe(U,`accordion-item ${i(E)??""}`),xe(I,`accordion-control ${i(_)??""}`),G(I,"id",p()),G(I,"aria-expanded",i(j)),G(I,"aria-controls",`accordion-panel-${p()??""}`),I.disabled=W()}),B("click",I,X),B("click",I,function(y){De.call(this,e,y)}),B("keydown",I,function(y){De.call(this,e,y)}),B("keyup",I,function(y){De.call(this,e,y)}),B("keypress",I,function(y){De.call(this,e,y)}),D(s,U),Oe(),f()}const qt=async(s,e,l,r)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:l.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");r(l.journeyData.journeyID)}catch(g){console.error("Error getting journey:",g),alert("An error occurred while posting the journey card.")}};var Gt=L('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Lt=L('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ut(s,e){Ae(e,!0);let l=xt(e,["$$slots","$$events","$$legacy"]),r=Re([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),g=Re({}),f=Re({});const k=async(a,o)=>{g[a]||(g[a]=!0),await F(a)},j=(a,o)=>{f[a]||(f[a]={}),f[a][o]=r[a][o],r[a][o]=""},E=(a,o)=>{var c;const t=r[a][o],v=(c=f[a])==null?void 0:c[o];(t===""||t===null)&&v!==void 0&&(r[a][o]=v),k(a),f[a]&&(delete f[a][o],Object.keys(f[a]).length===0&&delete f[a])},_=async(a,o)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");r[o].cardID="",r[o].datePosted="",r[o].iteration="",r[o].notes="",r[o].grindSetting="",r[o].shotTime="",r[o].journeyID="",r[o].grindAmount="",e.journeyData.journeyID&&m(e.journeyData.journeyID)}catch(t){console.error("Error getting journey:",t),alert("An error occurred while deleting the journey card.")}},m=async a=>{try{console.log(`Sending journeyID: ${a}`);const o=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(o.ok){const t=await o.json();console.log("JourneyCards:",t);const v=t.journeyCards;console.log("JourneyCardsData:",v);for(let c=0;c<r.length;c++)r[c]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((c,T)=>{T<r.length&&(r[T].cardID=c.id,r[T].datePosted=c.datePosted,r[T].iteration=c.iteration,r[T].notes=c.notes,r[T].grindSetting=c.grindSetting,r[T].shotTime=c.shotTime,r[T].journeyID=e.journeyData.journeyID,r[T].grindAmount=c.grindAmount)})}}catch(o){console.error("Error getting journey:",o),alert("An error occurred while getting the journey.")}},F=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r[a].cardID,grindSetting:r[a].grindSetting,shotTime:r[a].shotTime,notes:r[a].notes,grindAmount:r[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");g[a]=!1}catch(o){console.error("Error getting journey:",o),alert("An error occurred while updating card.")}};function w(a){if(!a)return"";const o=new Date(a);if(isNaN(o.getTime()))return a;const t=(o.getMonth()+1).toString().padStart(2,"0"),v=o.getDate().toString().padStart(2,"0"),c=o.getFullYear().toString().slice(-2);return`${t}/${v}/${c}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&m(e.journeyData.journeyID)});var h=Lt(),A=d(h),b=d(A);b.__click=[qt,l,e,m],n(A);var p=C(A,2);rt(p,21,()=>r,at,(a,o,t)=>{var v=ye(),c=ce(v);{var T=W=>{var S=Gt(),O=d(S);O.__click=()=>_(i(o).cardID,t);var $=C(O,2),re=d($),ve=d(re),se=d(ve),J=d(se);n(se);var ee=C(se,2),he=d(ee,!0);n(ee),n(ve),n(re);var Q=C(re,2),ue=d(Q);G(ue,"for",`grindSetting${t+1}`);var M=C(ue,2),N=C(d(M),2);qe(N),G(N,"id",`grindSetting${t+1}`),n(M),n(Q);var R=C(Q,2),X=d(R);G(X,"for",`grindAmount${t+1}`);var Y=C(X,2),U=C(d(Y),2);qe(U),G(U,"id",`grindAmount${t+1}`),n(Y),n(R);var I=C(R,2),V=d(I);G(V,"for",`shotTime${t+1}`);var fe=d(V,!0);n(V);var le=C(V,2),te=C(d(le),2);qe(te),G(te,"id",`shotTime${t+1}`),n(le),n(I);var be=C(I,2),me=d(be);G(me,"for",`notes${t+1}`);var ge=C(me,2),ae=C(d(ge),2);wt(ae),G(ae,"id",`notes${t+1}`),n(ge),n(be),n($),n(S),de((K,y)=>{ne(J,`Iteration #${i(o).iteration??""}`),ne(he,K),ne(fe,y)},[()=>w(i(o).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),B("focus",N,()=>j(t,"grindSetting")),B("blur",N,()=>E(t,"grindSetting")),Se(N,()=>i(o).grindSetting,K=>i(o).grindSetting=K),B("focus",U,()=>j(t,"grindAmount")),B("blur",U,()=>E(t,"grindAmount")),Se(U,()=>i(o).grindAmount,K=>i(o).grindAmount=K),B("focus",te,()=>j(t,"shotTime")),B("blur",te,()=>E(t,"shotTime")),Se(te,()=>i(o).shotTime,K=>i(o).shotTime=K),B("focus",ae,()=>j(t,"notes")),B("blur",ae,()=>E(t,"notes")),Se(ae,()=>i(o).notes,K=>i(o).notes=K),D(W,S)};_e(c,W=>{i(o).cardID!==""&&W(T)})}D(a,v)}),n(p),n(h),D(s,h),Oe()}bt(["click"]);var Vt=L('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Kt=L('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Wt=L('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-50px)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div> <span class="btn-icon variant-filled-primary cursor-pointer flex-shrink-0" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Qt=L('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xt=L('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Yt=L('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Zt(s,e){Ae(e,!1);let l=H(!0),r=H([]);const g=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let k=H(-1);function j(t){return g[t%g.length]}function E(t){return{journeyID:t.id}}const _=async t=>{try{const v=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(v.ok){const c=await v.json();console.log("Journey deleted:",c),m()}else{const c=await v.json();console.error("Failed to delete journey:",c.message)}}catch(v){console.error("Error deleting journey:",v)}},m=async()=>{Z(l,!0);try{const t=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(t.ok){const v=await t.json();console.log("Archive:",v),Z(r,v.journeys||[]),console.log("journeys:",i(r))}else{const v=await t.json();console.error("Failed to fetch journeys:",v.message)}}catch(t){console.error("Error fetching journeys:",t)}finally{Z(l,!1)}};kt(()=>{m()}),Le();var F=Yt(),w=d(F),h=d(w);{var A=t=>{var v=Vt();D(t,v)},b=t=>{var v=ye(),c=ce(v);{var T=S=>{Nt(S,{class:"w-full",children:(O,$)=>{var re=ye(),ve=ce(re);rt(ve,1,()=>i(r),at,(se,J,ee)=>{const he=Be(()=>i(k)===ee);zt(se,{get open(){return i(he)},class:"mb-0",children:(Q,ue)=>{var M=Kt(),N=d(M);n(M),B("click",N,Te(()=>_(i(J).id))),B("keydown",N,Te(R=>R.key==="Enter"&&_(i(J).id))),D(Q,M)},$$slots:{default:!0,summary:(Q,ue)=>{var M=Wt(),N=d(M),R=d(N),X=d(R,!0);n(R);var Y=C(R,4),U=d(Y,!0);n(Y),n(N);var I=C(N,2);n(M),de(V=>{G(M,"style",`background-image: url(${V??""}); background-size: cover; background-position: center;`),ne(X,i(J).drink),ne(U,i(J).coffeeBeans)},[()=>j(ee)],Be),B("click",I,Te(()=>_(i(J).id))),B("keydown",I,Te(V=>V.key==="Enter"&&_(i(J).id))),D(Q,M)},content:(Q,ue)=>{var M=Qt(),N=d(M),R=d(N),X=d(R),Y=d(X),U=d(Y,!0);n(Y);var I=C(Y,4),V=d(I,!0);n(I);var fe=C(I,4),le=d(fe,!0);n(fe);var te=C(fe,4),be=d(te,!0);n(te),n(X),n(R),n(N);var me=C(N,2),ge=d(me),ae=d(ge);const K=Be(()=>E(i(J)));Ut(ae,{get journeyData(){return i(K)},get drink(){return i(J).drink}}),n(ge),n(me),n(M),de(()=>{ne(U,i(J).drink),ne(V,i(J).coffeeBeans),ne(le,i(J).grinder),ne(be,i(J).brewingDevice)}),D(Q,M)}}})}),D(O,re)},$$slots:{default:!0}})},W=S=>{var O=Xt();D(S,O)};_e(c,S=>{i(r).length>0?S(T):S(W,!1)},!0)}D(t,v)};_e(h,t=>{i(l)?t(A):t(b,!1)})}n(w);var p=C(w,2),a=d(p),o=d(a);G(o,"src",f),n(a),n(p),n(F),D(s,F),Oe()}var Ht=L("<!> <!>",1);function vr(s){var e=Ht(),l=ce(e);jt(l,{});var r=C(l,2);Zt(r,{}),D(s,e)}export{vr as component};
