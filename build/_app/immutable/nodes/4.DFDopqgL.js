import{t as L,a as T,d as Ge,c as ce}from"../chunks/DLZ7H7Fm.js";import{i as qe}from"../chunks/BMgznbf7.js";import{l as Le,ad as nt,aK as st,aL as it,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as we,ay as Ue,az as Ke,aA as pt,T as ke,aQ as F,aw as gt,aR as ee,Z as W,$ as X,a3 as P,aS as He,V as i,X as s,_ as ie,g as l,U as Te,aT as J,R as k,Q as le,N as yt,d as Je,Y as _t}from"../chunks/BOw1AeM4.js";import{a as ht,w as bt,e as Q,d as wt,r as xt,s as se}from"../chunks/BReulVDI.js";import{l as $e,a as c,c as et,s as tt,i as ve,p as We,r as jt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as pe,s as G,c as Ie,h as Me,r as Qe,A as Ct}from"../chunks/B-HfKaRT.js";import{s as Re}from"../chunks/Bfc47y5P.js";import{c as It,o as Dt}from"../chunks/BMBHoIzy.js";import"../chunks/DPOqy__Y.js";import{a as ge,p as kt,b as Tt}from"../chunks/DMKw4_NB.js";import{b as ze}from"../chunks/QFNNfdoR.js";const St=()=>performance.now(),te={tick:o=>requestAnimationFrame(o),now:()=>St(),tasks:new Set};function ot(){const o=te.now();te.tasks.forEach(e=>{e.c(o)||(te.tasks.delete(e),e.f())}),te.tasks.size!==0&&te.tick(ot)}function Pt(o){let e;return te.tasks.size===0&&te.tick(ot),{promise:new Promise(n=>{te.tasks.add(e={c:o,f:n})}),abort(){te.tasks.delete(e)}}}function De(o,e){bt(()=>{o.dispatchEvent(new CustomEvent(e))})}function Ot(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const e=o.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ye(o){const e={},n=o.split(";");for(const r of n){const[y,w]=r.split(":");if(!y||w===void 0)break;const j=Ot(y.trim());e[j]=w.trim()}return e}const Et=o=>o;function Ve(o,e,n,r){var y=(o&vt)!==0,w=(o&ut)!==0,j=y&&w,C=(o&ct)!==0,M=j?"both":y?"in":"out",I,p=e.inert,O=e.style.overflow,x,_;function d(){var g=pt,f=Le;Ue(null),Ke(null);try{return I??(I=n()(e,(r==null?void 0:r())??{},{direction:M}))}finally{Ue(g),Ke(f)}}var t={is_global:C,in(){var g;if(e.inert=p,!y){_==null||_.abort(),(g=_==null?void 0:_.reset)==null||g.call(_);return}w||x==null||x.abort(),De(e,"introstart"),x=Be(e,d(),_,1,()=>{De(e,"introend"),x==null||x.abort(),x=I=void 0,e.style.overflow=O})},out(g){if(!w){g==null||g(),I=void 0;return}e.inert=!0,De(e,"outrostart"),_=Be(e,d(),x,0,()=>{De(e,"outroend"),g==null||g()})},stop:()=>{x==null||x.abort(),_==null||_.abort()}},a=Le;if((a.transitions??(a.transitions=[])).push(t),y&&ht){var v=C;if(!v){for(var u=a.parent;u&&u.f&nt;)for(;(u=u.parent)&&!(u.f&st););v=!u||(u.f&it)!==0}v&&lt(()=>{dt(()=>t.in())})}}function Be(o,e,n,r,y){var w=r===1;if(ft(e)){var j,C=!1;return mt(()=>{if(!C){var a=e({direction:w?"in":"out"});j=Be(o,a,n,r,y)}}),{abort:()=>{C=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return y(),{abort:we,deactivate:we,reset:we,t:()=>r};const{delay:M=0,css:I,tick:p,easing:O=Et}=e;var x=[];if(w&&n===void 0&&(p&&p(0,1),I)){var _=Ye(I(0,1));x.push(_,_)}var d=()=>1-r,t=o.animate(x,{duration:M});return t.onfinish=()=>{var a=(n==null?void 0:n.t())??1-r;n==null||n.abort();var v=r-a,u=e.duration*Math.abs(v),g=[];if(u>0){var f=!1;if(I)for(var m=Math.ceil(u/16.666666666666668),E=0;E<=m;E+=1){var Y=a+v*O(E/m),R=Ye(I(Y,1-Y));g.push(R),f||(f=R.overflow==="hidden")}f&&(o.style.overflow="hidden"),d=()=>{var S=t.currentTime;return a+v*O(S/u)},p&&Pt(()=>{if(t.playState!=="running")return!1;var S=d();return p(S,1-S),!0})}t=o.animate(g,{duration:u,fill:"forwards"}),t.onfinish=()=>{d=()=>r,p==null||p(r,1-r),y()}},{abort:()=>{t&&(t.cancel(),t.effect=null,t.onfinish=we)},deactivate:()=>{y=we},reset:()=>{r===0&&(p==null||p(1,0))},t:()=>d()}}function Nt(o){const e=o-1;return e*e*e+1}function Xe(o,{delay:e=0,duration:n=400,easing:r=Nt,axis:y="y"}={}){const w=getComputedStyle(o),j=+w.opacity,C=y==="y"?"height":"width",M=parseFloat(w[C]),I=y==="y"?["top","bottom"]:["left","right"],p=I.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),O=parseFloat(w[`padding${p[0]}`]),x=parseFloat(w[`padding${p[1]}`]),_=parseFloat(w[`margin${p[0]}`]),d=parseFloat(w[`margin${p[1]}`]),t=parseFloat(w[`border${p[0]}Width`]),a=parseFloat(w[`border${p[1]}Width`]);return{delay:e,duration:n,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*j};${C}: ${v*M}px;padding-${I[0]}: ${v*O}px;padding-${I[1]}: ${v*x}px;margin-${I[0]}: ${v*_}px;margin-${I[1]}: ${v*d}px;border-${I[0]}-width: ${v*t}px;border-${I[1]}-width: ${v*a}px;min-${C}: 0`}}var At=L('<div data-testid="accordion"><!></div>');function Ft(o,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);ke(e,!1);const[r,y]=tt(),w=()=>et(kt,"$prefersReducedMotionStore",r),j=X();let C=c(e,"autocollapse",8,!1),M=c(e,"width",8,"w-full"),I=c(e,"spacing",8,"space-y-1"),p=c(e,"disabled",8,!1),O=c(e,"padding",8,"py-2 px-4"),x=c(e,"hover",8,"hover:bg-primary-hover-token"),_=c(e,"rounded",8,"rounded-container-token"),d=c(e,"caretOpen",8,"rotate-180"),t=c(e,"caretClosed",8,""),a=c(e,"regionControl",8,""),v=c(e,"regionPanel",8,"space-y-4"),u=c(e,"regionCaret",8,""),g=c(e,"transitions",24,()=>!w()),f=c(e,"transitionIn",8,Xe),m=c(e,"transitionInParams",24,()=>({duration:200})),E=c(e,"transitionOut",8,Xe),Y=c(e,"transitionOutParams",24,()=>({duration:200}));const R=gt(null);F("active",R),F("autocollapse",C()),F("disabled",p()),F("padding",O()),F("hover",x()),F("rounded",_()),F("caretOpen",d()),F("caretClosed",t()),F("regionControl",a()),F("regionPanel",v()),F("regionCaret",u()),F("transitions",g()),F("transitionIn",f()),F("transitionInParams",m()),F("transitionOut",E()),F("transitionOutParams",Y()),ee(()=>(P(M()),P(I()),P(n)),()=>{W(j,`${M()} ${I()} ${n.class??""}`)}),He(),qe();var S=At(),q=i(S);ge(q,e,"default",{},null),s(S),ie(()=>pe(S,`accordion ${l(j)??""}`)),T(o,S),Te(),y()}function Ze(o,e){const{transition:n,params:r,enabled:y}=e;return y?n(o,r):"duration"in r?n(o,{duration:0}):{duration:0}}var Jt=L('<div class="accordion-lead"><!></div>'),Mt=L("<div><!></div>"),Rt=L("<div><!></div>"),zt=L('<div role="region"><!></div>'),Bt=L('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function qt(o,e){const n=Tt(e),r=$e(e,["children","$$slots","$$events","$$legacy"]);ke(e,!1);const[y,w]=tt(),j=()=>et(E(),"$active",y),C=X(),M=X(),I=X(),p=X(),O=X(),x=X(),_=X(),d=It();let t=c(e,"open",12,!1),a=c(e,"id",24,()=>String(Math.random()));const v="",u="text-start w-full flex items-center space-x-4",g="fill-current w-3 transition-transform duration-[200ms]",f="";let m=c(e,"autocollapse",24,()=>J("autocollapse")),E=c(e,"active",24,()=>J("active")),Y=c(e,"disabled",24,()=>J("disabled")),R=c(e,"padding",24,()=>J("padding")),S=c(e,"hover",24,()=>J("hover")),q=c(e,"rounded",24,()=>J("rounded")),ye=c(e,"caretOpen",24,()=>J("caretOpen")),re=c(e,"caretClosed",24,()=>J("caretClosed")),ue=c(e,"regionControl",24,()=>J("regionControl")),ae=c(e,"regionPanel",24,()=>J("regionPanel")),N=c(e,"regionCaret",24,()=>J("regionCaret")),Z=c(e,"transitions",24,()=>J("transitions")),oe=c(e,"transitionIn",24,()=>J("transitionIn")),H=c(e,"transitionInParams",24,()=>J("transitionInParams")),fe=c(e,"transitionOut",24,()=>J("transitionOut")),z=c(e,"transitionOutParams",24,()=>J("transitionOutParams"));const A=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function U(h){m()===!0?E().set(a()):t(!t()),$(h)}function $(h){const b=m()?j()===a():t();d("toggle",{event:h,id:a(),panelId:`accordion-panel-${a()}`,open:b,autocollapse:m()})}m()&&t()&&U(),ee(()=>(P(t()),P(m())),()=>{t()&&m()&&U()}),ee(()=>(P(m()),j(),P(a()),P(t())),()=>{W(C,m()?j()===a():t())}),ee(()=>P(r),()=>{W(M,`${v} ${r.class??""}`)}),ee(()=>(P(R()),P(S()),P(q()),P(ue())),()=>{W(I,`${u} ${R()} ${S()} ${q()} ${ue()}`)}),ee(()=>(l(C),P(ye()),P(re())),()=>{W(p,l(C)?ye():re())}),ee(()=>(P(N()),l(p)),()=>{W(O,`${g} ${N()} ${l(p)}`)}),ee(()=>P(N()),()=>{W(x,`${g} ${N()}`)}),ee(()=>(P(R()),P(q()),P(ae())),()=>{W(_,`${f} ${R()} ${q()} ${ae()}`)}),He(),qe();var K=Bt(),D=i(K),B=i(D);{var ne=h=>{var b=Jt(),de=i(b);ge(de,e,"lead",{},null),s(b),T(h,b)};ve(B,h=>{n.lead&&h(ne)})}var V=k(B,2),_e=i(V);ge(_e,e,"summary",{},h=>{var b=Ge("(summary)");T(h,b)}),s(V);var Se=k(V,2);{var xe=h=>{var b=Mt(),de=i(b);{var Oe=me=>{var he=ce(),Ne=le(he);ge(Ne,e,"iconClosed",{},Ae=>{var be=ce(),Fe=le(be);Me(Fe,()=>A),T(Ae,be)}),T(me,he)},Ee=me=>{var he=ce(),Ne=le(he);ge(Ne,e,"iconOpen",{},Ae=>{var be=ce(),Fe=le(be);Me(Fe,()=>A),T(Ae,be)}),T(me,he)};ve(de,me=>{l(C)?me(Oe):me(Ee,!1)})}s(b),ie(()=>pe(b,`accordion-summary-icons ${l(x)??""}`)),T(h,b)},Pe=h=>{var b=Rt(),de=i(b);Me(de,()=>A),s(b),ie(()=>pe(b,`accordion-summary-caret ${l(O)??""}`)),T(h,b)};ve(Se,h=>{n.iconClosed||n.iconOpen?h(xe):h(Pe,!1)})}s(D);var je=k(D,2);{var Ce=h=>{var b=zt(),de=i(b);ge(de,e,"content",{},Oe=>{var Ee=Ge("(content)");T(Oe,Ee)}),s(b),ie(()=>{pe(b,`accordion-panel ${l(_)??""}`),G(b,"id",`accordion-panel-${a()??""}`),G(b,"aria-hidden",!l(C)),G(b,"aria-labelledby",a())}),Ve(1,b,()=>Ze,()=>({transition:oe(),params:H(),enabled:Z()})),Ve(2,b,()=>Ze,()=>({transition:fe(),params:z(),enabled:Z()})),T(h,b)};ve(je,h=>{l(C)&&h(Ce)})}s(K),ie(()=>{pe(K,`accordion-item ${l(M)??""}`),pe(D,`accordion-control ${l(I)??""}`),G(D,"id",a()),G(D,"aria-expanded",l(C)),G(D,"aria-controls",`accordion-panel-${a()??""}`),D.disabled=Y()}),Q("click",D,U),Q("click",D,function(h){Ie.call(this,e,h)}),Q("keydown",D,function(h){Ie.call(this,e,h)}),Q("keyup",D,function(h){Ie.call(this,e,h)}),Q("keypress",D,function(h){Ie.call(this,e,h)}),T(o,K),Te(),w()}const Gt=async(o,e,n,r)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:n.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");r(n.journeyData.journeyID)}catch(y){console.error("Error getting journey:",y),alert("An error occurred while posting the journey card.")}};var Lt=L('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Shot Time</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Ut=L('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Kt(o,e){ke(e,!0);let n=jt(e,["$$slots","$$events","$$legacy"]),r=We([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""}]),y=We({});const w=async(d,t)=>{y[d]||(y[d]=!0),await M(d)},j=async(d,t)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d})})).ok)throw new Error("Network response of journeyCard delete not ok");r[t].cardID="",r[t].datePosted="",r[t].iteration="",r[t].notes="",r[t].grindSetting="",r[t].shotTime="",r[t].journeyID="",e.journeyData.journeyID&&C(e.journeyData.journeyID)}catch(a){console.error("Error getting journey:",a),alert("An error occurred while deleting the journey card.")}},C=async d=>{try{console.log(`Sending journeyID: ${d}`);const t=await fetch(`/journeyCard?journeyID=${d}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const a=await t.json();console.log("JourneyCards:",a);const v=a.journeyCards;console.log("JourneyCardsData:",v);for(let u=0;u<r.length;u++)r[u]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""};v.forEach((u,g)=>{g<r.length&&(r[g].cardID=u.id,r[g].datePosted=u.datePosted,r[g].iteration=u.iteration,r[g].notes=u.notes,r[g].grindSetting=u.grindSetting,r[g].shotTime=u.shotTime,r[g].journeyID=e.journeyData.journeyID)})}}catch(t){console.error("Error getting journey:",t),alert("An error occurred while getting the journey.")}},M=async d=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r[d].cardID,grindSetting:r[d].grindSetting,shotTime:r[d].shotTime,notes:r[d].notes})})).ok)throw new Error("Network response of journeyCard update not ok");y[d]=!1}catch(t){console.error("Error getting journey:",t),alert("An error occurred while updating card.")}};function I(d){if(!d)return"";const t=new Date(d);if(isNaN(t.getTime()))return d;const a=(t.getMonth()+1).toString().padStart(2,"0"),v=t.getDate().toString().padStart(2,"0"),u=t.getFullYear().toString().slice(-2);return`${a}/${v}/${u}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&C(e.journeyData.journeyID)});var p=Ut(),O=i(p),x=i(O);x.__click=[Gt,n,e,C],s(O);var _=k(O,2);rt(_,21,()=>r,at,(d,t,a)=>{var v=ce(),u=le(v);{var g=f=>{var m=Lt(),E=i(m);E.__click=()=>j(l(t).cardID,a);var Y=k(E,2),R=i(Y),S=i(R),q=i(S),ye=i(q);s(q);var re=k(q,2),ue=i(re,!0);s(re),s(S),s(R);var ae=k(R,2),N=i(ae);G(N,"for",`grindSetting${a+1}`);var Z=k(N,2),oe=k(i(Z),2);Qe(oe),G(oe,"id",`grindSetting${a+1}`),s(Z),s(ae);var H=k(ae,2),fe=i(H);G(fe,"for",`shotTime${a+1}`);var z=k(fe,2),A=k(i(z),2);Qe(A),G(A,"id",`shotTime${a+1}`),s(z),s(H);var U=k(H,2),$=i(U);G($,"for",`notes${a+1}`);var K=k($,2),D=k(i(K),2);xt(D),G(D,"id",`notes${a+1}`),s(K),s(U),s(Y),s(m),ie(B=>{se(ye,`Iteration #${l(t).iteration??""}`),se(ue,B)},[()=>I(l(t).datePosted)]),Q("blur",oe,()=>w(a)),ze(oe,()=>l(t).grindSetting,B=>l(t).grindSetting=B),Q("blur",A,()=>w(a)),ze(A,()=>l(t).shotTime,B=>l(t).shotTime=B),Q("blur",D,()=>w(a)),ze(D,()=>l(t).notes,B=>l(t).notes=B),T(f,m)};ve(u,f=>{l(t).cardID!==""&&f(g)})}T(d,v)}),s(_),s(p),T(o,p),Te()}wt(["click"]);var Wt=L('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Qt=L('<button type="button" class="flex items-center space-x-3 w-full text-left h-10 p-0 overflow-hidden"><div class="py-0 px-3 rounded-md flex items-center space-x-3 flex-grow"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p> <div class="h-3 border-r border-slate-300"></div> <p class="whitespace-nowrap truncate bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p></div> <div><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div> <div class="h-full w-12 max-w-[48px] flex-shrink-0"></div></button>'),Yt=L('<div class="journey-content"><div class="w-full rounded-md overflow-hidden"><div class="p-4"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Vt=L('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Archives</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a settings recommendation</a></div>'),Xt=L('<div class="flex flex-row w-full"><div class="flex flex-col items-start gap-7 w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Zt(o,e){ke(e,!1);let n=X(!0),r=X([]);const y=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],w="/images/espresso_machine.png";let j=X(-1);function C(f){W(j,l(j)===f?-1:f)}function M(f){return y[f%y.length]}function I(f){return{journeyID:f.id}}const p=async f=>{try{const m=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f})});if(m.ok){const E=await m.json();console.log("Journey deleted:",E),O()}else{const E=await m.json();console.error("Failed to delete journey:",E.message)}}catch(m){console.error("Error deleting journey:",m)}},O=async()=>{W(n,!0);try{const f=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(f.ok){const m=await f.json();console.log("Archive:",m),W(r,m.journeys||[]),console.log("journeys:",l(r))}else{const m=await f.json();console.error("Failed to fetch journeys:",m.message)}}catch(f){console.error("Error fetching journeys:",f)}finally{W(n,!1)}};Dt(()=>{O()}),qe();var x=Xt(),_=i(x),d=i(_);{var t=f=>{var m=Wt();T(f,m)},a=f=>{var m=ce(),E=le(m);{var Y=S=>{Ft(S,{class:"w-full",children:(q,ye)=>{var re=ce(),ue=le(re);rt(ue,1,()=>l(r),at,(ae,N,Z)=>{const oe=Je(()=>l(j)===Z);qt(ae,{get open(){return l(oe)},$$slots:{summary:(H,fe)=>{var z=Qt(),A=i(z),U=i(A),$=i(U,!0);s(U);var K=k(U,4),D=i(K,!0);s(K),s(A);var B=k(A,2),ne=i(B);s(B),_t(2),s(z),ie(V=>{G(z,"style",`background-image: url(${V??""}); background-size: cover; background-position: center;`),se($,l(N).drink),se(D,l(N).coffeeBeans)},[()=>M(Z)],Je),Q("click",ne,Re(()=>p(l(N).id))),Q("keydown",ne,Re(V=>V.key==="Enter"&&p(l(N).id))),Q("click",z,Re(()=>C(Z))),Q("keydown",z,V=>V.key==="Enter"&&C(Z)),T(H,z)},content:(H,fe)=>{var z=Yt(),A=i(z),U=i(A),$=i(U),K=i($),D=i(K),B=i(D,!0);s(D);var ne=k(D,4),V=i(ne,!0);s(ne);var _e=k(ne,4),Se=i(_e,!0);s(_e);var xe=k(_e,4),Pe=i(xe,!0);s(xe),s(K),s($),s(U),s(A);var je=k(A,2),Ce=i(je),h=i(Ce);const b=Je(()=>I(l(N)));Kt(h,{get journeyData(){return l(b)}}),s(Ce),s(je),s(z),ie(()=>{se(B,l(N).drink),se(V,l(N).coffeeBeans),se(Se,l(N).grinder),se(Pe,l(N).brewingDevice)}),T(H,z)}}})}),T(q,re)},$$slots:{default:!0}})},R=S=>{var q=Vt();T(S,q)};ve(E,S=>{l(r).length>0?S(Y):S(R,!1)},!0)}T(f,m)};ve(d,f=>{l(n)?f(t):f(a,!1)})}s(_);var v=k(_,2),u=i(v),g=i(u);G(g,"src",w),s(u),s(v),s(x),T(o,x),Te()}var Ht=L("<!> <!>",1);function vr(o){var e=Ht(),n=le(e);Ct(n,{});var r=k(n,2);Zt(r,{}),T(o,e)}export{vr as component};
