import{t as q,a as D,d as $e,c as we}from"../chunks/BAqy36Cs.js";import{i as lt}from"../chunks/82PtP3hU.js";import{A as et,ad as wt,aK as jt,aL as xt,e as Ct,u as kt,aM as St,aN as It,aO as Dt,aP as Pt,q as Tt,ag as Fe,ay as tt,az as rt,aA as Et,T as Ge,aQ as N,aw as At,aR as de,Z as K,a5 as ge,a2 as E,aS as dt,V as s,X as n,_ as _e,k as l,U as qe,aT as J,s as v,f as ye,a as Ot,W as Be,a3 as Ue}from"../chunks/xMGjtuDS.js";import{a as Ft,w as Bt,e as U,d as ct,r as zt,s as ce}from"../chunks/BihhDYK3.js";import{l as vt,b as p,c as ut,s as ft,a as je,p as ze,r as Nt}from"../chunks/D6qpmcv_.js";import{e as pt,i as mt,b as at}from"../chunks/qlyr-8WR.js";import{b as Pe,s as M,c as Je,h as Xe,r as Ze,A as Jt}from"../chunks/D90yvWM9.js";import{c as Mt,o as Rt}from"../chunks/M1NWxFb_.js";import"../chunks/BOX8LA56.js";import{a as Te,p as Gt,b as qt}from"../chunks/CEeAeIH2.js";import{b as Me}from"../chunks/CO2oLOIg.js";const Lt=()=>performance.now(),ve={tick:i=>requestAnimationFrame(i),now:()=>Lt(),tasks:new Set};function gt(){const i=ve.now();ve.tasks.forEach(e=>{e.c(i)||(ve.tasks.delete(e),e.f())}),ve.tasks.size!==0&&ve.tick(gt)}function Vt(i){let e;return ve.tasks.size===0&&ve.tick(gt),{promise:new Promise(d=>{ve.tasks.add(e={c:i,f:d})}),abort(){ve.tasks.delete(e)}}}function Re(i,e){Bt(()=>{i.dispatchEvent(new CustomEvent(e))})}function Wt(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const e=i.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function ot(i){const e={},d=i.split(";");for(const t of d){const[m,f]=t.split(":");if(!m||f===void 0)break;const j=Wt(m.trim());e[j]=f.trim()}return e}const Ut=i=>i;function nt(i,e,d,t){var m=(i&It)!==0,f=(i&Dt)!==0,j=m&&f,x=(i&St)!==0,A=j?"both":m?"in":"out",C,g=e.inert,R=e.style.overflow,k,h;function O(){var o=Et,P=et;tt(null),rt(null);try{return C??(C=d()(e,(t==null?void 0:t())??{},{direction:A}))}finally{tt(o),rt(P)}}var b={is_global:x,in(){var o;if(e.inert=g,!m){h==null||h.abort(),(o=h==null?void 0:h.reset)==null||o.call(h);return}f||k==null||k.abort(),Re(e,"introstart"),k=Ke(e,O(),h,1,()=>{Re(e,"introend"),k==null||k.abort(),k=C=void 0,e.style.overflow=R})},out(o){if(!f){o==null||o(),C=void 0;return}e.inert=!0,Re(e,"outrostart"),h=Ke(e,O(),k,0,()=>{Re(e,"outroend"),o==null||o()})},stop:()=>{k==null||k.abort(),h==null||h.abort()}},_=et;if((_.transitions??(_.transitions=[])).push(b),m&&Ft){var a=x;if(!a){for(var r=_.parent;r&&r.f&wt;)for(;(r=r.parent)&&!(r.f&jt););a=!r||(r.f&xt)!==0}a&&Ct(()=>{kt(()=>b.in())})}}function Ke(i,e,d,t,m){var f=t===1;if(Pt(e)){var j,x=!1;return Tt(()=>{if(!x){var _=e({direction:f?"in":"out"});j=Ke(i,_,d,t,m)}}),{abort:()=>{x=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(d==null||d.deactivate(),!(e!=null&&e.duration))return m(),{abort:Fe,deactivate:Fe,reset:Fe,t:()=>t};const{delay:A=0,css:C,tick:g,easing:R=Ut}=e;var k=[];if(f&&d===void 0&&(g&&g(0,1),C)){var h=ot(C(0,1));k.push(h,h)}var O=()=>1-t,b=i.animate(k,{duration:A});return b.onfinish=()=>{var _=(d==null?void 0:d.t())??1-t;d==null||d.abort();var a=t-_,r=e.duration*Math.abs(a),o=[];if(r>0){var P=!1;if(C)for(var u=Math.ceil(r/16.666666666666668),I=0;I<=u;I+=1){var L=_+a*R(I/u),z=ot(C(L,1-L));o.push(z),P||(P=z.overflow==="hidden")}P&&(i.style.overflow="hidden"),O=()=>{var F=b.currentTime;return _+a*R(F/r)},g&&Vt(()=>{if(b.playState!=="running")return!1;var F=O();return g(F,1-F),!0})}b=i.animate(o,{duration:r,fill:"forwards"}),b.onfinish=()=>{O=()=>t,g==null||g(t,1-t),m()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Fe)},deactivate:()=>{m=Fe},reset:()=>{t===0&&(g==null||g(1,0))},t:()=>O()}}function Xt(i){const e=i-1;return e*e*e+1}function it(i,{delay:e=0,duration:d=400,easing:t=Xt,axis:m="y"}={}){const f=getComputedStyle(i),j=+f.opacity,x=m==="y"?"height":"width",A=parseFloat(f[x]),C=m==="y"?["top","bottom"]:["left","right"],g=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),R=parseFloat(f[`padding${g[0]}`]),k=parseFloat(f[`padding${g[1]}`]),h=parseFloat(f[`margin${g[0]}`]),O=parseFloat(f[`margin${g[1]}`]),b=parseFloat(f[`border${g[0]}Width`]),_=parseFloat(f[`border${g[1]}Width`]);return{delay:e,duration:d,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*j};${x}: ${a*A}px;padding-${C[0]}: ${a*R}px;padding-${C[1]}: ${a*k}px;margin-${C[0]}: ${a*h}px;margin-${C[1]}: ${a*O}px;border-${C[0]}-width: ${a*b}px;border-${C[1]}-width: ${a*_}px;min-${x}: 0`}}var Zt=q('<div data-testid="accordion"><!></div>');function Kt(i,e){const d=vt(e,["children","$$slots","$$events","$$legacy"]);Ge(e,!1);const[t,m]=ft(),f=()=>ut(Gt,"$prefersReducedMotionStore",t),j=ge();let x=p(e,"autocollapse",8,!1),A=p(e,"width",8,"w-full"),C=p(e,"spacing",8,"space-y-1"),g=p(e,"disabled",8,!1),R=p(e,"padding",8,"py-2 px-4"),k=p(e,"hover",8,"hover:bg-primary-hover-token"),h=p(e,"rounded",8,"rounded-container-token"),O=p(e,"caretOpen",8,"rotate-180"),b=p(e,"caretClosed",8,""),_=p(e,"regionControl",8,""),a=p(e,"regionPanel",8,"space-y-4"),r=p(e,"regionCaret",8,""),o=p(e,"transitions",24,()=>!f()),P=p(e,"transitionIn",8,it),u=p(e,"transitionInParams",24,()=>({duration:200})),I=p(e,"transitionOut",8,it),L=p(e,"transitionOutParams",24,()=>({duration:200}));const z=At(null);N("active",z),N("autocollapse",x()),N("disabled",g()),N("padding",R()),N("hover",k()),N("rounded",h()),N("caretOpen",O()),N("caretClosed",b()),N("regionControl",_()),N("regionPanel",a()),N("regionCaret",r()),N("transitions",o()),N("transitionIn",P()),N("transitionInParams",u()),N("transitionOut",I()),N("transitionOutParams",L()),de(()=>(E(A()),E(C()),E(d)),()=>{K(j,`${A()} ${C()} ${d.class??""}`)}),dt(),lt();var F=Zt(),X=s(F);Te(X,e,"default",{},null),n(F),_e(()=>Pe(F,`accordion ${l(j)??""}`)),D(i,F),qe(),m()}function st(i,e){const{transition:d,params:t,enabled:m}=e;return m?d(i,t):"duration"in t?d(i,{duration:0}):{duration:0}}var Qt=q('<div class="accordion-lead"><!></div>'),Yt=q("<div><!></div>"),Ht=q("<div><!></div>"),$t=q('<div role="region"><!></div>'),er=q('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function tr(i,e){const d=qt(e),t=vt(e,["children","$$slots","$$events","$$legacy"]);Ge(e,!1);const[m,f]=ft(),j=()=>ut(I(),"$active",m),x=ge(),A=ge(),C=ge(),g=ge(),R=ge(),k=ge(),h=ge(),O=Mt();let b=p(e,"open",12,!1),_=p(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",P="";let u=p(e,"autocollapse",24,()=>J("autocollapse")),I=p(e,"active",24,()=>J("active")),L=p(e,"disabled",24,()=>J("disabled")),z=p(e,"padding",24,()=>J("padding")),F=p(e,"hover",24,()=>J("hover")),X=p(e,"rounded",24,()=>J("rounded")),$=p(e,"caretOpen",24,()=>J("caretOpen")),oe=p(e,"caretClosed",24,()=>J("caretClosed")),ee=p(e,"regionControl",24,()=>J("regionControl")),ue=p(e,"regionPanel",24,()=>J("regionPanel")),Y=p(e,"regionCaret",24,()=>J("regionCaret")),fe=p(e,"transitions",24,()=>J("transitions")),ne=p(e,"transitionIn",24,()=>J("transitionIn")),pe=p(e,"transitionInParams",24,()=>J("transitionInParams")),he=p(e,"transitionOut",24,()=>J("transitionOut")),te=p(e,"transitionOutParams",24,()=>J("transitionOutParams"));const H=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function me(y){u()===!0?I().set(_()):b(!b()),xe(y)}function xe(y){const w=u()?j()===_():b();O("toggle",{event:y,id:_(),panelId:`accordion-panel-${_()}`,open:w,autocollapse:u()})}u()&&b()&&me(),de(()=>(E(b()),E(u())),()=>{b()&&u()&&me()}),de(()=>(E(u()),j(),E(_()),E(b())),()=>{K(x,u()?j()===_():b())}),de(()=>E(t),()=>{K(A,`${a} ${t.class??""}`)}),de(()=>(E(z()),E(F()),E(X()),E(ee())),()=>{K(C,`${r} ${z()} ${F()} ${X()} ${ee()}`)}),de(()=>(l(x),E($()),E(oe())),()=>{K(g,l(x)?$():oe())}),de(()=>(E(Y()),l(g)),()=>{K(R,`${o} ${Y()} ${l(g)}`)}),de(()=>E(Y()),()=>{K(k,`${o} ${Y()}`)}),de(()=>(E(z()),E(X()),E(ue())),()=>{K(h,`${P} ${z()} ${X()} ${ue()}`)}),dt(),lt();var Q=er(),T=s(Q),re=s(T);{var Ee=y=>{var w=Qt(),ie=s(w);Te(ie,e,"lead",{},null),n(w),D(y,w)};je(re,y=>{d.lead&&y(Ee)})}var c=v(re,2),S=s(c);Te(S,e,"summary",{},y=>{var w=$e("(summary)");D(y,w)}),n(c);var ae=v(c,2);{var Ce=y=>{var w=Yt(),ie=s(w);{var Ae=se=>{var be=we(),le=ye(be);Te(le,e,"iconClosed",{},Se=>{var B=we(),Z=ye(B);Xe(Z,()=>H),D(Se,B)}),D(se,be)},W=se=>{var be=we(),le=ye(be);Te(le,e,"iconOpen",{},Se=>{var B=we(),Z=ye(B);Xe(Z,()=>H),D(Se,B)}),D(se,be)};je(ie,se=>{l(x)?se(Ae):se(W,!1)})}n(w),_e(()=>Pe(w,`accordion-summary-icons ${l(k)??""}`)),D(y,w)},ke=y=>{var w=Ht(),ie=s(w);Xe(ie,()=>H),n(w),_e(()=>Pe(w,`accordion-summary-caret ${l(R)??""}`)),D(y,w)};je(ae,y=>{d.iconClosed||d.iconOpen?y(Ce):y(ke,!1)})}n(T);var V=v(T,2);{var G=y=>{var w=$t(),ie=s(w);Te(ie,e,"content",{},Ae=>{var W=$e("(content)");D(Ae,W)}),n(w),_e(()=>{Pe(w,`accordion-panel ${l(h)??""}`),M(w,"id",`accordion-panel-${_()??""}`),M(w,"aria-hidden",!l(x)),M(w,"aria-labelledby",_())}),nt(1,w,()=>st,()=>({transition:ne(),params:pe(),enabled:fe()})),nt(2,w,()=>st,()=>({transition:he(),params:te(),enabled:fe()})),D(y,w)};je(V,y=>{l(x)&&y(G)})}n(Q),_e(()=>{Pe(Q,`accordion-item ${l(A)??""}`),Pe(T,`accordion-control ${l(C)??""}`),M(T,"id",_()),M(T,"aria-expanded",l(x)),M(T,"aria-controls",`accordion-panel-${_()??""}`),T.disabled=L()}),U("click",T,me),U("click",T,function(y){Je.call(this,e,y)}),U("keydown",T,function(y){Je.call(this,e,y)}),U("keyup",T,function(y){Je.call(this,e,y)}),U("keypress",T,function(y){Je.call(this,e,y)}),D(i,Q),qe(),f()}const rr=async(i,e,d,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(d.journeyData.journeyID)}catch(m){console.error("Error getting journey:",m),alert("An error occurred while posting the journey card.")}};var ar=q('<div class="snap-start shrink-0 relative sm:w-64 md:w-70 lg:w-80"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),or=q('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function nr(i,e){Ge(e,!0);let d=Nt(e,["$$slots","$$events","$$legacy"]),t=ze([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),m=ze({}),f=ze({});const j=async(a,r)=>{m[a]||(m[a]=!0),await R(a)},x=(a,r)=>{f[a]||(f[a]={}),f[a][r]=t[a][r],t[a][r]=""},A=(a,r)=>{var u;const o=t[a][r],P=(u=f[a])==null?void 0:u[r];(o===""||o===null)&&P!==void 0&&(t[a][r]=P),j(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&g(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},g=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const P=o.journeyCards;console.log("JourneyCardsData:",P);for(let u=0;u<t.length;u++)t[u]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};P.forEach((u,I)=>{I<t.length&&(t[I].cardID=u.id,t[I].datePosted=u.datePosted,t[I].iteration=u.iteration,t[I].notes=u.notes,t[I].grindSetting=u.grindSetting,t[I].shotTime=u.shotTime,t[I].journeyID=e.journeyData.journeyID,t[I].grindAmount=u.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},R=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");m[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function k(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),P=r.getDate().toString().padStart(2,"0"),u=r.getFullYear().toString().slice(-2);return`${o}/${P}/${u}`}Ot(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&g(e.journeyData.journeyID)});var h=or(),O=s(h),b=s(O);b.__click=[rr,d,e,g],n(O);var _=v(O,2);pt(_,21,()=>t,mt,(a,r,o)=>{var P=we(),u=ye(P);{var I=L=>{var z=ar(),F=s(z);F.__click=()=>C(l(r).cardID,o);var X=v(F,2),$=s(X),oe=s($),ee=s(oe),ue=s(ee);n(ee);var Y=v(ee,2),fe=s(Y,!0);n(Y),n(oe),n($);var ne=v($,2),pe=s(ne);M(pe,"for",`grindSetting${o+1}`);var he=v(pe,2),te=v(s(he),2);Ze(te),M(te,"id",`grindSetting${o+1}`),n(he),n(ne);var H=v(ne,2),me=s(H);M(me,"for",`grindAmount${o+1}`);var xe=v(me,2),Q=v(s(xe),2);Ze(Q),M(Q,"id",`grindAmount${o+1}`),n(xe),n(H);var T=v(H,2),re=s(T);M(re,"for",`shotTime${o+1}`);var Ee=s(re,!0);n(re);var c=v(re,2),S=v(s(c),2);Ze(S),M(S,"id",`shotTime${o+1}`),n(c),n(T);var ae=v(T,2),Ce=s(ae);M(Ce,"for",`notes${o+1}`);var ke=v(Ce,2),V=v(s(ke),2);zt(V),M(V,"id",`notes${o+1}`),n(ke),n(ae),n(X),n(z),_e((G,y)=>{ce(ue,`Iteration #${l(r).iteration??""}`),ce(fe,G),ce(Ee,y)},[()=>k(l(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),U("focus",te,()=>x(o,"grindSetting")),U("blur",te,()=>A(o,"grindSetting")),Me(te,()=>l(r).grindSetting,G=>l(r).grindSetting=G),U("focus",Q,()=>x(o,"grindAmount")),U("blur",Q,()=>A(o,"grindAmount")),Me(Q,()=>l(r).grindAmount,G=>l(r).grindAmount=G),U("focus",S,()=>x(o,"shotTime")),U("blur",S,()=>A(o,"shotTime")),Me(S,()=>l(r).shotTime,G=>l(r).shotTime=G),U("focus",V,()=>x(o,"notes")),U("blur",V,()=>A(o,"notes")),Me(V,()=>l(r).notes,G=>l(r).notes=G),D(L,z)};je(u,L=>{l(r).cardID!==""&&L(I)})}D(a,P)}),n(_),n(h),D(i,h),qe()}ct(["click"]);var ir=q('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),sr=(i,e,d)=>{i.stopPropagation(),e(l(d).id)},lr=(i,e,d)=>{i.key==="Enter"&&(i.stopPropagation(),e(l(d).id))},dr=q('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),cr=q('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-4rem)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div></div>'),vr=q('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),ur=q('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),fr=q('<div class="flex-col w-full"><div class="flex justify-center items-center w-full p-0"><form class="toDoForm"><select id="drink" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a drink</option><option>Espresso</option><option>Coffee</option></select> <select id="grinder" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a grinder</option><option>DF 54</option><option>DF 64</option><option>Baratza Encore</option><option>Baratza Encore ESP</option><option>Baratza Sette 270</option><option>Baratza Virtuoso</option><option>Breville Smart Grinder Pro</option><option>Eureka Mignon Specialita</option><option>1Zpresso JX Pro</option></select></form></div> <div class="flex flex-row w-full justify-start overflow-hidden"><div class="flex flex-col items-start w-full overflow-hidden mx-auto md:w-3/4 md:mx-0"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div></div>');function pr(i,e){Ge(e,!0);let d=Be(!0),t=Be(""),m=Be(""),f=!1;typeof window<"u"&&(f=window.innerWidth<768,window.addEventListener("resize",()=>{f=window.innerWidth<768}));let j=Be(ze([])),x=Ue(()=>l(t)?l(j).filter(c=>c.drink===l(t)):l(j));const A=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],C="/images/espresso_machine.png";let g=Be(-1);function R(c){return A[c%A.length]}function k(c){return{journeyID:c.id}}function h(c,S){return c?c.length>S?c.substring(0,S)+"...":c:""}function O(c){return f?h(c,16):h(c,40)}const b=async c=>{try{const S=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});if(S.ok){const ae=await S.json();console.log("Journey deleted:",ae),_()}else{const ae=await S.json();console.error("Failed to delete journey:",ae.message)}}catch(S){console.error("Error deleting journey:",S)}},_=async()=>{K(d,!0);try{const c=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(c.ok){const S=await c.json();console.log("Archive:",S),K(j,ze(S.journeys||[])),console.log("journeys:",l(j))}else{const S=await c.json();console.error("Failed to fetch journeys:",S.message)}}catch(c){console.error("Error fetching journeys:",c)}finally{K(d,!1)}},a=c=>{c.preventDefault()};Rt(()=>{_()});var r=fr(),o=s(r),P=s(o),u=s(P),I=s(u);I.value=((I.__value="")==null,"");var L=v(I);L.value=(L.__value="Espresso")==null?"":"Espresso";var z=v(L);z.value=(z.__value="Coffee")==null?"":"Coffee",n(u);var F=v(u,2),X=s(F);X.value=((X.__value="")==null,"");var $=v(X);$.value=($.__value="DF 54")==null?"":"DF 54";var oe=v($);oe.value=(oe.__value="DF 64")==null?"":"DF 64";var ee=v(oe);ee.value=(ee.__value="Baratza Encore")==null?"":"Baratza Encore";var ue=v(ee);ue.value=(ue.__value="Baratza Encore ESP")==null?"":"Baratza Encore ESP";var Y=v(ue);Y.value=(Y.__value="Baratza Sette 270")==null?"":"Baratza Sette 270";var fe=v(Y);fe.value=(fe.__value="Baratza Virtuoso")==null?"":"Baratza Virtuoso";var ne=v(fe);ne.value=(ne.__value="Breville Smart Grinder Pro")==null?"":"Breville Smart Grinder Pro";var pe=v(ne);pe.value=(pe.__value="Eureka Mignon Specialita")==null?"":"Eureka Mignon Specialita";var he=v(pe);he.value=(he.__value="1Zpresso JX Pro")==null?"":"1Zpresso JX Pro",n(F),n(P),n(o);var te=v(o,2),H=s(te),me=s(H);{var xe=c=>{var S=ir();D(c,S)},Q=c=>{var S=we(),ae=ye(S);{var Ce=V=>{Kt(V,{class:"w-full overflow-hidden",children:(G,y)=>{var w=we(),ie=ye(w);pt(ie,17,()=>l(x),mt,(Ae,W,se)=>{const be=Ue(()=>l(g)===se);tr(Ae,{get open(){return l(be)},class:"mb-0",children:(le,Se)=>{var B=dr(),Z=s(B);Z.__click=[sr,b,W],Z.__keydown=[lr,b,W],n(B),D(le,B)},$$slots:{default:!0,summary:(le,Se)=>{var B=cr(),Z=s(B),Ie=s(Z),Ne=s(Ie,!0);n(Ie);var De=v(Ie,4),Le=s(De,!0);n(De),n(Z),n(B),_e((Oe,Ve)=>{M(B,"style",`background-image: url(${Oe??""}); background-size: cover; background-position: center;`),ce(Ne,l(W).drink),ce(Le,Ve)},[()=>R(se),()=>O(l(W).coffeeBeans)]),D(le,B)},content:(le,Se)=>{var B=vr(),Z=s(B),Ie=s(Z),Ne=s(Ie),De=s(Ne),Le=s(De,!0);n(De);var Oe=v(De,4),Ve=s(Oe,!0);n(Oe);var We=v(Oe,4),_t=s(We,!0);n(We);var Qe=v(We,4),yt=s(Qe,!0);n(Qe),n(Ne),n(Ie),n(Z);var Ye=v(Z,2),He=s(Ye),ht=s(He);const bt=Ue(()=>k(l(W)));nr(ht,{get journeyData(){return l(bt)},get drink(){return l(W).drink}}),n(He),n(Ye),n(B),_e(()=>{ce(Le,l(W).drink),ce(Ve,l(W).coffeeBeans),ce(_t,l(W).grinder),ce(yt,l(W).brewingDevice)}),D(le,B)}}})}),D(G,w)},$$slots:{default:!0}})},ke=V=>{var G=ur();D(V,G)};je(ae,V=>{l(x).length>0?V(Ce):V(ke,!1)},!0)}D(c,S)};je(me,c=>{l(d)?c(xe):c(Q,!1)})}n(H);var T=v(H,2),re=s(T),Ee=s(re);M(Ee,"src",C),n(re),n(T),n(te),n(r),U("submit",P,a),at(u,()=>l(t),c=>K(t,c)),at(F,()=>l(m),c=>K(m,c)),D(i,r),qe()}ct(["click","keydown"]);var mr=q("<!> <!>",1);function Ir(i){var e=mr(),d=ye(e);Jt(d,{});var t=v(d,2);pr(t,{}),D(i,e)}export{Ir as component};
