import{t as V,a as D,d as Ut,c as pt}from"../chunks/DLZ7H7Fm.js";import{i as Lt}from"../chunks/BMgznbf7.js";import{l as Vt,ad as ne,aK as se,aL as ie,G as le,K as de,aM as ce,aN as ve,aO as ue,aP as fe,D as me,ag as kt,ay as Kt,az as Wt,aA as ge,T as Pt,aQ as R,aw as pe,aR as rt,Z as X,$ as H,a3 as A,aS as Ht,V as c,X as i,_ as dt,g as s,U as At,aT as z,R as k,Q as ct,N as ye,d as Jt,Y as _e}from"../chunks/BOw1AeM4.js";import{a as he,w as be,e as B,d as we,r as xe,s as at}from"../chunks/BReulVDI.js";import{l as $t,a as u,c as te,s as ee,i as yt,p as Mt,r as je}from"../chunks/Db0Jo1o8.js";import{e as re,i as ae}from"../chunks/CZS3sv3T.js";import{b as xt,s as q,c as Dt,h as Rt,r as zt,A as Ce}from"../chunks/CvAZjfqY.js";import{s as qt}from"../chunks/Bfc47y5P.js";import{c as Ie,o as ke}from"../chunks/BMBHoIzy.js";import"../chunks/55fAY4L9.js";import{a as jt,p as De,b as Te}from"../chunks/DMKw4_NB.js";import{b as Tt}from"../chunks/QFNNfdoR.js";const Se=()=>performance.now(),ot={tick:l=>requestAnimationFrame(l),now:()=>Se(),tasks:new Set};function oe(){const l=ot.now();ot.tasks.forEach(t=>{t.c(l)||(ot.tasks.delete(t),t.f())}),ot.tasks.size!==0&&ot.tick(oe)}function Pe(l){let t;return ot.tasks.size===0&&ot.tick(oe),{promise:new Promise(d=>{ot.tasks.add(t={c:l,f:d})}),abort(){ot.tasks.delete(t)}}}function St(l,t){be(()=>{l.dispatchEvent(new CustomEvent(t))})}function Ae(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const t=l.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function Qt(l){const t={},d=l.split(";");for(const e of d){const[p,f]=e.split(":");if(!p||f===void 0)break;const j=Ae(p.trim());t[j]=f.trim()}return t}const Oe=l=>l;function Yt(l,t,d,e){var p=(l&ve)!==0,f=(l&ue)!==0,j=p&&f,w=(l&ce)!==0,E=j?"both":p?"in":"out",C,m=t.inert,J=t.style.overflow,b,y;function O(){var o=ge,v=Vt;Kt(null),Wt(null);try{return C??(C=d()(t,(e==null?void 0:e())??{},{direction:E}))}finally{Kt(o),Wt(v)}}var h={is_global:w,in(){var o;if(t.inert=m,!p){y==null||y.abort(),(o=y==null?void 0:y.reset)==null||o.call(y);return}f||b==null||b.abort(),St(t,"introstart"),b=Gt(t,O(),y,1,()=>{St(t,"introend"),b==null||b.abort(),b=C=void 0,t.style.overflow=J})},out(o){if(!f){o==null||o(),C=void 0;return}t.inert=!0,St(t,"outrostart"),y=Gt(t,O(),b,0,()=>{St(t,"outroend"),o==null||o()})},stop:()=>{b==null||b.abort(),y==null||y.abort()}},_=Vt;if((_.transitions??(_.transitions=[])).push(h),p&&he){var a=w;if(!a){for(var r=_.parent;r&&r.f&ne;)for(;(r=r.parent)&&!(r.f&se););a=!r||(r.f&ie)!==0}a&&le(()=>{de(()=>h.in())})}}function Gt(l,t,d,e,p){var f=e===1;if(fe(t)){var j,w=!1;return me(()=>{if(!w){var _=t({direction:f?"in":"out"});j=Gt(l,_,d,e,p)}}),{abort:()=>{w=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(d==null||d.deactivate(),!(t!=null&&t.duration))return p(),{abort:kt,deactivate:kt,reset:kt,t:()=>e};const{delay:E=0,css:C,tick:m,easing:J=Oe}=t;var b=[];if(f&&d===void 0&&(m&&m(0,1),C)){var y=Qt(C(0,1));b.push(y,y)}var O=()=>1-e,h=l.animate(b,{duration:E});return h.onfinish=()=>{var _=(d==null?void 0:d.t())??1-e;d==null||d.abort();var a=e-_,r=t.duration*Math.abs(a),o=[];if(r>0){var v=!1;if(C)for(var n=Math.ceil(r/16.666666666666668),I=0;I<=n;I+=1){var Y=_+a*J(I/n),G=Qt(C(Y,1-Y));o.push(G),v||(v=G.overflow==="hidden")}v&&(l.style.overflow="hidden"),O=()=>{var T=h.currentTime;return _+a*J(T/r)},m&&Pe(()=>{if(h.playState!=="running")return!1;var T=O();return m(T,1-T),!0})}h=l.animate(o,{duration:r,fill:"forwards"}),h.onfinish=()=>{O=()=>e,m==null||m(e,1-e),p()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=kt)},deactivate:()=>{p=kt},reset:()=>{e===0&&(m==null||m(1,0))},t:()=>O()}}function Ee(l){const t=l-1;return t*t*t+1}function Xt(l,{delay:t=0,duration:d=400,easing:e=Ee,axis:p="y"}={}){const f=getComputedStyle(l),j=+f.opacity,w=p==="y"?"height":"width",E=parseFloat(f[w]),C=p==="y"?["top","bottom"]:["left","right"],m=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),J=parseFloat(f[`padding${m[0]}`]),b=parseFloat(f[`padding${m[1]}`]),y=parseFloat(f[`margin${m[0]}`]),O=parseFloat(f[`margin${m[1]}`]),h=parseFloat(f[`border${m[0]}Width`]),_=parseFloat(f[`border${m[1]}Width`]);return{delay:t,duration:d,easing:e,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*j};${w}: ${a*E}px;padding-${C[0]}: ${a*J}px;padding-${C[1]}: ${a*b}px;margin-${C[0]}: ${a*y}px;margin-${C[1]}: ${a*O}px;border-${C[0]}-width: ${a*h}px;border-${C[1]}-width: ${a*_}px;min-${w}: 0`}}var Ne=V('<div data-testid="accordion"><!></div>');function Fe(l,t){const d=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[e,p]=ee(),f=()=>te(De,"$prefersReducedMotionStore",e),j=H();let w=u(t,"autocollapse",8,!1),E=u(t,"width",8,"w-full"),C=u(t,"spacing",8,"space-y-1"),m=u(t,"disabled",8,!1),J=u(t,"padding",8,"py-2 px-4"),b=u(t,"hover",8,"hover:bg-primary-hover-token"),y=u(t,"rounded",8,"rounded-container-token"),O=u(t,"caretOpen",8,"rotate-180"),h=u(t,"caretClosed",8,""),_=u(t,"regionControl",8,""),a=u(t,"regionPanel",8,"space-y-4"),r=u(t,"regionCaret",8,""),o=u(t,"transitions",24,()=>!f()),v=u(t,"transitionIn",8,Xt),n=u(t,"transitionInParams",24,()=>({duration:200})),I=u(t,"transitionOut",8,Xt),Y=u(t,"transitionOutParams",24,()=>({duration:200}));const G=pe(null);R("active",G),R("autocollapse",w()),R("disabled",m()),R("padding",J()),R("hover",b()),R("rounded",y()),R("caretOpen",O()),R("caretClosed",h()),R("regionControl",_()),R("regionPanel",a()),R("regionCaret",r()),R("transitions",o()),R("transitionIn",v()),R("transitionInParams",n()),R("transitionOut",I()),R("transitionOutParams",Y()),rt(()=>(A(E()),A(C()),A(d)),()=>{X(j,`${E()} ${C()} ${d.class??""}`)}),Ht(),Lt();var T=Ne(),K=c(T);jt(K,t,"default",{},null),i(T),dt(()=>xt(T,`accordion ${s(j)??""}`)),D(l,T),At(),p()}function Zt(l,t){const{transition:d,params:e,enabled:p}=t;return p?d(l,e):"duration"in e?d(l,{duration:0}):{duration:0}}var Be=V('<div class="accordion-lead"><!></div>'),Je=V("<div><!></div>"),Me=V("<div><!></div>"),Re=V('<div role="region"><!></div>'),ze=V('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function qe(l,t){const d=Te(t),e=$t(t,["children","$$slots","$$events","$$legacy"]);Pt(t,!1);const[p,f]=ee(),j=()=>te(I(),"$active",p),w=H(),E=H(),C=H(),m=H(),J=H(),b=H(),y=H(),O=Ie();let h=u(t,"open",12,!1),_=u(t,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",v="";let n=u(t,"autocollapse",24,()=>z("autocollapse")),I=u(t,"active",24,()=>z("active")),Y=u(t,"disabled",24,()=>z("disabled")),G=u(t,"padding",24,()=>z("padding")),T=u(t,"hover",24,()=>z("hover")),K=u(t,"rounded",24,()=>z("rounded")),vt=u(t,"caretOpen",24,()=>z("caretOpen")),nt=u(t,"caretClosed",24,()=>z("caretClosed")),st=u(t,"regionControl",24,()=>z("regionControl")),_t=u(t,"regionPanel",24,()=>z("regionPanel")),P=u(t,"regionCaret",24,()=>z("regionCaret")),tt=u(t,"transitions",24,()=>z("transitions")),ut=u(t,"transitionIn",24,()=>z("transitionIn")),it=u(t,"transitionInParams",24,()=>z("transitionInParams")),ht=u(t,"transitionOut",24,()=>z("transitionOut")),N=u(t,"transitionOutParams",24,()=>z("transitionOutParams"));const L=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function W(g){n()===!0?I().set(_()):h(!h()),et(g)}function et(g){const x=n()?j()===_():h();O("toggle",{event:g,id:_(),panelId:`accordion-panel-${_()}`,open:x,autocollapse:n()})}n()&&h()&&W(),rt(()=>(A(h()),A(n())),()=>{h()&&n()&&W()}),rt(()=>(A(n()),j(),A(_()),A(h())),()=>{X(w,n()?j()===_():h())}),rt(()=>A(e),()=>{X(E,`${a} ${e.class??""}`)}),rt(()=>(A(G()),A(T()),A(K()),A(st())),()=>{X(C,`${r} ${G()} ${T()} ${K()} ${st()}`)}),rt(()=>(s(w),A(vt()),A(nt())),()=>{X(m,s(w)?vt():nt())}),rt(()=>(A(P()),s(m)),()=>{X(J,`${o} ${P()} ${s(m)}`)}),rt(()=>A(P()),()=>{X(b,`${o} ${P()}`)}),rt(()=>(A(G()),A(K()),A(_t())),()=>{X(y,`${v} ${G()} ${K()} ${_t()}`)}),Ht(),Lt();var F=ze(),S=c(F),U=c(S);{var lt=g=>{var x=Be(),gt=c(x);jt(gt,t,"lead",{},null),i(x),D(g,x)};yt(U,g=>{d.lead&&g(lt)})}var M=k(U,2),Z=c(M);jt(Z,t,"summary",{},g=>{var x=Ut("(summary)");D(g,x)}),i(M);var ft=k(M,2);{var bt=g=>{var x=Je(),gt=c(x);{var Ot=wt=>{var Ct=pt(),Nt=ct(Ct);jt(Nt,t,"iconClosed",{},Ft=>{var It=pt(),Bt=ct(It);Rt(Bt,()=>L),D(Ft,It)}),D(wt,Ct)},Et=wt=>{var Ct=pt(),Nt=ct(Ct);jt(Nt,t,"iconOpen",{},Ft=>{var It=pt(),Bt=ct(It);Rt(Bt,()=>L),D(Ft,It)}),D(wt,Ct)};yt(gt,wt=>{s(w)?wt(Ot):wt(Et,!1)})}i(x),dt(()=>xt(x,`accordion-summary-icons ${s(b)??""}`)),D(g,x)},mt=g=>{var x=Me(),gt=c(x);Rt(gt,()=>L),i(x),dt(()=>xt(x,`accordion-summary-caret ${s(J)??""}`)),D(g,x)};yt(ft,g=>{d.iconClosed||d.iconOpen?g(bt):g(mt,!1)})}i(S);var $=k(S,2);{var Q=g=>{var x=Re(),gt=c(x);jt(gt,t,"content",{},Ot=>{var Et=Ut("(content)");D(Ot,Et)}),i(x),dt(()=>{xt(x,`accordion-panel ${s(y)??""}`),q(x,"id",`accordion-panel-${_()??""}`),q(x,"aria-hidden",!s(w)),q(x,"aria-labelledby",_())}),Yt(1,x,()=>Zt,()=>({transition:ut(),params:it(),enabled:tt()})),Yt(2,x,()=>Zt,()=>({transition:ht(),params:N(),enabled:tt()})),D(g,x)};yt($,g=>{s(w)&&g(Q)})}i(F),dt(()=>{xt(F,`accordion-item ${s(E)??""}`),xt(S,`accordion-control ${s(C)??""}`),q(S,"id",_()),q(S,"aria-expanded",s(w)),q(S,"aria-controls",`accordion-panel-${_()??""}`),S.disabled=Y()}),B("click",S,W),B("click",S,function(g){Dt.call(this,t,g)}),B("keydown",S,function(g){Dt.call(this,t,g)}),B("keyup",S,function(g){Dt.call(this,t,g)}),B("keypress",S,function(g){Dt.call(this,t,g)}),D(l,F),At(),f()}const Ge=async(l,t,d,e)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");e(d.journeyData.journeyID)}catch(p){console.error("Error getting journey:",p),alert("An error occurred while posting the journey card.")}};var Le=V('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Ue=V('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ve(l,t){Pt(t,!0);let d=je(t,["$$slots","$$events","$$legacy"]),e=Mt([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),p=Mt({}),f=Mt({});const j=async(a,r)=>{p[a]||(p[a]=!0),await J(a)},w=(a,r)=>{f[a]||(f[a]={}),f[a][r]=e[a][r],e[a][r]=""},E=(a,r)=>{var n;const o=e[a][r],v=(n=f[a])==null?void 0:n[r];(o===""||o===null)&&v!==void 0&&(e[a][r]=v),j(a),f[a]&&(delete f[a][r],Object.keys(f[a]).length===0&&delete f[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");e[r].cardID="",e[r].datePosted="",e[r].iteration="",e[r].notes="",e[r].grindSetting="",e[r].shotTime="",e[r].journeyID="",e[r].grindAmount="",t.journeyData.journeyID&&m(t.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},m=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const v=o.journeyCards;console.log("JourneyCardsData:",v);for(let n=0;n<e.length;n++)e[n]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};v.forEach((n,I)=>{I<e.length&&(e[I].cardID=n.id,e[I].datePosted=n.datePosted,e[I].iteration=n.iteration,e[I].notes=n.notes,e[I].grindSetting=n.grindSetting,e[I].shotTime=n.shotTime,e[I].journeyID=t.journeyData.journeyID,e[I].grindAmount=n.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},J=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e[a].cardID,grindSetting:e[a].grindSetting,shotTime:e[a].shotTime,notes:e[a].notes,grindAmount:e[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");p[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function b(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),v=r.getDate().toString().padStart(2,"0"),n=r.getFullYear().toString().slice(-2);return`${o}/${v}/${n}`}ye(()=>{console.log("running"),console.log(t.journeyData.journeyID),t.journeyData.journeyID&&m(t.journeyData.journeyID)});var y=Ue(),O=c(y),h=c(O);h.__click=[Ge,d,t,m],i(O);var _=k(O,2);re(_,21,()=>e,ae,(a,r,o)=>{var v=pt(),n=ct(v);{var I=Y=>{var G=Le(),T=c(G);T.__click=()=>C(s(r).cardID,o);var K=k(T,2),vt=c(K),nt=c(vt),st=c(nt),_t=c(st);i(st);var P=k(st,2),tt=c(P,!0);i(P),i(nt),i(vt);var ut=k(vt,2),it=c(ut);q(it,"for",`grindSetting${o+1}`);var ht=k(it,2),N=k(c(ht),2);zt(N),q(N,"id",`grindSetting${o+1}`),i(ht),i(ut);var L=k(ut,2),W=c(L);q(W,"for",`grindAmount${o+1}`);var et=k(W,2),F=k(c(et),2);zt(F),q(F,"id",`grindAmount${o+1}`),i(et),i(L);var S=k(L,2),U=c(S);q(U,"for",`shotTime${o+1}`);var lt=c(U,!0);i(U);var M=k(U,2),Z=k(c(M),2);zt(Z),q(Z,"id",`shotTime${o+1}`),i(M),i(S);var ft=k(S,2),bt=c(ft);q(bt,"for",`notes${o+1}`);var mt=k(bt,2),$=k(c(mt),2);xe($),q($,"id",`notes${o+1}`),i(mt),i(ft),i(K),i(G),dt((Q,g)=>{at(_t,`Iteration #${s(r).iteration??""}`),at(tt,Q),at(lt,g)},[()=>b(s(r).datePosted),()=>t.drink&&t.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),B("focus",N,()=>w(o,"grindSetting")),B("blur",N,()=>E(o,"grindSetting")),Tt(N,()=>s(r).grindSetting,Q=>s(r).grindSetting=Q),B("focus",F,()=>w(o,"grindAmount")),B("blur",F,()=>E(o,"grindAmount")),Tt(F,()=>s(r).grindAmount,Q=>s(r).grindAmount=Q),B("focus",Z,()=>w(o,"shotTime")),B("blur",Z,()=>E(o,"shotTime")),Tt(Z,()=>s(r).shotTime,Q=>s(r).shotTime=Q),B("focus",$,()=>w(o,"notes")),B("blur",$,()=>E(o,"notes")),Tt($,()=>s(r).notes,Q=>s(r).notes=Q),D(Y,G)};yt(n,Y=>{s(r).cardID!==""&&Y(I)})}D(a,v)}),i(_),i(y),D(l,y),At()}we(["click"]);var Ke=V('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),We=V('<button type="button" class="flex items-center space-x-3 w-full text-left h-10 p-0"><div class="py-0 px-3 rounded-md flex items-center space-x-3"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p> <div class="h-3 border-r border-slate-300"></div> <p class="whitespace-nowrap truncate max-w-xs min-w-0 bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p></div> <div class="flex-grow"></div> <div><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div> <div class="h-full w-12 max-w-[48px] flex-shrink-0"></div></button>'),Qe=V('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Ye=V('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Xe=V('<div class="flex flex-row w-full justify-start"><div class="flex flex-col items-start w-full md:w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Ze(l,t){Pt(t,!1);let d=H(!0),e=H([]);const p=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],f="/images/espresso_machine.png";let j=H(-1);function w(v){X(j,s(j)===v?-1:v)}function E(v){return p[v%p.length]}function C(v){return{journeyID:v.id}}const m=async v=>{try{const n=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:v})});if(n.ok){const I=await n.json();console.log("Journey deleted:",I),J()}else{const I=await n.json();console.error("Failed to delete journey:",I.message)}}catch(n){console.error("Error deleting journey:",n)}},J=async()=>{X(d,!0);try{const v=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(v.ok){const n=await v.json();console.log("Archive:",n),X(e,n.journeys||[]),console.log("journeys:",s(e))}else{const n=await v.json();console.error("Failed to fetch journeys:",n.message)}}catch(v){console.error("Error fetching journeys:",v)}finally{X(d,!1)}};ke(()=>{J()}),Lt();var b=Xe(),y=c(b),O=c(y);{var h=v=>{var n=Ke();D(v,n)},_=v=>{var n=pt(),I=ct(n);{var Y=T=>{Fe(T,{class:"w-full",children:(K,vt)=>{var nt=pt(),st=ct(nt);re(st,1,()=>s(e),ae,(_t,P,tt)=>{const ut=Jt(()=>s(j)===tt);qe(_t,{get open(){return s(ut)},class:"mb-0",$$slots:{summary:(it,ht)=>{var N=We(),L=c(N),W=c(L),et=c(W,!0);i(W);var F=k(W,4),S=c(F,!0);i(F),i(L);var U=k(L,4),lt=c(U);i(U),_e(2),i(N),dt((M,Z)=>{q(N,"style",`background-image: url(${M??""}); background-size: cover; background-position: center;`),at(et,s(P).drink),at(S,Z)},[()=>E(tt),()=>s(P).coffeeBeans.length>20?s(P).coffeeBeans.slice(0,15)+"...":s(P).coffeeBeans],Jt),B("click",lt,qt(()=>m(s(P).id))),B("keydown",lt,qt(M=>M.key==="Enter"&&m(s(P).id))),B("click",N,qt(()=>w(tt))),B("keydown",N,M=>M.key==="Enter"&&w(tt)),D(it,N)},content:(it,ht)=>{var N=Qe(),L=c(N),W=c(L),et=c(W),F=c(et),S=c(F,!0);i(F);var U=k(F,4),lt=c(U,!0);i(U);var M=k(U,4),Z=c(M,!0);i(M);var ft=k(M,4),bt=c(ft,!0);i(ft),i(et),i(W),i(L);var mt=k(L,2),$=c(mt),Q=c($);const g=Jt(()=>C(s(P)));Ve(Q,{get journeyData(){return s(g)},get drink(){return s(P).drink}}),i($),i(mt),i(N),dt(()=>{at(S,s(P).drink),at(lt,s(P).coffeeBeans),at(Z,s(P).grinder),at(bt,s(P).brewingDevice)}),D(it,N)}}})}),D(K,nt)},$$slots:{default:!0}})},G=T=>{var K=Ye();D(T,K)};yt(I,T=>{s(e).length>0?T(Y):T(G,!1)},!0)}D(v,n)};yt(O,v=>{s(d)?v(h):v(_,!1)})}i(y);var a=k(y,2),r=c(a),o=c(r);q(o,"src",f),i(r),i(a),i(b),D(l,b),At()}var He=V("<!> <!>",1);function vr(l){var t=He(),d=ct(t);Ce(d,{});var e=k(d,2);Ze(e,{}),D(l,t)}export{vr as component};
