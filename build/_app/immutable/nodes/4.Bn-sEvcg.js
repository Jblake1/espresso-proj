import{t as U,a as k,d as Ge,c as de}from"../chunks/DLZ7H7Fm.js";import{i as qe}from"../chunks/BMgznbf7.js";import{l as Le,ad as nt,aK as st,aL as it,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as be,ay as Ue,az as Ke,aA as pt,T as De,aQ as J,aw as gt,aR as ee,Z as Q,$ as X,a3 as P,aS as He,V as i,X as s,_ as se,g as l,U as ke,aT as M,R as D,Q as ie,N as yt,d as Je,Y as _t}from"../chunks/BOw1AeM4.js";import{a as ht,w as bt,e as Y,d as wt,r as xt,s as ne}from"../chunks/BReulVDI.js";import{l as $e,a as c,c as et,s as tt,i as ce,p as We,r as jt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as pe,s as L,c as Ce,h as Me,r as Qe,A as Ct}from"../chunks/Dntx3LEZ.js";import{s as Re}from"../chunks/Bfc47y5P.js";import{c as It,o as Dt}from"../chunks/BMBHoIzy.js";import"../chunks/DYsra39w.js";import{a as ge,p as kt,b as Tt}from"../chunks/DMKw4_NB.js";import{b as ze}from"../chunks/QFNNfdoR.js";const St=()=>performance.now(),te={tick:o=>requestAnimationFrame(o),now:()=>St(),tasks:new Set};function ot(){const o=te.now();te.tasks.forEach(e=>{e.c(o)||(te.tasks.delete(e),e.f())}),te.tasks.size!==0&&te.tick(ot)}function Pt(o){let e;return te.tasks.size===0&&te.tick(ot),{promise:new Promise(n=>{te.tasks.add(e={c:o,f:n})}),abort(){te.tasks.delete(e)}}}function Ie(o,e){bt(()=>{o.dispatchEvent(new CustomEvent(e))})}function Ot(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const e=o.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ye(o){const e={},n=o.split(";");for(const r of n){const[y,b]=r.split(":");if(!y||b===void 0)break;const j=Ot(y.trim());e[j]=b.trim()}return e}const Et=o=>o;function Ve(o,e,n,r){var y=(o&vt)!==0,b=(o&ut)!==0,j=y&&b,C=(o&ct)!==0,R=j?"both":y?"in":"out",I,p=e.inert,O=e.style.overflow,w,_;function d(){var g=pt,f=Le;Ue(null),Ke(null);try{return I??(I=n()(e,(r==null?void 0:r())??{},{direction:R}))}finally{Ue(g),Ke(f)}}var t={is_global:C,in(){var g;if(e.inert=p,!y){_==null||_.abort(),(g=_==null?void 0:_.reset)==null||g.call(_);return}b||w==null||w.abort(),Ie(e,"introstart"),w=Be(e,d(),_,1,()=>{Ie(e,"introend"),w==null||w.abort(),w=I=void 0,e.style.overflow=O})},out(g){if(!b){g==null||g(),I=void 0;return}e.inert=!0,Ie(e,"outrostart"),_=Be(e,d(),w,0,()=>{Ie(e,"outroend"),g==null||g()})},stop:()=>{w==null||w.abort(),_==null||_.abort()}},a=Le;if((a.transitions??(a.transitions=[])).push(t),y&&ht){var v=C;if(!v){for(var u=a.parent;u&&u.f&nt;)for(;(u=u.parent)&&!(u.f&st););v=!u||(u.f&it)!==0}v&&lt(()=>{dt(()=>t.in())})}}function Be(o,e,n,r,y){var b=r===1;if(ft(e)){var j,C=!1;return mt(()=>{if(!C){var a=e({direction:b?"in":"out"});j=Be(o,a,n,r,y)}}),{abort:()=>{C=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return y(),{abort:be,deactivate:be,reset:be,t:()=>r};const{delay:R=0,css:I,tick:p,easing:O=Et}=e;var w=[];if(b&&n===void 0&&(p&&p(0,1),I)){var _=Ye(I(0,1));w.push(_,_)}var d=()=>1-r,t=o.animate(w,{duration:R});return t.onfinish=()=>{var a=(n==null?void 0:n.t())??1-r;n==null||n.abort();var v=r-a,u=e.duration*Math.abs(v),g=[];if(u>0){var f=!1;if(I)for(var m=Math.ceil(u/16.666666666666668),E=0;E<=m;E+=1){var V=a+v*O(E/m),z=Ye(I(V,1-V));g.push(z),f||(f=z.overflow==="hidden")}f&&(o.style.overflow="hidden"),d=()=>{var T=t.currentTime;return a+v*O(T/u)},p&&Pt(()=>{if(t.playState!=="running")return!1;var T=d();return p(T,1-T),!0})}t=o.animate(g,{duration:u,fill:"forwards"}),t.onfinish=()=>{d=()=>r,p==null||p(r,1-r),y()}},{abort:()=>{t&&(t.cancel(),t.effect=null,t.onfinish=be)},deactivate:()=>{y=be},reset:()=>{r===0&&(p==null||p(1,0))},t:()=>d()}}function Nt(o){const e=o-1;return e*e*e+1}function Xe(o,{delay:e=0,duration:n=400,easing:r=Nt,axis:y="y"}={}){const b=getComputedStyle(o),j=+b.opacity,C=y==="y"?"height":"width",R=parseFloat(b[C]),I=y==="y"?["top","bottom"]:["left","right"],p=I.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),O=parseFloat(b[`padding${p[0]}`]),w=parseFloat(b[`padding${p[1]}`]),_=parseFloat(b[`margin${p[0]}`]),d=parseFloat(b[`margin${p[1]}`]),t=parseFloat(b[`border${p[0]}Width`]),a=parseFloat(b[`border${p[1]}Width`]);return{delay:e,duration:n,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*j};${C}: ${v*R}px;padding-${I[0]}: ${v*O}px;padding-${I[1]}: ${v*w}px;margin-${I[0]}: ${v*_}px;margin-${I[1]}: ${v*d}px;border-${I[0]}-width: ${v*t}px;border-${I[1]}-width: ${v*a}px;min-${C}: 0`}}var At=U('<div data-testid="accordion"><!></div>');function Ft(o,e){const n=$e(e,["children","$$slots","$$events","$$legacy"]);De(e,!1);const[r,y]=tt(),b=()=>et(kt,"$prefersReducedMotionStore",r),j=X();let C=c(e,"autocollapse",8,!1),R=c(e,"width",8,"w-full"),I=c(e,"spacing",8,"space-y-1"),p=c(e,"disabled",8,!1),O=c(e,"padding",8,"py-2 px-4"),w=c(e,"hover",8,"hover:bg-primary-hover-token"),_=c(e,"rounded",8,"rounded-container-token"),d=c(e,"caretOpen",8,"rotate-180"),t=c(e,"caretClosed",8,""),a=c(e,"regionControl",8,""),v=c(e,"regionPanel",8,"space-y-4"),u=c(e,"regionCaret",8,""),g=c(e,"transitions",24,()=>!b()),f=c(e,"transitionIn",8,Xe),m=c(e,"transitionInParams",24,()=>({duration:200})),E=c(e,"transitionOut",8,Xe),V=c(e,"transitionOutParams",24,()=>({duration:200}));const z=gt(null);J("active",z),J("autocollapse",C()),J("disabled",p()),J("padding",O()),J("hover",w()),J("rounded",_()),J("caretOpen",d()),J("caretClosed",t()),J("regionControl",a()),J("regionPanel",v()),J("regionCaret",u()),J("transitions",g()),J("transitionIn",f()),J("transitionInParams",m()),J("transitionOut",E()),J("transitionOutParams",V()),ee(()=>(P(R()),P(I()),P(n)),()=>{Q(j,`${R()} ${I()} ${n.class??""}`)}),He(),qe();var T=At(),q=i(T);ge(q,e,"default",{},null),s(T),se(()=>pe(T,`accordion ${l(j)??""}`)),k(o,T),ke(),y()}function Ze(o,e){const{transition:n,params:r,enabled:y}=e;return y?n(o,r):"duration"in r?n(o,{duration:0}):{duration:0}}var Jt=U('<div class="accordion-lead"><!></div>'),Mt=U("<div><!></div>"),Rt=U("<div><!></div>"),zt=U('<div role="region"><!></div>'),Bt=U('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function qt(o,e){const n=Tt(e),r=$e(e,["children","$$slots","$$events","$$legacy"]);De(e,!1);const[y,b]=tt(),j=()=>et(E(),"$active",y),C=X(),R=X(),I=X(),p=X(),O=X(),w=X(),_=X(),d=It();let t=c(e,"open",12,!1),a=c(e,"id",24,()=>String(Math.random()));const v="",u="text-start w-full flex items-center space-x-4",g="fill-current w-3 transition-transform duration-[200ms]",f="";let m=c(e,"autocollapse",24,()=>M("autocollapse")),E=c(e,"active",24,()=>M("active")),V=c(e,"disabled",24,()=>M("disabled")),z=c(e,"padding",24,()=>M("padding")),T=c(e,"hover",24,()=>M("hover")),q=c(e,"rounded",24,()=>M("rounded")),ye=c(e,"caretOpen",24,()=>M("caretOpen")),re=c(e,"caretClosed",24,()=>M("caretClosed")),ve=c(e,"regionControl",24,()=>M("regionControl")),ae=c(e,"regionPanel",24,()=>M("regionPanel")),N=c(e,"regionCaret",24,()=>M("regionCaret")),Z=c(e,"transitions",24,()=>M("transitions")),oe=c(e,"transitionIn",24,()=>M("transitionIn")),H=c(e,"transitionInParams",24,()=>M("transitionInParams")),ue=c(e,"transitionOut",24,()=>M("transitionOut")),B=c(e,"transitionOutParams",24,()=>M("transitionOutParams"));const F=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function K(h){m()===!0?E().set(a()):t(!t()),$(h)}function $(h){const x=m()?j()===a():t();d("toggle",{event:h,id:a(),panelId:`accordion-panel-${a()}`,open:x,autocollapse:m()})}m()&&t()&&K(),ee(()=>(P(t()),P(m())),()=>{t()&&m()&&K()}),ee(()=>(P(m()),j(),P(a()),P(t())),()=>{Q(C,m()?j()===a():t())}),ee(()=>P(r),()=>{Q(R,`${v} ${r.class??""}`)}),ee(()=>(P(z()),P(T()),P(q()),P(ve())),()=>{Q(I,`${u} ${z()} ${T()} ${q()} ${ve()}`)}),ee(()=>(l(C),P(ye()),P(re())),()=>{Q(p,l(C)?ye():re())}),ee(()=>(P(N()),l(p)),()=>{Q(O,`${g} ${N()} ${l(p)}`)}),ee(()=>P(N()),()=>{Q(w,`${g} ${N()}`)}),ee(()=>(P(z()),P(q()),P(ae())),()=>{Q(_,`${f} ${z()} ${q()} ${ae()}`)}),He(),qe();var G=Bt(),S=i(G),A=i(S);{var fe=h=>{var x=Jt(),le=i(x);ge(le,e,"lead",{},null),s(x),k(h,x)};ce(A,h=>{n.lead&&h(fe)})}var W=D(A,2),Te=i(W);ge(Te,e,"summary",{},h=>{var x=Ge("(summary)");k(h,x)}),s(W);var we=D(W,2);{var Se=h=>{var x=Mt(),le=i(x);{var Oe=me=>{var _e=de(),Ne=ie(_e);ge(Ne,e,"iconClosed",{},Ae=>{var he=de(),Fe=ie(he);Me(Fe,()=>F),k(Ae,he)}),k(me,_e)},Ee=me=>{var _e=de(),Ne=ie(_e);ge(Ne,e,"iconOpen",{},Ae=>{var he=de(),Fe=ie(he);Me(Fe,()=>F),k(Ae,he)}),k(me,_e)};ce(le,me=>{l(C)?me(Oe):me(Ee,!1)})}s(x),se(()=>pe(x,`accordion-summary-icons ${l(w)??""}`)),k(h,x)},xe=h=>{var x=Rt(),le=i(x);Me(le,()=>F),s(x),se(()=>pe(x,`accordion-summary-caret ${l(O)??""}`)),k(h,x)};ce(we,h=>{n.iconClosed||n.iconOpen?h(Se):h(xe,!1)})}s(S);var je=D(S,2);{var Pe=h=>{var x=zt(),le=i(x);ge(le,e,"content",{},Oe=>{var Ee=Ge("(content)");k(Oe,Ee)}),s(x),se(()=>{pe(x,`accordion-panel ${l(_)??""}`),L(x,"id",`accordion-panel-${a()??""}`),L(x,"aria-hidden",!l(C)),L(x,"aria-labelledby",a())}),Ve(1,x,()=>Ze,()=>({transition:oe(),params:H(),enabled:Z()})),Ve(2,x,()=>Ze,()=>({transition:ue(),params:B(),enabled:Z()})),k(h,x)};ce(je,h=>{l(C)&&h(Pe)})}s(G),se(()=>{pe(G,`accordion-item ${l(R)??""}`),pe(S,`accordion-control ${l(I)??""}`),L(S,"id",a()),L(S,"aria-expanded",l(C)),L(S,"aria-controls",`accordion-panel-${a()??""}`),S.disabled=V()}),Y("click",S,K),Y("click",S,function(h){Ce.call(this,e,h)}),Y("keydown",S,function(h){Ce.call(this,e,h)}),Y("keyup",S,function(h){Ce.call(this,e,h)}),Y("keypress",S,function(h){Ce.call(this,e,h)}),k(o,G),ke(),b()}const Gt=async(o,e,n,r)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:n.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");r(n.journeyData.journeyID)}catch(y){console.error("Error getting journey:",y),alert("An error occurred while posting the journey card.")}};var Lt=U('<div class="snap-start shrink-0 w-80 relative"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">×</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Shot Time</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Ut=U('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Kt(o,e){De(e,!0);let n=jt(e,["$$slots","$$events","$$legacy"]),r=We([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""}]),y=We({});const b=async(d,t)=>{y[d]||(y[d]=!0),await R(d)},j=async(d,t)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d})})).ok)throw new Error("Network response of journeyCard delete not ok");r[t].cardID="",r[t].datePosted="",r[t].iteration="",r[t].notes="",r[t].grindSetting="",r[t].shotTime="",r[t].journeyID="",e.journeyData.journeyID&&C(e.journeyData.journeyID)}catch(a){console.error("Error getting journey:",a),alert("An error occurred while deleting the journey card.")}},C=async d=>{try{console.log(`Sending journeyID: ${d}`);const t=await fetch(`/journeyCard?journeyID=${d}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const a=await t.json();console.log("JourneyCards:",a);const v=a.journeyCards;console.log("JourneyCardsData:",v);for(let u=0;u<r.length;u++)r[u]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:""};v.forEach((u,g)=>{g<r.length&&(r[g].cardID=u.id,r[g].datePosted=u.datePosted,r[g].iteration=u.iteration,r[g].notes=u.notes,r[g].grindSetting=u.grindSetting,r[g].shotTime=u.shotTime,r[g].journeyID=e.journeyData.journeyID)})}}catch(t){console.error("Error getting journey:",t),alert("An error occurred while getting the journey.")}},R=async d=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r[d].cardID,grindSetting:r[d].grindSetting,shotTime:r[d].shotTime,notes:r[d].notes})})).ok)throw new Error("Network response of journeyCard update not ok");y[d]=!1}catch(t){console.error("Error getting journey:",t),alert("An error occurred while updating card.")}};function I(d){if(!d)return"";const t=new Date(d);if(isNaN(t.getTime()))return d;const a=(t.getMonth()+1).toString().padStart(2,"0"),v=t.getDate().toString().padStart(2,"0"),u=t.getFullYear().toString().slice(-2);return`${a}/${v}/${u}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&C(e.journeyData.journeyID)});var p=Ut(),O=i(p),w=i(O);w.__click=[Gt,n,e,C],s(O);var _=D(O,2);rt(_,21,()=>r,at,(d,t,a)=>{var v=de(),u=ie(v);{var g=f=>{var m=Lt(),E=i(m);E.__click=()=>j(l(t).cardID,a);var V=D(E,2),z=i(V),T=i(z),q=i(T),ye=i(q);s(q);var re=D(q,2),ve=i(re,!0);s(re),s(T),s(z);var ae=D(z,2),N=i(ae);L(N,"for",`grindSetting${a+1}`);var Z=D(N,2),oe=D(i(Z),2);Qe(oe),L(oe,"id",`grindSetting${a+1}`),s(Z),s(ae);var H=D(ae,2),ue=i(H);L(ue,"for",`shotTime${a+1}`);var B=D(ue,2),F=D(i(B),2);Qe(F),L(F,"id",`shotTime${a+1}`),s(B),s(H);var K=D(H,2),$=i(K);L($,"for",`notes${a+1}`);var G=D($,2),S=D(i(G),2);xt(S),L(S,"id",`notes${a+1}`),s(G),s(K),s(V),s(m),se(A=>{ne(ye,`Iteration #${l(t).iteration??""}`),ne(ve,A)},[()=>I(l(t).datePosted)]),Y("blur",oe,()=>b(a)),ze(oe,()=>l(t).grindSetting,A=>l(t).grindSetting=A),Y("blur",F,()=>b(a)),ze(F,()=>l(t).shotTime,A=>l(t).shotTime=A),Y("blur",S,()=>b(a)),ze(S,()=>l(t).notes,A=>l(t).notes=A),k(f,m)};ce(u,f=>{l(t).cardID!==""&&f(g)})}k(d,v)}),s(_),s(p),k(o,p),ke()}wt(["click"]);var Wt=U('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Qt=U('<button type="button" class="flex items-center space-x-3 w-full text-left h-10 p-0"><div class="py-0 px-3 rounded-md flex items-center space-x-3 flex-grow"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p> <div class="h-3 border-r border-slate-300"></div> <p class="whitespace-nowrap truncate bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm"> </p></div> <div><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div> <div class="h-full w-12 max-w-[48px] flex-shrink-0"></div></button>'),Yt=U('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Vt=U('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Xt=U('<div class="flex flex-row w-full justify-end"><div class="flex flex-col items-start w-3/4"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-9gsuif"></div></div></div>');function Zt(o,e){De(e,!1);let n=X(!0),r=X([]);const y=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],b="/images/espresso_machine.png";let j=X(-1);function C(f){Q(j,l(j)===f?-1:f)}function R(f){return y[f%y.length]}function I(f){return{journeyID:f.id}}const p=async f=>{try{const m=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f})});if(m.ok){const E=await m.json();console.log("Journey deleted:",E),O()}else{const E=await m.json();console.error("Failed to delete journey:",E.message)}}catch(m){console.error("Error deleting journey:",m)}},O=async()=>{Q(n,!0);try{const f=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(f.ok){const m=await f.json();console.log("Archive:",m),Q(r,m.journeys||[]),console.log("journeys:",l(r))}else{const m=await f.json();console.error("Failed to fetch journeys:",m.message)}}catch(f){console.error("Error fetching journeys:",f)}finally{Q(n,!1)}};Dt(()=>{O()}),qe();var w=Xt(),_=i(w),d=i(_);{var t=f=>{var m=Wt();k(f,m)},a=f=>{var m=de(),E=ie(m);{var V=T=>{Ft(T,{class:"w-full",children:(q,ye)=>{var re=de(),ve=ie(re);rt(ve,1,()=>l(r),at,(ae,N,Z)=>{const oe=Je(()=>l(j)===Z);qt(ae,{get open(){return l(oe)},$$slots:{summary:(H,ue)=>{var B=Qt(),F=i(B),K=i(F),$=i(K,!0);s(K);var G=D(K,4),S=i(G,!0);s(G),s(F);var A=D(F,2),fe=i(A);s(A),_t(2),s(B),se(W=>{L(B,"style",`background-image: url(${W??""}); background-size: cover; background-position: center;`),ne($,l(N).drink),ne(S,l(N).coffeeBeans)},[()=>R(Z)],Je),Y("click",fe,Re(()=>p(l(N).id))),Y("keydown",fe,Re(W=>W.key==="Enter"&&p(l(N).id))),Y("click",B,Re(()=>C(Z))),Y("keydown",B,W=>W.key==="Enter"&&C(Z)),k(H,B)},content:(H,ue)=>{var B=Yt(),F=i(B),K=i(F),$=i(K),G=i($),S=i(G,!0);s(G);var A=D(G,4),fe=i(A,!0);s(A);var W=D(A,4),Te=i(W,!0);s(W);var we=D(W,4),Se=i(we,!0);s(we),s($),s(K),s(F);var xe=D(F,2),je=i(xe),Pe=i(je);const h=Je(()=>I(l(N)));Kt(Pe,{get journeyData(){return l(h)}}),s(je),s(xe),s(B),se(()=>{ne(S,l(N).drink),ne(fe,l(N).coffeeBeans),ne(Te,l(N).grinder),ne(Se,l(N).brewingDevice)}),k(H,B)}}})}),k(q,re)},$$slots:{default:!0}})},z=T=>{var q=Vt();k(T,q)};ce(E,T=>{l(r).length>0?T(V):T(z,!1)},!0)}k(f,m)};ce(d,f=>{l(n)?f(t):f(a,!1)})}s(_);var v=D(_,2),u=i(v),g=i(u);L(g,"src",b),s(u),s(v),s(w),k(o,w),ke()}var Ht=U("<!> <!>",1);function vr(o){var e=Ht(),n=ie(e);Ct(n,{});var r=D(n,2);Zt(r,{}),k(o,e)}export{vr as component};
