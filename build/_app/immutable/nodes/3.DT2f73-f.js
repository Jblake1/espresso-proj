import{t as q,a as S,d as et,c as xe}from"../chunks/C3hLw0IL.js";import{i as dt}from"../chunks/DNeJU8Y2.js";import{l as tt,ah as xt,aM as jt,aN as Ct,G as kt,K as It,aO as St,aP as Dt,aQ as Pt,aR as Tt,D as Et,O as Be,aw as rt,ax as at,ay as Ot,Y as Ve,aS as M,aK as At,aI as de,Q as X,a9 as he,a6 as T,aJ as ct,T as i,V as n,a0 as be,g as s,_ as qe,aT as Ft,aU as G,U as v,X as we,a3 as Bt,W as ze,Z as zt,a7 as Xe}from"../chunks/CnD81IVH.js";import{a as Nt,w as Jt,e as U,d as vt,r as Mt,s as ce}from"../chunks/BZ88qr3N.js";import{l as ut,b as p,a as je,p as Ne,r as Gt}from"../chunks/CEGQyTs3.js";import{e as ft,i as pt}from"../chunks/B1lN9cLK.js";import{b as Pe,s as R,c as Me,h as Ze,r as Ke,A as Rt}from"../chunks/DSlhgKuo.js";import{b as ot}from"../chunks/DAFnirU5.js";import"../chunks/CarXI23m.js";import{a as Te,b as Vt,c as qt}from"../chunks/CjmohcWS.js";import{a as mt,s as gt}from"../chunks/C42sHZ21.js";import{b as Ge}from"../chunks/CoylPWrs.js";const Lt=()=>performance.now(),ve={tick:l=>requestAnimationFrame(l),now:()=>Lt(),tasks:new Set};function _t(){const l=ve.now();ve.tasks.forEach(e=>{e.c(l)||(ve.tasks.delete(e),e.f())}),ve.tasks.size!==0&&ve.tick(_t)}function Ut(l){let e;return ve.tasks.size===0&&ve.tick(_t),{promise:new Promise(d=>{ve.tasks.add(e={c:l,f:d})}),abort(){ve.tasks.delete(e)}}}function Re(l,e){Jt(()=>{l.dispatchEvent(new CustomEvent(e))})}function Wt(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const e=l.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function nt(l){const e={},d=l.split(";");for(const t of d){const[g,u]=t.split(":");if(!g||u===void 0)break;const j=Wt(g.trim());e[j]=u.trim()}return e}const Xt=l=>l;function it(l,e,d,t){var g=(l&Dt)!==0,u=(l&Pt)!==0,j=g&&u,x=(l&St)!==0,E=j?"both":g?"in":"out",C,_=e.inert,V=e.style.overflow,k,h;function O(){var o=Ot,D=tt;rt(null),at(null);try{return C??(C=d()(e,(t==null?void 0:t())??{},{direction:E}))}finally{rt(o),at(D)}}var b={is_global:x,in(){var o;if(e.inert=_,!g){h==null||h.abort(),(o=h==null?void 0:h.reset)==null||o.call(h);return}u||k==null||k.abort(),Re(e,"introstart"),k=Qe(e,O(),h,1,()=>{Re(e,"introend"),k==null||k.abort(),k=C=void 0,e.style.overflow=V})},out(o){if(!u){o==null||o(),C=void 0;return}e.inert=!0,Re(e,"outrostart"),h=Qe(e,O(),k,0,()=>{Re(e,"outroend"),o==null||o()})},stop:()=>{k==null||k.abort(),h==null||h.abort()}},y=tt;if((y.transitions??(y.transitions=[])).push(b),g&&Nt){var a=x;if(!a){for(var r=y.parent;r&&r.f&xt;)for(;(r=r.parent)&&!(r.f&jt););a=!r||(r.f&Ct)!==0}a&&kt(()=>{It(()=>b.in())})}}function Qe(l,e,d,t,g){var u=t===1;if(Tt(e)){var j,x=!1;return Et(()=>{if(!x){var y=e({direction:u?"in":"out"});j=Qe(l,y,d,t,g)}}),{abort:()=>{x=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(d==null||d.deactivate(),!(e!=null&&e.duration))return g(),{abort:Be,deactivate:Be,reset:Be,t:()=>t};const{delay:E=0,css:C,tick:_,easing:V=Xt}=e;var k=[];if(u&&d===void 0&&(_&&_(0,1),C)){var h=nt(C(0,1));k.push(h,h)}var O=()=>1-t,b=l.animate(k,{duration:E});return b.onfinish=()=>{var y=(d==null?void 0:d.t())??1-t;d==null||d.abort();var a=t-y,r=e.duration*Math.abs(a),o=[];if(r>0){var D=!1;if(C)for(var f=Math.ceil(r/16.666666666666668),I=0;I<=f;I+=1){var L=y+a*V(I/f),z=nt(C(L,1-L));o.push(z),D||(D=z.overflow==="hidden")}D&&(l.style.overflow="hidden"),O=()=>{var F=b.currentTime;return y+a*V(F/r)},_&&Ut(()=>{if(b.playState!=="running")return!1;var F=O();return _(F,1-F),!0})}b=l.animate(o,{duration:r,fill:"forwards"}),b.onfinish=()=>{O=()=>t,_==null||_(t,1-t),g()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Be)},deactivate:()=>{g=Be},reset:()=>{t===0&&(_==null||_(1,0))},t:()=>O()}}function Zt(l){const e=l-1;return e*e*e+1}function st(l,{delay:e=0,duration:d=400,easing:t=Zt,axis:g="y"}={}){const u=getComputedStyle(l),j=+u.opacity,x=g==="y"?"height":"width",E=parseFloat(u[x]),C=g==="y"?["top","bottom"]:["left","right"],_=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),V=parseFloat(u[`padding${_[0]}`]),k=parseFloat(u[`padding${_[1]}`]),h=parseFloat(u[`margin${_[0]}`]),O=parseFloat(u[`margin${_[1]}`]),b=parseFloat(u[`border${_[0]}Width`]),y=parseFloat(u[`border${_[1]}Width`]);return{delay:e,duration:d,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*j};${x}: ${a*E}px;padding-${C[0]}: ${a*V}px;padding-${C[1]}: ${a*k}px;margin-${C[0]}: ${a*h}px;margin-${C[1]}: ${a*O}px;border-${C[0]}-width: ${a*b}px;border-${C[1]}-width: ${a*y}px;min-${x}: 0`}}var Kt=q('<div data-testid="accordion"><!></div>');function Qt(l,e){const d=ut(e,["children","$$slots","$$events","$$legacy"]);Ve(e,!1);const[t,g]=gt(),u=()=>mt(Vt,"$prefersReducedMotionStore",t),j=he();let x=p(e,"autocollapse",8,!1),E=p(e,"width",8,"w-full"),C=p(e,"spacing",8,"space-y-1"),_=p(e,"disabled",8,!1),V=p(e,"padding",8,"py-2 px-4"),k=p(e,"hover",8,"hover:bg-primary-hover-token"),h=p(e,"rounded",8,"rounded-container-token"),O=p(e,"caretOpen",8,"rotate-180"),b=p(e,"caretClosed",8,""),y=p(e,"regionControl",8,""),a=p(e,"regionPanel",8,"space-y-4"),r=p(e,"regionCaret",8,""),o=p(e,"transitions",24,()=>!u()),D=p(e,"transitionIn",8,st),f=p(e,"transitionInParams",24,()=>({duration:200})),I=p(e,"transitionOut",8,st),L=p(e,"transitionOutParams",24,()=>({duration:200}));const z=At(null);M("active",z),M("autocollapse",x()),M("disabled",_()),M("padding",V()),M("hover",k()),M("rounded",h()),M("caretOpen",O()),M("caretClosed",b()),M("regionControl",y()),M("regionPanel",a()),M("regionCaret",r()),M("transitions",o()),M("transitionIn",D()),M("transitionInParams",f()),M("transitionOut",I()),M("transitionOutParams",L()),de(()=>(T(E()),T(C()),T(d)),()=>{X(j,`${E()} ${C()} ${d.class??""}`)}),ct(),dt();var F=Kt(),W=i(F);Te(W,e,"default",{},null),n(F),be(()=>Pe(F,`accordion ${s(j)??""}`)),S(l,F),qe(),g()}function lt(l,e){const{transition:d,params:t,enabled:g}=e;return g?d(l,t):"duration"in t?d(l,{duration:0}):{duration:0}}var Yt=q('<div class="accordion-lead"><!></div>'),Ht=q("<div><!></div>"),$t=q("<div><!></div>"),er=q('<div role="region"><!></div>'),tr=q('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function rr(l,e){const d=qt(e),t=ut(e,["children","$$slots","$$events","$$legacy"]);Ve(e,!1);const[g,u]=gt(),j=()=>mt(I(),"$active",g),x=he(),E=he(),C=he(),_=he(),V=he(),k=he(),h=he(),O=Ft();let b=p(e,"open",12,!1),y=p(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",D="";let f=p(e,"autocollapse",24,()=>G("autocollapse")),I=p(e,"active",24,()=>G("active")),L=p(e,"disabled",24,()=>G("disabled")),z=p(e,"padding",24,()=>G("padding")),F=p(e,"hover",24,()=>G("hover")),W=p(e,"rounded",24,()=>G("rounded")),Q=p(e,"caretOpen",24,()=>G("caretOpen")),oe=p(e,"caretClosed",24,()=>G("caretClosed")),Y=p(e,"regionControl",24,()=>G("regionControl")),ue=p(e,"regionPanel",24,()=>G("regionPanel")),K=p(e,"regionCaret",24,()=>G("regionCaret")),fe=p(e,"transitions",24,()=>G("transitions")),ne=p(e,"transitionIn",24,()=>G("transitionIn")),pe=p(e,"transitionInParams",24,()=>G("transitionInParams")),me=p(e,"transitionOut",24,()=>G("transitionOut")),H=p(e,"transitionOutParams",24,()=>G("transitionOutParams"));const $=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function ee(m){f()===!0?I().set(y()):b(!b()),Ce(m)}function Ce(m){const w=f()?j()===y():b();O("toggle",{event:m,id:y(),panelId:`accordion-panel-${y()}`,open:w,autocollapse:f()})}f()&&b()&&ee(),de(()=>(T(b()),T(f())),()=>{b()&&f()&&ee()}),de(()=>(T(f()),j(),T(y()),T(b())),()=>{X(x,f()?j()===y():b())}),de(()=>T(t),()=>{X(E,`${a} ${t.class??""}`)}),de(()=>(T(z()),T(F()),T(W()),T(Y())),()=>{X(C,`${r} ${z()} ${F()} ${W()} ${Y()}`)}),de(()=>(s(x),T(Q()),T(oe())),()=>{X(_,s(x)?Q():oe())}),de(()=>(T(K()),s(_)),()=>{X(V,`${o} ${K()} ${s(_)}`)}),de(()=>T(K()),()=>{X(k,`${o} ${K()}`)}),de(()=>(T(z()),T(W()),T(ue())),()=>{X(h,`${D} ${z()} ${W()} ${ue()}`)}),ct(),dt();var Z=tr(),A=i(Z),te=i(A);{var ke=m=>{var w=Yt(),ae=i(w);Te(ae,e,"lead",{},null),n(w),S(m,w)};je(te,m=>{d.lead&&m(ke)})}var ge=v(te,2),c=i(ge);Te(c,e,"summary",{},m=>{var w=et("(summary)");S(m,w)}),n(ge);var P=v(ge,2);{var re=m=>{var w=Ht(),ae=i(w);{var Ee=N=>{var _e=xe(),Ae=we(_e);Te(Ae,e,"iconClosed",{},se=>{var ye=xe(),J=we(ye);Ze(J,()=>$),S(se,ye)}),S(N,_e)},Oe=N=>{var _e=xe(),Ae=we(_e);Te(Ae,e,"iconOpen",{},se=>{var ye=xe(),J=we(ye);Ze(J,()=>$),S(se,ye)}),S(N,_e)};je(ae,N=>{s(x)?N(Ee):N(Oe,!1)})}n(w),be(()=>Pe(w,`accordion-summary-icons ${s(k)??""}`)),S(m,w)},Ie=m=>{var w=$t(),ae=i(w);Ze(ae,()=>$),n(w),be(()=>Pe(w,`accordion-summary-caret ${s(V)??""}`)),S(m,w)};je(P,m=>{d.iconClosed||d.iconOpen?m(re):m(Ie,!1)})}n(A);var ie=v(A,2);{var B=m=>{var w=er(),ae=i(w);Te(ae,e,"content",{},Ee=>{var Oe=et("(content)");S(Ee,Oe)}),n(w),be(()=>{Pe(w,`accordion-panel ${s(h)??""}`),R(w,"id",`accordion-panel-${y()??""}`),R(w,"aria-hidden",!s(x)),R(w,"aria-labelledby",y())}),it(1,w,()=>lt,()=>({transition:ne(),params:pe(),enabled:fe()})),it(2,w,()=>lt,()=>({transition:me(),params:H(),enabled:fe()})),S(m,w)};je(ie,m=>{s(x)&&m(B)})}n(Z),be(()=>{Pe(Z,`accordion-item ${s(E)??""}`),Pe(A,`accordion-control ${s(C)??""}`),R(A,"id",y()),R(A,"aria-expanded",s(x)),R(A,"aria-controls",`accordion-panel-${y()??""}`),A.disabled=L()}),U("click",A,ee),U("click",A,function(m){Me.call(this,e,m)}),U("keydown",A,function(m){Me.call(this,e,m)}),U("keyup",A,function(m){Me.call(this,e,m)}),U("keypress",A,function(m){Me.call(this,e,m)}),S(l,Z),qe(),u()}const ar=async(l,e,d,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(d.journeyData.journeyID)}catch(g){console.error("Error getting journey:",g),alert("An error occurred while posting the journey card.")}};var or=q('<div class="snap-start shrink-0 relative sm:w-64 md:w-70 lg:w-80"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),nr=q('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function ir(l,e){Ve(e,!0);let d=Gt(e,["$$slots","$$events","$$legacy"]),t=Ne([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),g=Ne({}),u=Ne({});const j=async(a,r)=>{g[a]||(g[a]=!0),await V(a)},x=(a,r)=>{u[a]||(u[a]={}),u[a][r]=t[a][r],t[a][r]=""},E=(a,r)=>{var f;const o=t[a][r],D=(f=u[a])==null?void 0:f[r];(o===""||o===null)&&D!==void 0&&(t[a][r]=D),j(a),u[a]&&(delete u[a][r],Object.keys(u[a]).length===0&&delete u[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&_(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},_=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const D=o.journeyCards;console.log("JourneyCardsData:",D);for(let f=0;f<t.length;f++)t[f]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};D.forEach((f,I)=>{I<t.length&&(t[I].cardID=f.id,t[I].datePosted=f.datePosted,t[I].iteration=f.iteration,t[I].notes=f.notes,t[I].grindSetting=f.grindSetting,t[I].shotTime=f.shotTime,t[I].journeyID=e.journeyData.journeyID,t[I].grindAmount=f.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},V=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");g[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function k(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),D=r.getDate().toString().padStart(2,"0"),f=r.getFullYear().toString().slice(-2);return`${o}/${D}/${f}`}Bt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&_(e.journeyData.journeyID)});var h=nr(),O=i(h),b=i(O);b.__click=[ar,d,e,_],n(O);var y=v(O,2);ft(y,21,()=>t,pt,(a,r,o)=>{var D=xe(),f=we(D);{var I=L=>{var z=or(),F=i(z);F.__click=()=>C(s(r).cardID,o);var W=v(F,2),Q=i(W),oe=i(Q),Y=i(oe),ue=i(Y);n(Y);var K=v(Y,2),fe=i(K,!0);n(K),n(oe),n(Q);var ne=v(Q,2),pe=i(ne);R(pe,"for",`grindSetting${o+1}`);var me=v(pe,2),H=v(i(me),2);Ke(H),R(H,"id",`grindSetting${o+1}`),n(me),n(ne);var $=v(ne,2),ee=i($);R(ee,"for",`grindAmount${o+1}`);var Ce=v(ee,2),Z=v(i(Ce),2);Ke(Z),R(Z,"id",`grindAmount${o+1}`),n(Ce),n($);var A=v($,2),te=i(A);R(te,"for",`shotTime${o+1}`);var ke=i(te,!0);n(te);var ge=v(te,2),c=v(i(ge),2);Ke(c),R(c,"id",`shotTime${o+1}`),n(ge),n(A);var P=v(A,2),re=i(P);R(re,"for",`notes${o+1}`);var Ie=v(re,2),ie=v(i(Ie),2);Mt(ie),R(ie,"id",`notes${o+1}`),n(Ie),n(P),n(W),n(z),be((B,m)=>{ce(ue,`Iteration #${s(r).iteration??""}`),ce(fe,B),ce(ke,m)},[()=>k(s(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),U("focus",H,()=>x(o,"grindSetting")),U("blur",H,()=>E(o,"grindSetting")),Ge(H,()=>s(r).grindSetting,B=>s(r).grindSetting=B),U("focus",Z,()=>x(o,"grindAmount")),U("blur",Z,()=>E(o,"grindAmount")),Ge(Z,()=>s(r).grindAmount,B=>s(r).grindAmount=B),U("focus",c,()=>x(o,"shotTime")),U("blur",c,()=>E(o,"shotTime")),Ge(c,()=>s(r).shotTime,B=>s(r).shotTime=B),U("focus",ie,()=>x(o,"notes")),U("blur",ie,()=>E(o,"notes")),Ge(ie,()=>s(r).notes,B=>s(r).notes=B),S(L,z)};je(f,L=>{s(r).cardID!==""&&L(I)})}S(a,D)}),n(y),n(h),S(l,h),qe()}vt(["click"]);var sr=q('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),lr=(l,e,d)=>{l.stopPropagation(),e(s(d).id)},dr=(l,e,d)=>{l.key==="Enter"&&(l.stopPropagation(),e(s(d).id))},cr=q('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),vr=q('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-4rem)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div></div>'),ur=q('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),fr=q('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),pr=q('<div class="flex-col w-full"><div class="flex justify-center items-center w-full p-0"><form class="toDoForm"><div class="flex gap-4 py-4"><p class="label-wrapper">Filter by:</p> <select id="drink" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a drink</option><option>Espresso</option><option>Coffee</option></select> <select id="grinder" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a grinder</option><option>DF 54</option><option>DF 64</option><option>Baratza Encore</option><option>Baratza Encore ESP</option><option>Baratza Sette 270</option><option>Baratza Virtuoso</option><option>Breville Smart Grinder Pro</option><option>Eureka Mignon Specialita</option><option>1Zpresso JX Pro</option></select></div></form></div> <div class="flex flex-row w-full justify-start overflow-hidden"><div class="flex flex-col items-start w-full overflow-hidden mx-auto md:w-3/4 md:mx-0"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div></div>');function mr(l,e){Ve(e,!0);let d=ze(!0),t=ze(""),g=ze(""),u=!1;typeof window<"u"&&(u=window.innerWidth<768,window.addEventListener("resize",()=>{u=window.innerWidth<768}));let j=ze(Ne([])),x=Xe(()=>s(j).filter(c=>(s(t)?c.drink===s(t):!0)&&(s(g)?c.grinder===s(g):!0)));const E=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],C="/images/espresso_machine.png";let _=ze(-1);function V(c){return E[c%E.length]}function k(c){return{journeyID:c.id}}function h(c,P){return c?c.length>P?c.substring(0,P)+"...":c:""}function O(c){return u?h(c,16):h(c,40)}const b=async c=>{try{const P=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});if(P.ok){const re=await P.json();console.log("Journey deleted:",re),y()}else{const re=await P.json();console.error("Failed to delete journey:",re.message)}}catch(P){console.error("Error deleting journey:",P)}},y=async()=>{X(d,!0);try{const c=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(c.ok){const P=await c.json();console.log("Archive:",P),X(j,Ne(P.journeys||[])),console.log("journeys:",s(j))}else{const P=await c.json();console.error("Failed to fetch journeys:",P.message)}}catch(c){console.error("Error fetching journeys:",c)}finally{X(d,!1)}},a=c=>{c.preventDefault()};zt(()=>{y()});var r=pr(),o=i(r),D=i(o),f=i(D),I=v(i(f),2),L=i(I);L.value=((L.__value="")==null,"");var z=v(L);z.value=(z.__value="Espresso")==null?"":"Espresso";var F=v(z);F.value=(F.__value="Coffee")==null?"":"Coffee",n(I);var W=v(I,2),Q=i(W);Q.value=((Q.__value="")==null,"");var oe=v(Q);oe.value=(oe.__value="DF 54")==null?"":"DF 54";var Y=v(oe);Y.value=(Y.__value="DF 64")==null?"":"DF 64";var ue=v(Y);ue.value=(ue.__value="Baratza Encore")==null?"":"Baratza Encore";var K=v(ue);K.value=(K.__value="Baratza Encore ESP")==null?"":"Baratza Encore ESP";var fe=v(K);fe.value=(fe.__value="Baratza Sette 270")==null?"":"Baratza Sette 270";var ne=v(fe);ne.value=(ne.__value="Baratza Virtuoso")==null?"":"Baratza Virtuoso";var pe=v(ne);pe.value=(pe.__value="Breville Smart Grinder Pro")==null?"":"Breville Smart Grinder Pro";var me=v(pe);me.value=(me.__value="Eureka Mignon Specialita")==null?"":"Eureka Mignon Specialita";var H=v(me);H.value=(H.__value="1Zpresso JX Pro")==null?"":"1Zpresso JX Pro",n(W),n(f),n(D),n(o);var $=v(o,2),ee=i($),Ce=i(ee);{var Z=c=>{var P=sr();S(c,P)},A=c=>{var P=xe(),re=we(P);{var Ie=B=>{Qt(B,{class:"w-full overflow-hidden",children:(m,w)=>{var ae=xe(),Ee=we(ae);ft(Ee,17,()=>s(x),pt,(Oe,N,_e)=>{const Ae=Xe(()=>s(_)===_e);rr(Oe,{get open(){return s(Ae)},class:"mb-0",children:(se,ye)=>{var J=cr(),le=i(J);le.__click=[lr,b,N],le.__keydown=[dr,b,N],n(J),S(se,J)},$$slots:{default:!0,summary:(se,ye)=>{var J=vr(),le=i(J),Se=i(le),Je=i(Se,!0);n(Se);var De=v(Se,4),Le=i(De,!0);n(De),n(le),n(J),be((Fe,Ue)=>{R(J,"style",`background-image: url(${Fe??""}); background-size: cover; background-position: center;`),ce(Je,s(N).drink),ce(Le,Ue)},[()=>V(_e),()=>O(s(N).coffeeBeans)]),S(se,J)},content:(se,ye)=>{var J=ur(),le=i(J),Se=i(le),Je=i(Se),De=i(Je),Le=i(De,!0);n(De);var Fe=v(De,4),Ue=i(Fe,!0);n(Fe);var We=v(Fe,4),yt=i(We,!0);n(We);var Ye=v(We,4),ht=i(Ye,!0);n(Ye),n(Je),n(Se),n(le);var He=v(le,2),$e=i(He),bt=i($e);const wt=Xe(()=>k(s(N)));ir(bt,{get journeyData(){return s(wt)},get drink(){return s(N).drink}}),n($e),n(He),n(J),be(()=>{ce(Le,s(N).drink),ce(Ue,s(N).coffeeBeans),ce(yt,s(N).grinder),ce(ht,s(N).brewingDevice)}),S(se,J)}}})}),S(m,ae)},$$slots:{default:!0}})},ie=B=>{var m=fr();S(B,m)};je(re,B=>{s(x).length>0?B(Ie):B(ie,!1)},!0)}S(c,P)};je(Ce,c=>{s(d)?c(Z):c(A,!1)})}n(ee);var te=v(ee,2),ke=i(te),ge=i(ke);R(ge,"src",C),n(ke),n(te),n($),n(r),U("submit",D,a),ot(I,()=>s(t),c=>X(t,c)),ot(W,()=>s(g),c=>X(g,c)),S(l,r),qe()}vt(["click","keydown"]);var gr=q("<!> <!>",1);function Pr(l){var e=gr(),d=we(e);Rt(d,{});var t=v(d,2);mr(t,{}),S(l,e)}export{Pr as component};
