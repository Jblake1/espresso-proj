import{t as U,a as D,d as Ue,c as pe}from"../chunks/DLZ7H7Fm.js";import{i as Le}from"../chunks/BMgznbf7.js";import{l as We,ad as nt,aK as it,aL as st,G as lt,K as dt,aM as ct,aN as vt,aO as ut,aP as ft,D as mt,ag as Ie,ay as Ve,az as Ke,aA as gt,T as Ae,aQ as B,aw as pt,aR as ie,Z as H,$,a3 as A,aS as He,V as c,X as i,_ as de,g as s,U as Oe,aT as R,R as k,Q as ce,N as yt,d as ze}from"../chunks/BOw1AeM4.js";import{a as ht,w as _t,e as z,d as bt,r as wt,s as se}from"../chunks/BReulVDI.js";import{l as $e,a as v,c as et,s as tt,i as ye,p as Be,r as jt}from"../chunks/Db0Jo1o8.js";import{e as rt,i as at}from"../chunks/CZS3sv3T.js";import{b as je,s as q,c as De,h as Re,r as qe,A as xt}from"../chunks/CiierrSk.js";import{s as Te}from"../chunks/Bfc47y5P.js";import{c as Ct,o as kt}from"../chunks/BMBHoIzy.js";import"../chunks/aKC0AmP7.js";import{a as xe,p as It,b as Dt}from"../chunks/DMKw4_NB.js";import{b as Se}from"../chunks/QFNNfdoR.js";const Tt=()=>performance.now(),le={tick:l=>requestAnimationFrame(l),now:()=>Tt(),tasks:new Set};function ot(){const l=le.now();le.tasks.forEach(e=>{e.c(l)||(le.tasks.delete(e),e.f())}),le.tasks.size!==0&&le.tick(ot)}function St(l){let e;return le.tasks.size===0&&le.tick(ot),{promise:new Promise(d=>{le.tasks.add(e={c:l,f:d})}),abort(){le.tasks.delete(e)}}}function Pe(l,e){_t(()=>{l.dispatchEvent(new CustomEvent(e))})}function Pt(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const e=l.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function Qe(l){const e={},d=l.split(";");for(const t of d){const[m,u]=t.split(":");if(!m||u===void 0)break;const I=Pt(m.trim());e[I]=u.trim()}return e}const At=l=>l;function Xe(l,e,d,t){var m=(l&vt)!==0,u=(l&ut)!==0,I=m&&u,x=(l&ct)!==0,F=I?"both":m?"in":"out",C,p=e.inert,G=e.style.overflow,b,h;function P(){var o=gt,T=We;Ve(null),Ke(null);try{return C??(C=d()(e,(t==null?void 0:t())??{},{direction:F}))}finally{Ve(o),Ke(T)}}var y={is_global:x,in(){var o;if(e.inert=p,!m){h==null||h.abort(),(o=h==null?void 0:h.reset)==null||o.call(h);return}u||b==null||b.abort(),Pe(e,"introstart"),b=Ge(e,P(),h,1,()=>{Pe(e,"introend"),b==null||b.abort(),b=C=void 0,e.style.overflow=G})},out(o){if(!u){o==null||o(),C=void 0;return}e.inert=!0,Pe(e,"outrostart"),h=Ge(e,P(),b,0,()=>{Pe(e,"outroend"),o==null||o()})},stop:()=>{b==null||b.abort(),h==null||h.abort()}},_=We;if((_.transitions??(_.transitions=[])).push(y),m&&ht){var a=x;if(!a){for(var r=_.parent;r&&r.f&nt;)for(;(r=r.parent)&&!(r.f&it););a=!r||(r.f&st)!==0}a&&lt(()=>{dt(()=>y.in())})}}function Ge(l,e,d,t,m){var u=t===1;if(ft(e)){var I,x=!1;return mt(()=>{if(!x){var _=e({direction:u?"in":"out"});I=Ge(l,_,d,t,m)}}),{abort:()=>{x=!0,I==null||I.abort()},deactivate:()=>I.deactivate(),reset:()=>I.reset(),t:()=>I.t()}}if(d==null||d.deactivate(),!(e!=null&&e.duration))return m(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>t};const{delay:F=0,css:C,tick:p,easing:G=At}=e;var b=[];if(u&&d===void 0&&(p&&p(0,1),C)){var h=Qe(C(0,1));b.push(h,h)}var P=()=>1-t,y=l.animate(b,{duration:F});return y.onfinish=()=>{var _=(d==null?void 0:d.t())??1-t;d==null||d.abort();var a=t-_,r=e.duration*Math.abs(a),o=[];if(r>0){var T=!1;if(C)for(var f=Math.ceil(r/16.666666666666668),n=0;n<=f;n+=1){var w=_+a*G(n/f),O=Qe(C(w,1-w));o.push(O),T||(T=O.overflow==="hidden")}T&&(l.style.overflow="hidden"),P=()=>{var M=y.currentTime;return _+a*G(M/r)},p&&St(()=>{if(y.playState!=="running")return!1;var M=P();return p(M,1-M),!0})}y=l.animate(o,{duration:r,fill:"forwards"}),y.onfinish=()=>{P=()=>t,p==null||p(t,1-t),m()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=Ie)},deactivate:()=>{m=Ie},reset:()=>{t===0&&(p==null||p(1,0))},t:()=>P()}}function Ot(l){const e=l-1;return e*e*e+1}function Ye(l,{delay:e=0,duration:d=400,easing:t=Ot,axis:m="y"}={}){const u=getComputedStyle(l),I=+u.opacity,x=m==="y"?"height":"width",F=parseFloat(u[x]),C=m==="y"?["top","bottom"]:["left","right"],p=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),G=parseFloat(u[`padding${p[0]}`]),b=parseFloat(u[`padding${p[1]}`]),h=parseFloat(u[`margin${p[0]}`]),P=parseFloat(u[`margin${p[1]}`]),y=parseFloat(u[`border${p[0]}Width`]),_=parseFloat(u[`border${p[1]}Width`]);return{delay:e,duration:d,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*I};${x}: ${a*F}px;padding-${C[0]}: ${a*G}px;padding-${C[1]}: ${a*b}px;margin-${C[0]}: ${a*h}px;margin-${C[1]}: ${a*P}px;border-${C[0]}-width: ${a*y}px;border-${C[1]}-width: ${a*_}px;min-${x}: 0`}}var Et=U('<div data-testid="accordion"><!></div>');function Nt(l,e){const d=$e(e,["children","$$slots","$$events","$$legacy"]);Ae(e,!1);const[t,m]=tt(),u=()=>et(It,"$prefersReducedMotionStore",t),I=$();let x=v(e,"autocollapse",8,!1),F=v(e,"width",8,"w-full"),C=v(e,"spacing",8,"space-y-1"),p=v(e,"disabled",8,!1),G=v(e,"padding",8,"py-2 px-4"),b=v(e,"hover",8,"hover:bg-primary-hover-token"),h=v(e,"rounded",8,"rounded-container-token"),P=v(e,"caretOpen",8,"rotate-180"),y=v(e,"caretClosed",8,""),_=v(e,"regionControl",8,""),a=v(e,"regionPanel",8,"space-y-4"),r=v(e,"regionCaret",8,""),o=v(e,"transitions",24,()=>!u()),T=v(e,"transitionIn",8,Ye),f=v(e,"transitionInParams",24,()=>({duration:200})),n=v(e,"transitionOut",8,Ye),w=v(e,"transitionOutParams",24,()=>({duration:200}));const O=pt(null);B("active",O),B("autocollapse",x()),B("disabled",p()),B("padding",G()),B("hover",b()),B("rounded",h()),B("caretOpen",P()),B("caretClosed",y()),B("regionControl",_()),B("regionPanel",a()),B("regionCaret",r()),B("transitions",o()),B("transitionIn",T()),B("transitionInParams",f()),B("transitionOut",n()),B("transitionOutParams",w()),ie(()=>(A(F()),A(C()),A(d)),()=>{H(I,`${F()} ${C()} ${d.class??""}`)}),He(),Le();var M=Et(),Z=c(M);xe(Z,e,"default",{},null),i(M),de(()=>je(M,`accordion ${s(I)??""}`)),D(l,M),Oe(),m()}function Ze(l,e){const{transition:d,params:t,enabled:m}=e;return m?d(l,t):"duration"in t?d(l,{duration:0}):{duration:0}}var Ft=U('<div class="accordion-lead"><!></div>'),Jt=U("<div><!></div>"),Mt=U("<div><!></div>"),zt=U('<div role="region"><!></div>'),Bt=U('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function Rt(l,e){const d=Dt(e),t=$e(e,["children","$$slots","$$events","$$legacy"]);Ae(e,!1);const[m,u]=tt(),I=()=>et(n(),"$active",m),x=$(),F=$(),C=$(),p=$(),G=$(),b=$(),h=$(),P=Ct();let y=v(e,"open",12,!1),_=v(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",T="";let f=v(e,"autocollapse",24,()=>R("autocollapse")),n=v(e,"active",24,()=>R("active")),w=v(e,"disabled",24,()=>R("disabled")),O=v(e,"padding",24,()=>R("padding")),M=v(e,"hover",24,()=>R("hover")),Z=v(e,"rounded",24,()=>R("rounded")),K=v(e,"caretOpen",24,()=>R("caretOpen")),re=v(e,"caretClosed",24,()=>R("caretClosed")),ve=v(e,"regionControl",24,()=>R("regionControl")),ue=v(e,"regionPanel",24,()=>R("regionPanel")),ae=v(e,"regionCaret",24,()=>R("regionCaret")),he=v(e,"transitions",24,()=>R("transitions")),J=v(e,"transitionIn",24,()=>R("transitionIn")),fe=v(e,"transitionInParams",24,()=>R("transitionInParams")),_e=v(e,"transitionOut",24,()=>R("transitionOut")),Q=v(e,"transitionOutParams",24,()=>R("transitionOutParams"));const ee=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function E(g){f()===!0?n().set(_()):y(!y()),L(g)}function L(g){const j=f()?I()===_():y();P("toggle",{event:g,id:_(),panelId:`accordion-panel-${_()}`,open:j,autocollapse:f()})}f()&&y()&&E(),ie(()=>(A(y()),A(f())),()=>{y()&&f()&&E()}),ie(()=>(A(f()),I(),A(_()),A(y())),()=>{H(x,f()?I()===_():y())}),ie(()=>A(t),()=>{H(F,`${a} ${t.class??""}`)}),ie(()=>(A(O()),A(M()),A(Z()),A(ve())),()=>{H(C,`${r} ${O()} ${M()} ${Z()} ${ve()}`)}),ie(()=>(s(x),A(K()),A(re())),()=>{H(p,s(x)?K():re())}),ie(()=>(A(ae()),s(p)),()=>{H(G,`${o} ${ae()} ${s(p)}`)}),ie(()=>A(ae()),()=>{H(b,`${o} ${ae()}`)}),ie(()=>(A(O()),A(Z()),A(ue())),()=>{H(h,`${T} ${O()} ${Z()} ${ue()}`)}),He(),Le();var N=Bt(),S=c(N),W=c(S);{var me=g=>{var j=Ft(),ne=c(j);xe(ne,e,"lead",{},null),i(j),D(g,j)};ye(W,g=>{d.lead&&g(me)})}var X=k(W,2),Y=c(X);xe(Y,e,"summary",{},g=>{var j=Ue("(summary)");D(g,j)}),i(X);var te=k(X,2);{var be=g=>{var j=Jt(),ne=c(j);{var Ee=we=>{var Ce=pe(),Fe=ce(Ce);xe(Fe,e,"iconClosed",{},Je=>{var ke=pe(),Me=ce(ke);Re(Me,()=>ee),D(Je,ke)}),D(we,Ce)},Ne=we=>{var Ce=pe(),Fe=ce(Ce);xe(Fe,e,"iconOpen",{},Je=>{var ke=pe(),Me=ce(ke);Re(Me,()=>ee),D(Je,ke)}),D(we,Ce)};ye(ne,we=>{s(x)?we(Ee):we(Ne,!1)})}i(j),de(()=>je(j,`accordion-summary-icons ${s(b)??""}`)),D(g,j)},ge=g=>{var j=Mt(),ne=c(j);Re(ne,()=>ee),i(j),de(()=>je(j,`accordion-summary-caret ${s(G)??""}`)),D(g,j)};ye(te,g=>{d.iconClosed||d.iconOpen?g(be):g(ge,!1)})}i(S);var oe=k(S,2);{var V=g=>{var j=zt(),ne=c(j);xe(ne,e,"content",{},Ee=>{var Ne=Ue("(content)");D(Ee,Ne)}),i(j),de(()=>{je(j,`accordion-panel ${s(h)??""}`),q(j,"id",`accordion-panel-${_()??""}`),q(j,"aria-hidden",!s(x)),q(j,"aria-labelledby",_())}),Xe(1,j,()=>Ze,()=>({transition:J(),params:fe(),enabled:he()})),Xe(2,j,()=>Ze,()=>({transition:_e(),params:Q(),enabled:he()})),D(g,j)};ye(oe,g=>{s(x)&&g(V)})}i(N),de(()=>{je(N,`accordion-item ${s(F)??""}`),je(S,`accordion-control ${s(C)??""}`),q(S,"id",_()),q(S,"aria-expanded",s(x)),q(S,"aria-controls",`accordion-panel-${_()??""}`),S.disabled=w()}),z("click",S,E),z("click",S,function(g){De.call(this,e,g)}),z("keydown",S,function(g){De.call(this,e,g)}),z("keyup",S,function(g){De.call(this,e,g)}),z("keypress",S,function(g){De.call(this,e,g)}),D(l,N),Oe(),u()}const qt=async(l,e,d,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(d.journeyData.journeyID)}catch(m){console.error("Error getting journey:",m),alert("An error occurred while posting the journey card.")}};var Gt=U('<div class="snap-start shrink-0 relative sm:w-64 md:w-76 lg:w-96"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),Lt=U('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function Ut(l,e){Ae(e,!0);let d=jt(e,["$$slots","$$events","$$legacy"]),t=Be([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),m=Be({}),u=Be({});const I=async(a,r)=>{m[a]||(m[a]=!0),await G(a)},x=(a,r)=>{u[a]||(u[a]={}),u[a][r]=t[a][r],t[a][r]=""},F=(a,r)=>{var f;const o=t[a][r],T=(f=u[a])==null?void 0:f[r];(o===""||o===null)&&T!==void 0&&(t[a][r]=T),I(a),u[a]&&(delete u[a][r],Object.keys(u[a]).length===0&&delete u[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&p(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},p=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const T=o.journeyCards;console.log("JourneyCardsData:",T);for(let f=0;f<t.length;f++)t[f]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};T.forEach((f,n)=>{n<t.length&&(t[n].cardID=f.id,t[n].datePosted=f.datePosted,t[n].iteration=f.iteration,t[n].notes=f.notes,t[n].grindSetting=f.grindSetting,t[n].shotTime=f.shotTime,t[n].journeyID=e.journeyData.journeyID,t[n].grindAmount=f.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},G=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");m[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function b(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),T=r.getDate().toString().padStart(2,"0"),f=r.getFullYear().toString().slice(-2);return`${o}/${T}/${f}`}yt(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&p(e.journeyData.journeyID)});var h=Lt(),P=c(h),y=c(P);y.__click=[qt,d,e,p],i(P);var _=k(P,2);rt(_,21,()=>t,at,(a,r,o)=>{var T=pe(),f=ce(T);{var n=w=>{var O=Gt(),M=c(O);M.__click=()=>C(s(r).cardID,o);var Z=k(M,2),K=c(Z),re=c(K),ve=c(re),ue=c(ve);i(ve);var ae=k(ve,2),he=c(ae,!0);i(ae),i(re),i(K);var J=k(K,2),fe=c(J);q(fe,"for",`grindSetting${o+1}`);var _e=k(fe,2),Q=k(c(_e),2);qe(Q),q(Q,"id",`grindSetting${o+1}`),i(_e),i(J);var ee=k(J,2),E=c(ee);q(E,"for",`grindAmount${o+1}`);var L=k(E,2),N=k(c(L),2);qe(N),q(N,"id",`grindAmount${o+1}`),i(L),i(ee);var S=k(ee,2),W=c(S);q(W,"for",`shotTime${o+1}`);var me=c(W,!0);i(W);var X=k(W,2),Y=k(c(X),2);qe(Y),q(Y,"id",`shotTime${o+1}`),i(X),i(S);var te=k(S,2),be=c(te);q(be,"for",`notes${o+1}`);var ge=k(be,2),oe=k(c(ge),2);wt(oe),q(oe,"id",`notes${o+1}`),i(ge),i(te),i(Z),i(O),de((V,g)=>{se(ue,`Iteration #${s(r).iteration??""}`),se(he,V),se(me,g)},[()=>b(s(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),z("focus",Q,()=>x(o,"grindSetting")),z("blur",Q,()=>F(o,"grindSetting")),Se(Q,()=>s(r).grindSetting,V=>s(r).grindSetting=V),z("focus",N,()=>x(o,"grindAmount")),z("blur",N,()=>F(o,"grindAmount")),Se(N,()=>s(r).grindAmount,V=>s(r).grindAmount=V),z("focus",Y,()=>x(o,"shotTime")),z("blur",Y,()=>F(o,"shotTime")),Se(Y,()=>s(r).shotTime,V=>s(r).shotTime=V),z("focus",oe,()=>x(o,"notes")),z("blur",oe,()=>F(o,"notes")),Se(oe,()=>s(r).notes,V=>s(r).notes=V),D(w,O)};ye(f,w=>{s(r).cardID!==""&&w(n)})}D(a,T)}),i(_),i(h),D(l,h),Oe()}bt(["click"]);var Wt=U('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),Vt=U('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Kt=U('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-4rem)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div> <span class="btn-icon variant-filled-primary cursor-pointer flex-shrink-0" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),Qt=U('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),Xt=U('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),Yt=U('<div class="flex flex-row w-full justify-start overflow-hidden"><div class="flex flex-col items-start w-full overflow-hidden mx-auto md:w-3/4 md:mx-0"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div>');function Zt(l,e){Ae(e,!1);let d=$(!0),t=!1;typeof window<"u"&&(t=window.innerWidth<768,window.addEventListener("resize",()=>{t=window.innerWidth<768}));let m=$([]);const u=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],I="/images/espresso_machine.png";let x=$(-1);function F(n){return u[n%u.length]}function C(n){return{journeyID:n.id}}function p(n,w){return n?n.length>w?n.substring(0,w)+"...":n:""}function G(n){return t?p(n,16):p(n,40)}const b=async n=>{try{const w=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});if(w.ok){const O=await w.json();console.log("Journey deleted:",O),h()}else{const O=await w.json();console.error("Failed to delete journey:",O.message)}}catch(w){console.error("Error deleting journey:",w)}},h=async()=>{H(d,!0);try{const n=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(n.ok){const w=await n.json();console.log("Archive:",w),H(m,w.journeys||[]),console.log("journeys:",s(m))}else{const w=await n.json();console.error("Failed to fetch journeys:",w.message)}}catch(n){console.error("Error fetching journeys:",n)}finally{H(d,!1)}};kt(()=>{h()}),Le();var P=Yt(),y=c(P),_=c(y);{var a=n=>{var w=Wt();D(n,w)},r=n=>{var w=pe(),O=ce(w);{var M=K=>{Nt(K,{class:"w-full overflow-hidden",children:(re,ve)=>{var ue=pe(),ae=ce(ue);rt(ae,1,()=>s(m),at,(he,J,fe)=>{const _e=ze(()=>s(x)===fe);Rt(he,{get open(){return s(_e)},class:"mb-0",children:(Q,ee)=>{var E=Vt(),L=c(E);i(E),z("click",L,Te(()=>b(s(J).id))),z("keydown",L,Te(N=>N.key==="Enter"&&b(s(J).id))),D(Q,E)},$$slots:{default:!0,summary:(Q,ee)=>{var E=Kt(),L=c(E),N=c(L),S=c(N,!0);i(N);var W=k(N,4),me=c(W,!0);i(W),i(L);var X=k(L,2);i(E),de((Y,te)=>{q(E,"style",`background-image: url(${Y??""}); background-size: cover; background-position: center;`),se(S,s(J).drink),se(me,te)},[()=>F(fe),()=>G(s(J).coffeeBeans)],ze),z("click",X,Te(()=>b(s(J).id))),z("keydown",X,Te(Y=>Y.key==="Enter"&&b(s(J).id))),D(Q,E)},content:(Q,ee)=>{var E=Qt(),L=c(E),N=c(L),S=c(N),W=c(S),me=c(W,!0);i(W);var X=k(W,4),Y=c(X,!0);i(X);var te=k(X,4),be=c(te,!0);i(te);var ge=k(te,4),oe=c(ge,!0);i(ge),i(S),i(N),i(L);var V=k(L,2),g=c(V),j=c(g);const ne=ze(()=>C(s(J)));Ut(j,{get journeyData(){return s(ne)},get drink(){return s(J).drink}}),i(g),i(V),i(E),de(()=>{se(me,s(J).drink),se(Y,s(J).coffeeBeans),se(be,s(J).grinder),se(oe,s(J).brewingDevice)}),D(Q,E)}}})}),D(re,ue)},$$slots:{default:!0}})},Z=K=>{var re=Xt();D(K,re)};ye(O,K=>{s(m).length>0?K(M):K(Z,!1)},!0)}D(n,w)};ye(_,n=>{s(d)?n(a):n(r,!1)})}i(y);var o=k(y,2),T=c(o),f=c(T);q(f,"src",I),i(T),i(o),i(P),D(l,P),Oe()}var Ht=U("<!> <!>",1);function vr(l){var e=Ht(),d=ce(e);xt(d,{});var t=k(d,2);Zt(t,{}),D(l,e)}export{vr as component};
