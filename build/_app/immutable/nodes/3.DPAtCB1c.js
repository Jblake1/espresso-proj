import{t as L,a as I,d as et,c as xe}from"../chunks/W4TM1z4w.js";import{i as dt}from"../chunks/CzBPpHCt.js";import{K as tt,ad as xt,aK as jt,aL as Ct,e as kt,u as St,aM as It,aN as Dt,aO as Pt,aP as Tt,q as Et,ag as Be,ay as rt,az as at,aA as At,p as qe,aQ as M,aw as Ot,aR as de,t as K,a5 as he,a2 as T,aS as ct,k as i,n,v as be,g as s,j as Le,aT as R,s as v,f as we,a as Ft,m as ze,a3 as Ke}from"../chunks/CZLb4j7O.js";import{a as Bt,w as zt,e as W,d as vt,r as Nt,s as ce}from"../chunks/DdtZw0U8.js";import{l as ut,b as p,c as ft,s as pt,i as je,p as Ne,r as Jt}from"../chunks/B0R6SzIc.js";import{e as mt,i as gt,b as ot}from"../chunks/DFVYAH_N.js";import{b as Pe,s as G,c as Me,h as Xe,r as Ze,A as Mt}from"../chunks/BHMBetCE.js";import{c as Rt,o as Gt}from"../chunks/B49uhO74.js";import"../chunks/BHRGGgVD.js";import{a as Te,p as qt,b as Lt}from"../chunks/TVdZ1f0f.js";import{b as Re}from"../chunks/CcHsVTgv.js";const Vt=()=>performance.now(),ve={tick:l=>requestAnimationFrame(l),now:()=>Vt(),tasks:new Set};function _t(){const l=ve.now();ve.tasks.forEach(e=>{e.c(l)||(ve.tasks.delete(e),e.f())}),ve.tasks.size!==0&&ve.tick(_t)}function Wt(l){let e;return ve.tasks.size===0&&ve.tick(_t),{promise:new Promise(d=>{ve.tasks.add(e={c:l,f:d})}),abort(){ve.tasks.delete(e)}}}function Ge(l,e){zt(()=>{l.dispatchEvent(new CustomEvent(e))})}function Ut(l){if(l==="float")return"cssFloat";if(l==="offset")return"cssOffset";if(l.startsWith("--"))return l;const e=l.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(d=>d[0].toUpperCase()+d.slice(1)).join("")}function nt(l){const e={},d=l.split(";");for(const t of d){const[g,u]=t.split(":");if(!g||u===void 0)break;const j=Ut(g.trim());e[j]=u.trim()}return e}const Kt=l=>l;function it(l,e,d,t){var g=(l&Dt)!==0,u=(l&Pt)!==0,j=g&&u,x=(l&It)!==0,E=j?"both":g?"in":"out",C,_=e.inert,q=e.style.overflow,k,h;function A(){var o=At,D=tt;rt(null),at(null);try{return C??(C=d()(e,(t==null?void 0:t())??{},{direction:E}))}finally{rt(o),at(D)}}var b={is_global:x,in(){var o;if(e.inert=_,!g){h==null||h.abort(),(o=h==null?void 0:h.reset)==null||o.call(h);return}u||k==null||k.abort(),Ge(e,"introstart"),k=Qe(e,A(),h,1,()=>{Ge(e,"introend"),k==null||k.abort(),k=C=void 0,e.style.overflow=q})},out(o){if(!u){o==null||o(),C=void 0;return}e.inert=!0,Ge(e,"outrostart"),h=Qe(e,A(),k,0,()=>{Ge(e,"outroend"),o==null||o()})},stop:()=>{k==null||k.abort(),h==null||h.abort()}},y=tt;if((y.transitions??(y.transitions=[])).push(b),g&&Bt){var a=x;if(!a){for(var r=y.parent;r&&r.f&xt;)for(;(r=r.parent)&&!(r.f&jt););a=!r||(r.f&Ct)!==0}a&&kt(()=>{St(()=>b.in())})}}function Qe(l,e,d,t,g){var u=t===1;if(Tt(e)){var j,x=!1;return Et(()=>{if(!x){var y=e({direction:u?"in":"out"});j=Qe(l,y,d,t,g)}}),{abort:()=>{x=!0,j==null||j.abort()},deactivate:()=>j.deactivate(),reset:()=>j.reset(),t:()=>j.t()}}if(d==null||d.deactivate(),!(e!=null&&e.duration))return g(),{abort:Be,deactivate:Be,reset:Be,t:()=>t};const{delay:E=0,css:C,tick:_,easing:q=Kt}=e;var k=[];if(u&&d===void 0&&(_&&_(0,1),C)){var h=nt(C(0,1));k.push(h,h)}var A=()=>1-t,b=l.animate(k,{duration:E});return b.onfinish=()=>{var y=(d==null?void 0:d.t())??1-t;d==null||d.abort();var a=t-y,r=e.duration*Math.abs(a),o=[];if(r>0){var D=!1;if(C)for(var f=Math.ceil(r/16.666666666666668),S=0;S<=f;S+=1){var V=y+a*q(S/f),z=nt(C(V,1-V));o.push(z),D||(D=z.overflow==="hidden")}D&&(l.style.overflow="hidden"),A=()=>{var F=b.currentTime;return y+a*q(F/r)},_&&Wt(()=>{if(b.playState!=="running")return!1;var F=A();return _(F,1-F),!0})}b=l.animate(o,{duration:r,fill:"forwards"}),b.onfinish=()=>{A=()=>t,_==null||_(t,1-t),g()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=Be)},deactivate:()=>{g=Be},reset:()=>{t===0&&(_==null||_(1,0))},t:()=>A()}}function Xt(l){const e=l-1;return e*e*e+1}function st(l,{delay:e=0,duration:d=400,easing:t=Xt,axis:g="y"}={}){const u=getComputedStyle(l),j=+u.opacity,x=g==="y"?"height":"width",E=parseFloat(u[x]),C=g==="y"?["top","bottom"]:["left","right"],_=C.map(a=>`${a[0].toUpperCase()}${a.slice(1)}`),q=parseFloat(u[`padding${_[0]}`]),k=parseFloat(u[`padding${_[1]}`]),h=parseFloat(u[`margin${_[0]}`]),A=parseFloat(u[`margin${_[1]}`]),b=parseFloat(u[`border${_[0]}Width`]),y=parseFloat(u[`border${_[1]}Width`]);return{delay:e,duration:d,easing:t,css:a=>`overflow: hidden;opacity: ${Math.min(a*20,1)*j};${x}: ${a*E}px;padding-${C[0]}: ${a*q}px;padding-${C[1]}: ${a*k}px;margin-${C[0]}: ${a*h}px;margin-${C[1]}: ${a*A}px;border-${C[0]}-width: ${a*b}px;border-${C[1]}-width: ${a*y}px;min-${x}: 0`}}var Zt=L('<div data-testid="accordion"><!></div>');function Qt(l,e){const d=ut(e,["children","$$slots","$$events","$$legacy"]);qe(e,!1);const[t,g]=pt(),u=()=>ft(qt,"$prefersReducedMotionStore",t),j=he();let x=p(e,"autocollapse",8,!1),E=p(e,"width",8,"w-full"),C=p(e,"spacing",8,"space-y-1"),_=p(e,"disabled",8,!1),q=p(e,"padding",8,"py-2 px-4"),k=p(e,"hover",8,"hover:bg-primary-hover-token"),h=p(e,"rounded",8,"rounded-container-token"),A=p(e,"caretOpen",8,"rotate-180"),b=p(e,"caretClosed",8,""),y=p(e,"regionControl",8,""),a=p(e,"regionPanel",8,"space-y-4"),r=p(e,"regionCaret",8,""),o=p(e,"transitions",24,()=>!u()),D=p(e,"transitionIn",8,st),f=p(e,"transitionInParams",24,()=>({duration:200})),S=p(e,"transitionOut",8,st),V=p(e,"transitionOutParams",24,()=>({duration:200}));const z=Ot(null);M("active",z),M("autocollapse",x()),M("disabled",_()),M("padding",q()),M("hover",k()),M("rounded",h()),M("caretOpen",A()),M("caretClosed",b()),M("regionControl",y()),M("regionPanel",a()),M("regionCaret",r()),M("transitions",o()),M("transitionIn",D()),M("transitionInParams",f()),M("transitionOut",S()),M("transitionOutParams",V()),de(()=>(T(E()),T(C()),T(d)),()=>{K(j,`${E()} ${C()} ${d.class??""}`)}),ct(),dt();var F=Zt(),U=i(F);Te(U,e,"default",{},null),n(F),be(()=>Pe(F,`accordion ${s(j)??""}`)),I(l,F),Le(),g()}function lt(l,e){const{transition:d,params:t,enabled:g}=e;return g?d(l,t):"duration"in t?d(l,{duration:0}):{duration:0}}var Yt=L('<div class="accordion-lead"><!></div>'),Ht=L("<div><!></div>"),$t=L("<div><!></div>"),er=L('<div role="region"><!></div>'),tr=L('<div data-testid="accordion-item"><button type="button"><!> <div class="accordion-summary flex-1"><!></div> <!></button> <!></div>');function rr(l,e){const d=Lt(e),t=ut(e,["children","$$slots","$$events","$$legacy"]);qe(e,!1);const[g,u]=pt(),j=()=>ft(S(),"$active",g),x=he(),E=he(),C=he(),_=he(),q=he(),k=he(),h=he(),A=Rt();let b=p(e,"open",12,!1),y=p(e,"id",24,()=>String(Math.random()));const a="",r="text-start w-full flex items-center space-x-4",o="fill-current w-3 transition-transform duration-[200ms]",D="";let f=p(e,"autocollapse",24,()=>R("autocollapse")),S=p(e,"active",24,()=>R("active")),V=p(e,"disabled",24,()=>R("disabled")),z=p(e,"padding",24,()=>R("padding")),F=p(e,"hover",24,()=>R("hover")),U=p(e,"rounded",24,()=>R("rounded")),Q=p(e,"caretOpen",24,()=>R("caretOpen")),oe=p(e,"caretClosed",24,()=>R("caretClosed")),Y=p(e,"regionControl",24,()=>R("regionControl")),ue=p(e,"regionPanel",24,()=>R("regionPanel")),Z=p(e,"regionCaret",24,()=>R("regionCaret")),fe=p(e,"transitions",24,()=>R("transitions")),ne=p(e,"transitionIn",24,()=>R("transitionIn")),pe=p(e,"transitionInParams",24,()=>R("transitionInParams")),me=p(e,"transitionOut",24,()=>R("transitionOut")),H=p(e,"transitionOutParams",24,()=>R("transitionOutParams"));const $=`
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
			<path d="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z" />
		</svg>`;function ee(m){f()===!0?S().set(y()):b(!b()),Ce(m)}function Ce(m){const w=f()?j()===y():b();A("toggle",{event:m,id:y(),panelId:`accordion-panel-${y()}`,open:w,autocollapse:f()})}f()&&b()&&ee(),de(()=>(T(b()),T(f())),()=>{b()&&f()&&ee()}),de(()=>(T(f()),j(),T(y()),T(b())),()=>{K(x,f()?j()===y():b())}),de(()=>T(t),()=>{K(E,`${a} ${t.class??""}`)}),de(()=>(T(z()),T(F()),T(U()),T(Y())),()=>{K(C,`${r} ${z()} ${F()} ${U()} ${Y()}`)}),de(()=>(s(x),T(Q()),T(oe())),()=>{K(_,s(x)?Q():oe())}),de(()=>(T(Z()),s(_)),()=>{K(q,`${o} ${Z()} ${s(_)}`)}),de(()=>T(Z()),()=>{K(k,`${o} ${Z()}`)}),de(()=>(T(z()),T(U()),T(ue())),()=>{K(h,`${D} ${z()} ${U()} ${ue()}`)}),ct(),dt();var X=tr(),O=i(X),te=i(O);{var ke=m=>{var w=Yt(),ae=i(w);Te(ae,e,"lead",{},null),n(w),I(m,w)};je(te,m=>{d.lead&&m(ke)})}var ge=v(te,2),c=i(ge);Te(c,e,"summary",{},m=>{var w=et("(summary)");I(m,w)}),n(ge);var P=v(ge,2);{var re=m=>{var w=Ht(),ae=i(w);{var Ee=N=>{var _e=xe(),Oe=we(_e);Te(Oe,e,"iconClosed",{},se=>{var ye=xe(),J=we(ye);Xe(J,()=>$),I(se,ye)}),I(N,_e)},Ae=N=>{var _e=xe(),Oe=we(_e);Te(Oe,e,"iconOpen",{},se=>{var ye=xe(),J=we(ye);Xe(J,()=>$),I(se,ye)}),I(N,_e)};je(ae,N=>{s(x)?N(Ee):N(Ae,!1)})}n(w),be(()=>Pe(w,`accordion-summary-icons ${s(k)??""}`)),I(m,w)},Se=m=>{var w=$t(),ae=i(w);Xe(ae,()=>$),n(w),be(()=>Pe(w,`accordion-summary-caret ${s(q)??""}`)),I(m,w)};je(P,m=>{d.iconClosed||d.iconOpen?m(re):m(Se,!1)})}n(O);var ie=v(O,2);{var B=m=>{var w=er(),ae=i(w);Te(ae,e,"content",{},Ee=>{var Ae=et("(content)");I(Ee,Ae)}),n(w),be(()=>{Pe(w,`accordion-panel ${s(h)??""}`),G(w,"id",`accordion-panel-${y()??""}`),G(w,"aria-hidden",!s(x)),G(w,"aria-labelledby",y())}),it(1,w,()=>lt,()=>({transition:ne(),params:pe(),enabled:fe()})),it(2,w,()=>lt,()=>({transition:me(),params:H(),enabled:fe()})),I(m,w)};je(ie,m=>{s(x)&&m(B)})}n(X),be(()=>{Pe(X,`accordion-item ${s(E)??""}`),Pe(O,`accordion-control ${s(C)??""}`),G(O,"id",y()),G(O,"aria-expanded",s(x)),G(O,"aria-controls",`accordion-panel-${y()??""}`),O.disabled=V()}),W("click",O,ee),W("click",O,function(m){Me.call(this,e,m)}),W("keydown",O,function(m){Me.call(this,e,m)}),W("keyup",O,function(m){Me.call(this,e,m)}),W("keypress",O,function(m){Me.call(this,e,m)}),I(l,X),Le(),u()}const ar=async(l,e,d,t)=>{try{if(!(await fetch("/journeyCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({journeyID:d.journeyData.journeyID})})).ok)throw new Error("Network response of journeyCard not ok");t(d.journeyData.journeyID)}catch(g){console.error("Error getting journey:",g),alert("An error occurred while posting the journey card.")}};var or=L('<div class="snap-start shrink-0 relative sm:w-64 md:w-70 lg:w-80"><button type="button" class="absolute -top-1 right-0 px-1.5 py-0.5 bg-red-500 hover:bg-red-600 text-white rounded-tl-md rounded-tr-lg rounded-bl-md flex items-center justify-center shadow-md z-10" title="Delete card"><span class="text-xs font-bold">Ã—</span></button> <form class="border border-primary-400 rounded-lg shadow-sm bg-tertiary-900 p-4 w-full"><div class="mb-4"><div class="flex items-center justify-between"><p class="text-sm font-medium text-tertiary-500"> </p> <p class="text-sm font-medium text-tertiary-500"> </p></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Setting</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1">Grind Amount</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-3"><label class="block text-sm font-medium text-tertiary-200 mb-1"> </label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <input type="text" required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500"></div></div> <div class="mb-4 relative"><label class="block text-sm font-medium text-tertiary-200 mb-1">Notes</label> <div class="relative"><div class="absolute top-0 left-0 h-[1px] w-1/3 bg-primary-200"></div> <textarea required class="w-full p-2 border-0 rounded-md text-tertiary-500 bg-tertiary-900 focus:ring-primary-500 focus:border-primary-500 min-h-[80px]"></textarea></div></div></form></div>'),nr=L('<div class="flex flex-row gap-2 w-full"><div class="flex items-center self-stretch"><button class="rounded-full h-12 w-12 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold shadow"><span class="text-xl">+</span></button></div> <div class="flex overflow-x-auto snap-x snap-mandatory pb-4 gap-4 w-full"></div></div>');function ir(l,e){qe(e,!0);let d=Jt(e,["$$slots","$$events","$$legacy"]),t=Ne([{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""},{datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""}]),g=Ne({}),u=Ne({});const j=async(a,r)=>{g[a]||(g[a]=!0),await q(a)},x=(a,r)=>{u[a]||(u[a]={}),u[a][r]=t[a][r],t[a][r]=""},E=(a,r)=>{var f;const o=t[a][r],D=(f=u[a])==null?void 0:f[r];(o===""||o===null)&&D!==void 0&&(t[a][r]=D),j(a),u[a]&&(delete u[a][r],Object.keys(u[a]).length===0&&delete u[a])},C=async(a,r)=>{try{if(!(await fetch("/journeyCardDelete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).ok)throw new Error("Network response of journeyCard delete not ok");t[r].cardID="",t[r].datePosted="",t[r].iteration="",t[r].notes="",t[r].grindSetting="",t[r].shotTime="",t[r].journeyID="",t[r].grindAmount="",e.journeyData.journeyID&&_(e.journeyData.journeyID)}catch(o){console.error("Error getting journey:",o),alert("An error occurred while deleting the journey card.")}},_=async a=>{try{console.log(`Sending journeyID: ${a}`);const r=await fetch(`/journeyCard?journeyID=${a}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const o=await r.json();console.log("JourneyCards:",o);const D=o.journeyCards;console.log("JourneyCardsData:",D);for(let f=0;f<t.length;f++)t[f]={datePosted:"",notes:"",grindSetting:"",shotTime:"",cardID:"",journeyID:"",iteration:"",grindAmount:""};D.forEach((f,S)=>{S<t.length&&(t[S].cardID=f.id,t[S].datePosted=f.datePosted,t[S].iteration=f.iteration,t[S].notes=f.notes,t[S].grindSetting=f.grindSetting,t[S].shotTime=f.shotTime,t[S].journeyID=e.journeyData.journeyID,t[S].grindAmount=f.grindAmount)})}}catch(r){console.error("Error getting journey:",r),alert("An error occurred while getting the journey.")}},q=async a=>{try{if(!(await fetch("/journeyCardEdit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t[a].cardID,grindSetting:t[a].grindSetting,shotTime:t[a].shotTime,notes:t[a].notes,grindAmount:t[a].grindAmount})})).ok)throw new Error("Network response of journeyCard update not ok");g[a]=!1}catch(r){console.error("Error getting journey:",r),alert("An error occurred while updating card.")}};function k(a){if(!a)return"";const r=new Date(a);if(isNaN(r.getTime()))return a;const o=(r.getMonth()+1).toString().padStart(2,"0"),D=r.getDate().toString().padStart(2,"0"),f=r.getFullYear().toString().slice(-2);return`${o}/${D}/${f}`}Ft(()=>{console.log("running"),console.log(e.journeyData.journeyID),e.journeyData.journeyID&&_(e.journeyData.journeyID)});var h=nr(),A=i(h),b=i(A);b.__click=[ar,d,e,_],n(A);var y=v(A,2);mt(y,21,()=>t,gt,(a,r,o)=>{var D=xe(),f=we(D);{var S=V=>{var z=or(),F=i(z);F.__click=()=>C(s(r).cardID,o);var U=v(F,2),Q=i(U),oe=i(Q),Y=i(oe),ue=i(Y);n(Y);var Z=v(Y,2),fe=i(Z,!0);n(Z),n(oe),n(Q);var ne=v(Q,2),pe=i(ne);G(pe,"for",`grindSetting${o+1}`);var me=v(pe,2),H=v(i(me),2);Ze(H),G(H,"id",`grindSetting${o+1}`),n(me),n(ne);var $=v(ne,2),ee=i($);G(ee,"for",`grindAmount${o+1}`);var Ce=v(ee,2),X=v(i(Ce),2);Ze(X),G(X,"id",`grindAmount${o+1}`),n(Ce),n($);var O=v($,2),te=i(O);G(te,"for",`shotTime${o+1}`);var ke=i(te,!0);n(te);var ge=v(te,2),c=v(i(ge),2);Ze(c),G(c,"id",`shotTime${o+1}`),n(ge),n(O);var P=v(O,2),re=i(P);G(re,"for",`notes${o+1}`);var Se=v(re,2),ie=v(i(Se),2);Nt(ie),G(ie,"id",`notes${o+1}`),n(Se),n(P),n(U),n(z),be((B,m)=>{ce(ue,`Iteration #${s(r).iteration??""}`),ce(fe,B),ce(ke,m)},[()=>k(s(r).datePosted),()=>e.drink&&e.drink.toLowerCase()==="coffee"?"Brew Time":"Shot Time"]),W("focus",H,()=>x(o,"grindSetting")),W("blur",H,()=>E(o,"grindSetting")),Re(H,()=>s(r).grindSetting,B=>s(r).grindSetting=B),W("focus",X,()=>x(o,"grindAmount")),W("blur",X,()=>E(o,"grindAmount")),Re(X,()=>s(r).grindAmount,B=>s(r).grindAmount=B),W("focus",c,()=>x(o,"shotTime")),W("blur",c,()=>E(o,"shotTime")),Re(c,()=>s(r).shotTime,B=>s(r).shotTime=B),W("focus",ie,()=>x(o,"notes")),W("blur",ie,()=>E(o,"notes")),Re(ie,()=>s(r).notes,B=>s(r).notes=B),I(V,z)};je(f,V=>{s(r).cardID!==""&&V(S)})}I(a,D)}),n(y),n(h),I(l,h),Le()}vt(["click"]);var sr=L('<div class="w-full flex justify-center items-center p-10"><div class="border-4 border-transparent border-t-primary-500 rounded-full w-10 h-10 animate-spin"></div></div>'),lr=(l,e,d)=>{l.stopPropagation(),e(s(d).id)},dr=(l,e,d)=>{l.key==="Enter"&&(l.stopPropagation(),e(s(d).id))},cr=L('<div class="flex-shrink-0"><span class="btn-icon variant-filled-primary cursor-pointer" tabindex="0" role="button" aria-label="Delete journey">delete</span></div>'),vr=L('<div class="py-0 px-3 rounded-md flex items-center justify-between w-full h-10"><div class="flex items-center space-x-3 overflow-hidden max-w-[calc(100%-4rem)]"><p class="whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-shrink-0"> </p> <div class="h-3 border-r border-slate-300 flex-shrink-0"></div> <p class="overflow-hidden text-ellipsis whitespace-nowrap bg-primary-500/80 px-2 py-0.5 rounded text-white text-sm flex-1 min-w-0"> </p></div></div>'),ur=L('<div class="w-full"><div class="w-full rounded-md"><div class="flex items-center justify-center"><div class="flex items-center space-x-3 flex-wrap"><p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p> <div class="h-4 border-r border-slate-300"></div> <p class="whitespace-nowrap"> </p></div></div></div> <div class="flex justify-center w-full"><div class="w-full md:w-3/4"><!></div></div></div>'),fr=L('<div class="w-full text-center p-10 border border-primary-200 rounded-lg bg-tertiary-900/50"><p class="text-xl font-semibold text-tertiary-200">No Notes</p> <p class="mt-2 text-tertiary-400">No coffee records have been created yet!?</p> <a href="/" class="btn variant-filled-primary mt-6">Get a setting recommendation</a></div>'),pr=L('<div class="flex-col w-full"><div class="flex justify-center items-center w-full p-0"><form class="toDoForm"><div class="flex gap-4 py-4"><p class="label-wrapper">Filter by:</p> <select id="drink" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a drink</option><option>Espresso</option><option>Coffee</option></select> <select id="grinder" class="select w-full px-3 py-2 border rounded min-h-10 min-w-30"><option>Select a grinder</option><option>DF 54</option><option>DF 64</option><option>Baratza Encore</option><option>Baratza Encore ESP</option><option>Baratza Sette 270</option><option>Baratza Virtuoso</option><option>Breville Smart Grinder Pro</option><option>Eureka Mignon Specialita</option><option>1Zpresso JX Pro</option></select></div></form></div> <div class="flex flex-row w-full justify-start overflow-hidden"><div class="flex flex-col items-start w-full overflow-hidden mx-auto md:w-3/4 md:mx-0"><!></div> <div class="hidden md:block w-1/4 relative"><div class="p-4"><img alt="Espresso Machine" class="w-full max-w-xs mx-auto drop-shadow-xl svelte-tk50mu"></div></div></div></div>');function mr(l,e){qe(e,!0);let d=ze(!0),t=ze(""),g=ze(""),u=!1;typeof window<"u"&&(u=window.innerWidth<768,window.addEventListener("resize",()=>{u=window.innerWidth<768}));let j=ze(Ne([])),x=Ke(()=>s(j).filter(c=>(s(t)?c.drink===s(t):!0)&&(s(g)?c.grinder===s(g):!0)));const E=["/images/espresso1.jpg","/images/espresso2.jpg","/images/espresso3.jpg"],C="/images/espresso_machine.png";let _=ze(-1);function q(c){return E[c%E.length]}function k(c){return{journeyID:c.id}}function h(c,P){return c?c.length>P?c.substring(0,P)+"...":c:""}function A(c){return u?h(c,16):h(c,40)}const b=async c=>{try{const P=await fetch("/journeyDelete",{method:"Post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});if(P.ok){const re=await P.json();console.log("Journey deleted:",re),y()}else{const re=await P.json();console.error("Failed to delete journey:",re.message)}}catch(P){console.error("Error deleting journey:",P)}},y=async()=>{K(d,!0);try{const c=await fetch("/archiveSetup",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(c.ok){const P=await c.json();console.log("Archive:",P),K(j,Ne(P.journeys||[])),console.log("journeys:",s(j))}else{const P=await c.json();console.error("Failed to fetch journeys:",P.message)}}catch(c){console.error("Error fetching journeys:",c)}finally{K(d,!1)}},a=c=>{c.preventDefault()};Gt(()=>{y()});var r=pr(),o=i(r),D=i(o),f=i(D),S=v(i(f),2),V=i(S);V.value=((V.__value="")==null,"");var z=v(V);z.value=(z.__value="Espresso")==null?"":"Espresso";var F=v(z);F.value=(F.__value="Coffee")==null?"":"Coffee",n(S);var U=v(S,2),Q=i(U);Q.value=((Q.__value="")==null,"");var oe=v(Q);oe.value=(oe.__value="DF 54")==null?"":"DF 54";var Y=v(oe);Y.value=(Y.__value="DF 64")==null?"":"DF 64";var ue=v(Y);ue.value=(ue.__value="Baratza Encore")==null?"":"Baratza Encore";var Z=v(ue);Z.value=(Z.__value="Baratza Encore ESP")==null?"":"Baratza Encore ESP";var fe=v(Z);fe.value=(fe.__value="Baratza Sette 270")==null?"":"Baratza Sette 270";var ne=v(fe);ne.value=(ne.__value="Baratza Virtuoso")==null?"":"Baratza Virtuoso";var pe=v(ne);pe.value=(pe.__value="Breville Smart Grinder Pro")==null?"":"Breville Smart Grinder Pro";var me=v(pe);me.value=(me.__value="Eureka Mignon Specialita")==null?"":"Eureka Mignon Specialita";var H=v(me);H.value=(H.__value="1Zpresso JX Pro")==null?"":"1Zpresso JX Pro",n(U),n(f),n(D),n(o);var $=v(o,2),ee=i($),Ce=i(ee);{var X=c=>{var P=sr();I(c,P)},O=c=>{var P=xe(),re=we(P);{var Se=B=>{Qt(B,{class:"w-full overflow-hidden",children:(m,w)=>{var ae=xe(),Ee=we(ae);mt(Ee,17,()=>s(x),gt,(Ae,N,_e)=>{const Oe=Ke(()=>s(_)===_e);rr(Ae,{get open(){return s(Oe)},class:"mb-0",children:(se,ye)=>{var J=cr(),le=i(J);le.__click=[lr,b,N],le.__keydown=[dr,b,N],n(J),I(se,J)},$$slots:{default:!0,summary:(se,ye)=>{var J=vr(),le=i(J),Ie=i(le),Je=i(Ie,!0);n(Ie);var De=v(Ie,4),Ve=i(De,!0);n(De),n(le),n(J),be((Fe,We)=>{G(J,"style",`background-image: url(${Fe??""}); background-size: cover; background-position: center;`),ce(Je,s(N).drink),ce(Ve,We)},[()=>q(_e),()=>A(s(N).coffeeBeans)]),I(se,J)},content:(se,ye)=>{var J=ur(),le=i(J),Ie=i(le),Je=i(Ie),De=i(Je),Ve=i(De,!0);n(De);var Fe=v(De,4),We=i(Fe,!0);n(Fe);var Ue=v(Fe,4),yt=i(Ue,!0);n(Ue);var Ye=v(Ue,4),ht=i(Ye,!0);n(Ye),n(Je),n(Ie),n(le);var He=v(le,2),$e=i(He),bt=i($e);const wt=Ke(()=>k(s(N)));ir(bt,{get journeyData(){return s(wt)},get drink(){return s(N).drink}}),n($e),n(He),n(J),be(()=>{ce(Ve,s(N).drink),ce(We,s(N).coffeeBeans),ce(yt,s(N).grinder),ce(ht,s(N).brewingDevice)}),I(se,J)}}})}),I(m,ae)},$$slots:{default:!0}})},ie=B=>{var m=fr();I(B,m)};je(re,B=>{s(x).length>0?B(Se):B(ie,!1)},!0)}I(c,P)};je(Ce,c=>{s(d)?c(X):c(O,!1)})}n(ee);var te=v(ee,2),ke=i(te),ge=i(ke);G(ge,"src",C),n(ke),n(te),n($),n(r),W("submit",D,a),ot(S,()=>s(t),c=>K(t,c)),ot(U,()=>s(g),c=>K(g,c)),I(l,r),Le()}vt(["click","keydown"]);var gr=L("<!> <!>",1);function Dr(l){var e=gr(),d=we(e);Mt(d,{});var t=v(d,2);mr(t,{}),I(l,e)}export{Dr as component};
