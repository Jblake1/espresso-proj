import{g as ne,h as T,j as ie,k as z,m as fe,H as ue,n as G,o as q,p as H,t as w,v as le,w as U,x as X,y as te,I as M,z as W,A as J,B as K,C as ve,D as P,d as se,E as R,F as de,G as _e,J as oe,K as ce,L as D,M as he,N as pe,O as Ee,P as me,Q as Z,q as Ae,R as be,e as $}from"./xMGjtuDS.js";import{l as xe}from"./BihhDYK3.js";import{i as Ie}from"./D6qpmcv_.js";function qe(r,e){return e}function Te(r,e,a,f){for(var u=[],v=e.length,s=0;s<v;s++)de(e[s].e,u,!0);var o=v>0&&u.length===0&&a!==null;if(o){var m=a.parentNode;_e(m),m.append(a),f.clear(),I(r,e[0].prev,e[v-1].next)}oe(u,()=>{for(var h=0;h<v;h++){var _=e[h];o||(f.delete(_.k),I(r,_.prev,_.next)),ce(_.e,!o)}})}function He(r,e,a,f,u,v=null){var s=r,o={flags:e,items:new Map,first:null},m=(e&Z)!==0;if(m){var h=r;s=T?q(Ee(h)):h.appendChild(me())}T&&ie();var _=null,S=!1,l=fe(()=>{var d=a();return se(d)?d:d==null?[]:W(d)});ne(()=>{var d=z(l),n=d.length;if(S&&n===0)return;S=n===0;let b=!1;if(T){var p=s.data===ue;p!==(n===0)&&(s=G(),q(s),H(!1),b=!0)}if(T){for(var E=null,A,c=0;c<n;c++){if(w.nodeType===8&&w.data===le){s=w,b=!0,H(!1);break}var i=d[c],t=f(i,c);A=j(w,o,E,null,i,t,c,u,e,a),o.items.set(t,A),E=A}n>0&&q(G())}T||Se(d,o,s,u,e,f,a),v!==null&&(n===0?_?U(_):_=X(()=>v(s)):_!==null&&te(_,()=>{_=null})),b&&H(!0),z(l)}),T&&(s=w)}function Se(r,e,a,f,u,v,s){var L,B,F,V;var o=(u&be)!==0,m=(u&(D|R))!==0,h=r.length,_=e.items,S=e.first,l=S,d,n=null,b,p=[],E=[],A,c,i,t;if(o)for(t=0;t<h;t+=1)A=r[t],c=v(A,t),i=_.get(c),i!==void 0&&((L=i.a)==null||L.measure(),(b??(b=new Set)).add(i));for(t=0;t<h;t+=1){if(A=r[t],c=v(A,t),i=_.get(c),i===void 0){var re=l?l.e.nodes_start:a;n=j(re,e,n,n===null?e.first:n.next,A,c,t,f,u,s),_.set(c,n),p=[],E=[],l=n.next;continue}if(m&&ge(i,A,t,u),i.e.f&M&&(U(i.e),o&&((B=i.a)==null||B.unfix(),(b??(b=new Set)).delete(i))),i!==l){if(d!==void 0&&d.has(i)){if(p.length<E.length){var C=E[0],x;n=C.prev;var O=p[0],N=p[p.length-1];for(x=0;x<p.length;x+=1)Q(p[x],C,a);for(x=0;x<E.length;x+=1)d.delete(E[x]);I(e,O.prev,N.next),I(e,n,O),I(e,N,C),l=C,n=N,t-=1,p=[],E=[]}else d.delete(i),Q(i,l,a),I(e,i.prev,i.next),I(e,i,n===null?e.first:n.next),I(e,n,i),n=i;continue}for(p=[],E=[];l!==null&&l.k!==c;)l.e.f&M||(d??(d=new Set)).add(l),E.push(l),l=l.next;if(l===null)continue;i=l}p.push(i),n=i,l=i.next}if(l!==null||d!==void 0){for(var g=d===void 0?[]:W(d);l!==null;)l.e.f&M||g.push(l),l=l.next;var k=g.length;if(k>0){var ae=u&Z&&h===0?a:null;if(o){for(t=0;t<k;t+=1)(F=g[t].a)==null||F.measure();for(t=0;t<k;t+=1)(V=g[t].a)==null||V.fix()}Te(e,g,ae,_)}}o&&Ae(()=>{var Y;if(b!==void 0)for(i of b)(Y=i.a)==null||Y.apply()}),J.first=e.first&&e.first.e,J.last=n&&n.e}function ge(r,e,a,f){f&D&&K(r.v,e),f&R?K(r.i,a):r.i=a}function j(r,e,a,f,u,v,s,o,m,h){var _=(m&D)!==0,S=(m&he)===0,l=_?S?ve(u):P(u):u,d=m&R?P(s):s,n={i:d,v:l,k:v,a:null,e:null,prev:a,next:f};try{return n.e=X(()=>o(r,l,d,h),T),n.e.prev=a&&a.e,n.e.next=f&&f.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),f!==null&&(f.prev=n,f.e.prev=n.e),n}finally{}}function Q(r,e,a){for(var f=r.next?r.next.e.nodes_start:a,u=e?e.e.nodes_start:a,v=r.e.nodes_start;v!==f;){var s=pe(v);u.before(v),v=s}}function I(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function ee(r,e,a){if(r.multiple)return ye(r,e);for(var f of r.options){var u=y(f);if(Ie(u,e)){f.selected=!0;return}}(!a||e!==void 0)&&(r.selectedIndex=-1)}function we(r,e){$(()=>{var a=new MutationObserver(()=>{var f=r.__value;ee(r,f)});return a.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Me(r,e,a=e){var f=!0;xe(r,"change",u=>{var v=u?"[selected]":":checked",s;if(r.multiple)s=[].map.call(r.querySelectorAll(v),y);else{var o=r.querySelector(v)??r.querySelector("option:not([disabled])");s=o&&y(o)}a(s)}),$(()=>{var u=e();if(ee(r,u,f),f&&u===void 0){var v=r.querySelector(":checked");v!==null&&(u=y(v),a(u))}r.__value=u,f=!1}),we(r)}function ye(r,e){for(var a of r.options)a.selected=~e.indexOf(y(a))}function y(r){return"__value"in r?r.__value:r.value}export{Me as b,He as e,qe as i};
