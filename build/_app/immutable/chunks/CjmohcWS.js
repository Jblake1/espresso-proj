import{h as X,a as Y,aK as R,R as j,aL as B}from"./CnD81IVH.js";import{s as G}from"./CarXI23m.js";function ie(e,t,r,i,p){var f;X&&Y();var u=(f=t.$$slots)==null?void 0:f[r],c=!1;u===!0&&(u=t[r==="default"?"children":r],c=!0),u===void 0?p!==null&&p(e):u(e,c?()=>i:i)}function ae(e){const t={};e.children&&(t.default=!0);for(const r in e.$$slots)t[r]=!0;return t}const Z=R(void 0);function ue(e,t){const{computePosition:r,autoUpdate:i,offset:p,shift:u,flip:c,arrow:f,size:E,autoPlacement:d,hide:m,inline:b}=j(Z),s={open:!1,autoUpdateCleanup:()=>{}},U=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let y;const w="https://www.skeleton.dev/utilities/popups";let n,S;function C(){n=document.querySelector(`[data-popup="${t.target}"]`)??document.createElement("div"),S=n.querySelector(".arrow")??document.createElement("div")}C();function $(){var a,h,v,I,D,F,O,q;if(!n)throw new Error(`The data-popup="${t.target}" element was not found. ${w}`);if(!r)throw new Error(`Floating UI 'computePosition' not found for data-popup="${t.target}". ${w}`);if(!p)throw new Error(`Floating UI 'offset' not found for data-popup="${t.target}". ${w}`);if(!u)throw new Error(`Floating UI 'shift' not found for data-popup="${t.target}". ${w}`);if(!c)throw new Error(`Floating UI 'flip' not found for data-popup="${t.target}". ${w}`);if(!f)throw new Error(`Floating UI 'arrow' not found for data-popup="${t.target}". ${w}`);const o=[];E&&o.push(E((a=t.middleware)==null?void 0:a.size)),d&&o.push(d((h=t.middleware)==null?void 0:h.autoPlacement)),m&&o.push(m((v=t.middleware)==null?void 0:v.hide)),b&&o.push(b((I=t.middleware)==null?void 0:I.inline)),r(e,n,{placement:t.placement??"bottom",middleware:[p(((D=t.middleware)==null?void 0:D.offset)??8),u(((F=t.middleware)==null?void 0:F.shift)??{padding:8}),c((O=t.middleware)==null?void 0:O.flip),f(((q=t.middleware)==null?void 0:q.arrow)??{element:S||null}),...o]}).then(({x:K,y:V,placement:W,middlewareData:_})=>{if(Object.assign(n.style,{left:`${K}px`,top:`${V}px`}),S){const{x:z,y:Q}=_.arrow,J={top:"bottom",right:"left",bottom:"top",left:"right"}[W.split("-")[0]];Object.assign(S.style,{left:z!=null?`${z}px`:"",top:Q!=null?`${Q}px`:"",right:"",bottom:"",[J]:"-4px"})}})}function L(){n&&(s.open=!0,t.state&&t.state({state:s.open}),$(),n.style.display="block",n.style.opacity="1",n.style.pointerEvents="auto",n.removeAttribute("inert"),s.autoUpdateCleanup=i(e,n,$),y=Array.from(n==null?void 0:n.querySelectorAll(U)))}function l(o){if(!n)return;const a=parseFloat(window.getComputedStyle(n).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{s.open=!1,t.state&&t.state({state:s.open}),n.style.opacity="0",n.setAttribute("inert",""),s.autoUpdateCleanup&&s.autoUpdateCleanup(),o&&o()},a)}function k(){s.open===!1?L():l()}function P(o){!e.contains(o.target)&&!n.contains(o.target)&&l()}function M(o){if(s.open===!1||e.contains(o.target))return;if(n&&n.contains(o.target)===!1){const v=window.getSelection();v&&v.toString().length==0&&l();return}const a=t.closeQuery===void 0?"a[href], button":t.closeQuery;if(a==="")return;const h=n==null?void 0:n.querySelectorAll(a);h==null||h.forEach(v=>{v.contains(o.target)&&l()})}const A=o=>{if(s.open===!1)return;const a=o.key;if(a==="Escape"){o.preventDefault(),e.focus(),l();return}y=Array.from(n==null?void 0:n.querySelectorAll(U)),s.open&&document.activeElement===e&&(a==="ArrowDown"||a==="Tab")&&U.length>0&&y.length>0&&(o.preventDefault(),y[0].focus())};switch(t.event){case"click":e.addEventListener("click",k,!0),window.addEventListener("mouseup",P,!0),window.addEventListener("click",M,!0);break;case"hover":e.addEventListener("mouseover",L,!0),e.addEventListener("mouseleave",()=>l(),!0);break;case"focus-blur":e.addEventListener("focus",k,!0),e.addEventListener("blur",()=>l(),!0);break;case"focus-click":e.addEventListener("focus",L,!0),window.addEventListener("click",M,!0);break;default:throw new Error(`Event value of '${t.event}' is not supported. ${w}`)}return window.addEventListener("keydown",A,!0),$(),{update(o){l(()=>{t=o,$(),C()})},destroy(){e.removeEventListener("click",k,!0),e.removeEventListener("mouseover",L,!0),e.removeEventListener("mouseleave",()=>l(),!0),e.removeEventListener("focus",k,!0),e.removeEventListener("focus",L,!0),e.removeEventListener("blur",()=>l(),!0),window.removeEventListener("click",M,!0),window.removeEventListener("mouseup",P,!0),window.removeEventListener("keydown",A,!0)}}}const g={};function T(e){return e==="local"?localStorage:sessionStorage}function x(e,t,r){const i=JSON,p="local";function u(c,f){T(p).setItem(c,i.stringify(f))}if(!g[e]){const c=R(t,d=>{const m=T(p).getItem(e);m&&d(i.parse(m));{const b=s=>{s.key===e&&d(s.newValue?i.parse(s.newValue):null)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)}}),{subscribe:f,set:E}=c;g[e]={set(d){u(e,d),E(d)},update(d){const m=d(j(c));u(e,m),E(m)},subscribe:f}}return g[e]}const N=x("modeOsPrefers",!1),ee=x("modeUserPrefers",void 0),te=x("modeCurrent",!1);function ce(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return N.set(e),e}function de(e){ee.set(e)}function le(e){const t=document.documentElement.classList,r="dark";e===!0?t.remove(r):t.add(r),te.set(e)}function fe(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",r=!("modeUserPrefers"in localStorage),i=window.matchMedia("(prefers-color-scheme: dark)").matches;t||r&&i?e.add("dark"):e.remove("dark")}const H="(prefers-reduced-motion: reduce)";function ne(){return window.matchMedia(H).matches}const pe=B(ne(),e=>{{const t=i=>{e(i.matches)},r=window.matchMedia(H);return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}}}),oe=()=>{const e=G;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},me={subscribe(e){return oe().page.subscribe(e)}};export{ie as a,pe as b,ae as c,le as d,de as e,fe as f,ce as g,ue as h,te as m,me as p,Z as s};
