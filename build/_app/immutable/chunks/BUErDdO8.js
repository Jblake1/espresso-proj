import{h as y,a as B,aK as j,R,aL as G}from"./CnD81IVH.js";import{s as Z}from"./Bzf_AbSS.js";function ie(e,t,r,a,s){var p;y&&B();var u=(p=t.$$slots)==null?void 0:p[r],l=!1;u===!0&&(u=t[r==="default"?"children":r],l=!0),u===void 0?s!==null&&s(e):u(e,l?()=>a:a)}function ce(e){const t={};e.children&&(t.default=!0);for(const r in e.$$slots)t[r]=!0;return t}function ue(e,t,r){var a=e.__className,s=H(t);y&&e.getAttribute("class")===s?e.__className=s:(a!==s||y&&e.getAttribute("class")!==s)&&(s===""?e.removeAttribute("class"):e.setAttribute("class",s),e.__className=s)}function le(e,t,r){var a=e.__className,s=H(t);y&&e.className===s?e.__className=s:(a!==s||y&&e.className!==s)&&(t==null?e.removeAttribute("class"):e.className=s,e.__className=s)}function H(e,t){return(e??"")+""}const N=j(void 0);function de(e,t){const{computePosition:r,autoUpdate:a,offset:s,shift:u,flip:l,arrow:p,size:b,autoPlacement:d,hide:m,inline:E}=R(N),i={open:!1,autoUpdateCleanup:()=>{}},U=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let S;const w="https://www.skeleton.dev/utilities/popups";let n,_;function x(){n=document.querySelector(`[data-popup="${t.target}"]`)??document.createElement("div"),_=n.querySelector(".arrow")??document.createElement("div")}x();function $(){var c,h,v,I,D,F,O,q;if(!n)throw new Error(`The data-popup="${t.target}" element was not found. ${w}`);if(!r)throw new Error(`Floating UI 'computePosition' not found for data-popup="${t.target}". ${w}`);if(!s)throw new Error(`Floating UI 'offset' not found for data-popup="${t.target}". ${w}`);if(!u)throw new Error(`Floating UI 'shift' not found for data-popup="${t.target}". ${w}`);if(!l)throw new Error(`Floating UI 'flip' not found for data-popup="${t.target}". ${w}`);if(!p)throw new Error(`Floating UI 'arrow' not found for data-popup="${t.target}". ${w}`);const o=[];b&&o.push(b((c=t.middleware)==null?void 0:c.size)),d&&o.push(d((h=t.middleware)==null?void 0:h.autoPlacement)),m&&o.push(m((v=t.middleware)==null?void 0:v.hide)),E&&o.push(E((I=t.middleware)==null?void 0:I.inline)),r(e,n,{placement:t.placement??"bottom",middleware:[s(((D=t.middleware)==null?void 0:D.offset)??8),u(((F=t.middleware)==null?void 0:F.shift)??{padding:8}),l((O=t.middleware)==null?void 0:O.flip),p(((q=t.middleware)==null?void 0:q.arrow)??{element:_||null}),...o]}).then(({x:V,y:W,placement:J,middlewareData:X})=>{if(Object.assign(n.style,{left:`${V}px`,top:`${W}px`}),_){const{x:z,y:Q}=X.arrow,Y={top:"bottom",right:"left",bottom:"top",left:"right"}[J.split("-")[0]];Object.assign(_.style,{left:z!=null?`${z}px`:"",top:Q!=null?`${Q}px`:"",right:"",bottom:"",[Y]:"-4px"})}})}function L(){n&&(i.open=!0,t.state&&t.state({state:i.open}),$(),n.style.display="block",n.style.opacity="1",n.style.pointerEvents="auto",n.removeAttribute("inert"),i.autoUpdateCleanup=a(e,n,$),S=Array.from(n==null?void 0:n.querySelectorAll(U)))}function f(o){if(!n)return;const c=parseFloat(window.getComputedStyle(n).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{i.open=!1,t.state&&t.state({state:i.open}),n.style.opacity="0",n.setAttribute("inert",""),i.autoUpdateCleanup&&i.autoUpdateCleanup(),o&&o()},c)}function k(){i.open===!1?L():f()}function C(o){!e.contains(o.target)&&!n.contains(o.target)&&f()}function M(o){if(i.open===!1||e.contains(o.target))return;if(n&&n.contains(o.target)===!1){const v=window.getSelection();v&&v.toString().length==0&&f();return}const c=t.closeQuery===void 0?"a[href], button":t.closeQuery;if(c==="")return;const h=n==null?void 0:n.querySelectorAll(c);h==null||h.forEach(v=>{v.contains(o.target)&&f()})}const P=o=>{if(i.open===!1)return;const c=o.key;if(c==="Escape"){o.preventDefault(),e.focus(),f();return}S=Array.from(n==null?void 0:n.querySelectorAll(U)),i.open&&document.activeElement===e&&(c==="ArrowDown"||c==="Tab")&&U.length>0&&S.length>0&&(o.preventDefault(),S[0].focus())};switch(t.event){case"click":e.addEventListener("click",k,!0),window.addEventListener("mouseup",C,!0),window.addEventListener("click",M,!0);break;case"hover":e.addEventListener("mouseover",L,!0),e.addEventListener("mouseleave",()=>f(),!0);break;case"focus-blur":e.addEventListener("focus",k,!0),e.addEventListener("blur",()=>f(),!0);break;case"focus-click":e.addEventListener("focus",L,!0),window.addEventListener("click",M,!0);break;default:throw new Error(`Event value of '${t.event}' is not supported. ${w}`)}return window.addEventListener("keydown",P,!0),$(),{update(o){f(()=>{t=o,$(),x()})},destroy(){e.removeEventListener("click",k,!0),e.removeEventListener("mouseover",L,!0),e.removeEventListener("mouseleave",()=>f(),!0),e.removeEventListener("focus",k,!0),e.removeEventListener("focus",L,!0),e.removeEventListener("blur",()=>f(),!0),window.removeEventListener("click",M,!0),window.removeEventListener("mouseup",C,!0),window.removeEventListener("keydown",P,!0)}}}const g={};function T(e){return e==="local"?localStorage:sessionStorage}function A(e,t,r){const a=JSON,s="local";function u(l,p){T(s).setItem(l,a.stringify(p))}if(!g[e]){const l=j(t,d=>{const m=T(s).getItem(e);m&&d(a.parse(m));{const E=i=>{i.key===e&&d(i.newValue?a.parse(i.newValue):null)};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)}}),{subscribe:p,set:b}=l;g[e]={set(d){u(e,d),b(d)},update(d){const m=d(R(l));u(e,m),b(m)},subscribe:p}}return g[e]}const ee=A("modeOsPrefers",!1),te=A("modeUserPrefers",void 0),ne=A("modeCurrent",!1);function fe(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return ee.set(e),e}function pe(e){te.set(e)}function me(e){const t=document.documentElement.classList,r="dark";e===!0?t.remove(r):t.add(r),ne.set(e)}function we(){const e=document.documentElement.classList,t=localStorage.getItem("modeUserPrefers")==="false",r=!("modeUserPrefers"in localStorage),a=window.matchMedia("(prefers-color-scheme: dark)").matches;t||r&&a?e.add("dark"):e.remove("dark")}const K="(prefers-reduced-motion: reduce)";function se(){return window.matchMedia(K).matches}const he=G(se(),e=>{{const t=a=>{e(a.matches)},r=window.matchMedia(K);return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}}}),oe=()=>{const e=Z;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},ve={subscribe(e){return oe().page.subscribe(e)}};export{ie as a,le as b,he as c,ce as d,ue as e,me as f,fe as g,pe as h,we as i,de as j,ne as m,ve as p,N as s};
